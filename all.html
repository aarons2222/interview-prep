<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Interview Prep - Complete Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            min-height: 100vh;
            line-height: 1.7;
        }
        
        /* Fixed Nav */
        .top-nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding: 12px 20px;
            z-index: 1000;
            display: flex;
            justify-content: center;
            gap: 8px;
            flex-wrap: wrap;
        }
        
        .nav-btn {
            padding: 8px 16px;
            border-radius: 20px;
            border: none;
            background: rgba(255,255,255,0.05);
            color: #94a3b8;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        
        .nav-btn:hover {
            background: rgba(255,255,255,0.1);
            color: #fff;
        }
        
        .nav-btn.active {
            background: rgba(168, 85, 247, 0.3);
            color: #a855f7;
        }
        
        /* Main Content */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 80px 20px 40px;
        }
        
        .section {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        .section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #a855f7, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            color: #64748b;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }
        
        h2 {
            font-size: 1.5rem;
            margin: 40px 0 20px;
            color: #f8fafc;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(168, 85, 247, 0.3);
        }
        
        h3 {
            font-size: 1.2rem;
            margin: 30px 0 15px;
            color: #e2e8f0;
        }
        
        h4 {
            font-size: 1rem;
            margin: 20px 0 10px;
            color: #cbd5e1;
        }
        
        p {
            margin-bottom: 16px;
            color: #cbd5e1;
        }
        
        ul, ol {
            margin: 16px 0;
            padding-left: 24px;
        }
        
        li {
            margin-bottom: 8px;
            color: #cbd5e1;
        }
        
        code {
            background: rgba(0, 0, 0, 0.4);
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9em;
            color: #fbbf24;
        }
        
        pre {
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            border-radius: 12px;
            overflow-x: auto;
            margin: 20px 0;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        pre code {
            background: none;
            padding: 0;
            color: #e2e8f0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        th {
            color: #94a3b8;
            font-weight: 500;
            font-size: 0.85rem;
            text-transform: uppercase;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            border: 1px solid rgba(255, 255, 255, 0.06);
        }
        
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 16px;
            margin: 20px 0;
        }
        
        .highlight {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(236, 72, 153, 0.1));
            border: 1px solid rgba(168, 85, 247, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .warning {
            background: rgba(239, 68, 68, 0.1);
            border-left: 4px solid #ef4444;
            padding: 16px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .tip {
            background: rgba(34, 197, 94, 0.1);
            border-left: 4px solid #22c55e;
            padding: 16px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .diagram {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 24px;
            margin: 20px 0;
            text-align: center;
            font-family: 'Monaco', monospace;
            font-size: 0.9rem;
            line-height: 2;
            overflow-x: auto;
        }
        
        .key { color: #fbbf24; font-weight: 600; }
        .android { color: #3ddc84; }
        .ios { color: #007aff; }
        
        /* Q&A Accordion */
        .qa {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            margin-bottom: 12px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.06);
        }
        
        .question {
            padding: 16px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 500;
        }
        
        .question:hover {
            background: rgba(255, 255, 255, 0.05);
        }
        
        .question::after {
            content: "+";
            font-size: 1.5rem;
            color: #666;
        }
        
        .qa.open .question::after {
            content: "‚àí";
        }
        
        .answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s;
        }
        
        .qa.open .answer {
            max-height: 1000px;
        }
        
        .answer-content {
            padding: 16px 20px;
            background: rgba(0, 0, 0, 0.2);
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        /* Code tabs */
        .code-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: -1px;
        }
        
        .code-tab {
            padding: 8px 16px;
            border: none;
            background: rgba(255,255,255,0.05);
            color: #94a3b8;
            cursor: pointer;
            border-radius: 8px 8px 0 0;
        }
        
        .code-tab.active {
            background: rgba(0, 0, 0, 0.4);
            color: #fff;
        }
        
        .code-panel {
            display: none;
        }
        
        .code-panel.active {
            display: block;
        }
        
        /* Quick ref boxes */
        .quick-box {
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .quick-box h4 {
            color: #a855f7;
            margin-bottom: 12px;
        }
        
        /* Print styles */
        @media print {
            .top-nav { display: none; }
            .container { padding-top: 20px; }
            .section { display: block !important; page-break-before: always; }
            body { background: white; color: black; }
        }
    </style>
</head>
<body>
    <nav class="top-nav">
        <button class="nav-btn active" onclick="showSection('cheatsheet')">üìã Cheat Sheet</button>
        <button class="nav-btn" onclick="showSection('android')">ü§ñ Android</button>
        <button class="nav-btn" onclick="showSection('ios')">üçé iOS</button>
        <button class="nav-btn" onclick="showSection('general')">üåê General</button>
        <button class="nav-btn" onclick="showSection('qa')">‚ùì Q&A</button>
        <button class="nav-btn" onclick="showSection('patterns')">üíª Code</button>
        <a href="index.html" class="nav-btn">üéØ Quiz</a>
    </nav>

    <div class="container">
        
        <!-- ==================== CHEAT SHEET ==================== -->
        <div id="cheatsheet" class="section active">
            <h1>üìã Quick Reference Cheat Sheet</h1>
            <p class="subtitle">Everything you need at a glance</p>
            
            <h2>ü§ñ Android Essentials</h2>
            
            <h3>Activity Lifecycle</h3>
            <div class="diagram">
                <span style="color:#22c55e">onCreate</span> ‚Üí 
                <span style="color:#22c55e">onStart</span> ‚Üí 
                <span style="color:#22c55e">onResume</span> ‚Üí 
                <span style="color:#fbbf24">[RUNNING]</span> ‚Üí 
                <span style="color:#22c55e">onPause</span> ‚Üí 
                <span style="color:#22c55e">onStop</span> ‚Üí 
                <span style="color:#22c55e">onDestroy</span>
            </div>
            
            <div class="card-grid">
                <div class="card">
                    <h4>onCreate</h4>
                    <p>Initialize UI, setContentView, bind views, restore state</p>
                </div>
                <div class="card">
                    <h4>onStart</h4>
                    <p>Becoming visible, not interactive yet</p>
                </div>
                <div class="card">
                    <h4>onResume</h4>
                    <p>Foreground, interactive ‚Äî start camera, animations</p>
                </div>
                <div class="card">
                    <h4>onPause</h4>
                    <p>Losing focus ‚Äî pause video, save drafts (keep it fast!)</p>
                </div>
                <div class="card">
                    <h4>onStop</h4>
                    <p>No longer visible ‚Äî release resources, save data</p>
                </div>
                <div class="card">
                    <h4>onDestroy</h4>
                    <p>Being killed ‚Äî final cleanup</p>
                </div>
            </div>
            
            <div class="quick-box">
                <h4>Common Scenarios</h4>
                <table>
                    <tr><td><strong>Home button</strong></td><td>onPause ‚Üí onStop</td></tr>
                    <tr><td><strong>Back button</strong></td><td>onPause ‚Üí onStop ‚Üí onDestroy</td></tr>
                    <tr><td><strong>Rotation</strong></td><td>Full destroy ‚Üí recreate (save state!)</td></tr>
                    <tr><td><strong>Dialog appears</strong></td><td>onPause only (still visible)</td></tr>
                </table>
            </div>
            
            <h3>The 4 Components</h3>
            <table>
                <tr><th>Component</th><th>Purpose</th><th>Started By</th></tr>
                <tr><td><span class="key">Activity</span></td><td>Single screen with UI</td><td>Intent</td></tr>
                <tr><td><span class="key">Service</span></td><td>Background work, no UI</td><td>startService / bindService</td></tr>
                <tr><td><span class="key">BroadcastReceiver</span></td><td>Responds to system events</td><td>sendBroadcast / system</td></tr>
                <tr><td><span class="key">ContentProvider</span></td><td>Share data between apps</td><td>ContentResolver</td></tr>
            </table>
            
            <div class="highlight">
                <strong>Started vs Bound Service:</strong><br>
                <strong>Started</strong> = fire and forget, runs independently (music player)<br>
                <strong>Bound</strong> = client-server connection, dies when all unbind
            </div>
            
            <h3>Threading Rules</h3>
            <div class="warning">
                <strong>‚ùå Never touch UI from background thread</strong> ‚Äî UI toolkit isn't thread-safe
            </div>
            <p>Get back to main thread:</p>
            <pre><code>runOnUiThread(() -> { textView.setText(result); });
new Handler(Looper.getMainLooper()).post(() -> { });</code></pre>
            
            <h3>Context</h3>
            <table>
                <tr><td><span class="key">Activity context</span></td><td>Dies with Activity ‚Äî use for UI, dialogs</td></tr>
                <tr><td><span class="key">Application context</span></td><td>Lives forever ‚Äî use for singletons, databases</td></tr>
            </table>
            <div class="warning">
                <strong>‚ö†Ô∏è Memory Leak:</strong> Passing Activity context to singleton = leak. Use getApplicationContext().
            </div>
            
            <h2>üçé iOS Essentials</h2>
            
            <h3>ViewController Lifecycle</h3>
            <div class="diagram">
                <span style="color:#007aff">viewDidLoad</span> ‚Üí 
                <span style="color:#007aff">viewWillAppear</span> ‚Üí 
                <span style="color:#007aff">viewDidAppear</span> ‚Üí 
                <span style="color:#fbbf24">[VISIBLE]</span> ‚Üí 
                <span style="color:#007aff">viewWillDisappear</span> ‚Üí 
                <span style="color:#007aff">viewDidDisappear</span>
            </div>
            
            <div class="highlight">
                <strong>viewDidLoad</strong> = <strong>once</strong> after view loads (setup)<br>
                <strong>viewWillAppear</strong> = <strong>every time</strong> before visible (refresh data)
            </div>
            
            <h3>Memory Management (ARC)</h3>
            <table>
                <tr><th>Type</th><th>Reference Count</th><th>When Deallocated</th></tr>
                <tr><td><span class="key">strong</span></td><td>Increases</td><td>Still points to object</td></tr>
                <tr><td><span class="key">weak</span></td><td>No change</td><td>Becomes nil automatically</td></tr>
                <tr><td><span class="key">unowned</span></td><td>No change</td><td>Crashes if accessed</td></tr>
            </table>
            
            <h3>Retain Cycles</h3>
            <p>Two objects with strong references to each other ‚Üí neither deallocates ‚Üí <strong>memory leak</strong></p>
            <pre><code>// ‚ùå Leak
closure { self.doThing() }

// ‚úÖ Fixed
closure { [weak self] in self?.doThing() }</code></pre>
            
            <h3>Concurrency</h3>
            <pre><code>// GCD - background then main
DispatchQueue.global().async {
    let data = fetchData()
    DispatchQueue.main.async {
        self.updateUI(data)
    }
}

// async/await (iOS 15+)
Task {
    let data = try await fetchData()
    updateUI(data)  // automatically main thread
}</code></pre>
            
            <h2>üåê General</h2>
            
            <h3>SOLID Principles</h3>
            <table>
                <tr><td><span class="key">S</span>ingle Responsibility</td><td>One class, one job</td></tr>
                <tr><td><span class="key">O</span>pen/Closed</td><td>Open for extension, closed for modification</td></tr>
                <tr><td><span class="key">L</span>iskov Substitution</td><td>Subtypes replaceable for parent types</td></tr>
                <tr><td><span class="key">I</span>nterface Segregation</td><td>Small, focused interfaces</td></tr>
                <tr><td><span class="key">D</span>ependency Inversion</td><td>Depend on abstractions, not concretions</td></tr>
            </table>
            
            <h3>HTTP Methods</h3>
            <table>
                <tr><td><span class="key">GET</span></td><td>Read data</td></tr>
                <tr><td><span class="key">POST</span></td><td>Create new resource</td></tr>
                <tr><td><span class="key">PUT</span></td><td>Update (replace entire)</td></tr>
                <tr><td><span class="key">PATCH</span></td><td>Update (partial)</td></tr>
                <tr><td><span class="key">DELETE</span></td><td>Remove resource</td></tr>
            </table>
            
            <h3>HTTP Status Codes</h3>
            <table>
                <tr><td><strong>2xx</strong></td><td>Success ‚Äî 200 OK, 201 Created, 204 No Content</td></tr>
                <tr><td><strong>4xx</strong></td><td>Client error ‚Äî 400 Bad Request, 401 Unauthorized, 403 Forbidden, 404 Not Found</td></tr>
                <tr><td><strong>5xx</strong></td><td>Server error ‚Äî 500 Internal Server Error, 503 Unavailable</td></tr>
            </table>
            
            <h3>Architecture</h3>
            <div class="tip">
                <strong>MVVM</strong> is the safe interview answer. Model (data) ‚Üí ViewModel (logic, prepares data) ‚Üí View (dumb UI).<br>
                Benefits: testable, separation of concerns, works with reactive frameworks.
            </div>
        </div>

        <!-- ==================== ANDROID ==================== -->
        <div id="android" class="section">
            <h1>ü§ñ Android Deep Dive</h1>
            <p class="subtitle">Everything you need to know for Android interviews</p>
            
            <h2>Activity Lifecycle In-Depth</h2>
            
            <p>Every Activity goes through a series of states. Understanding when each callback fires is crucial for managing resources and avoiding bugs.</p>
            
            <div class="diagram">
                <span style="color:#22c55e">onCreate</span> ‚Üí 
                <span style="color:#22c55e">onStart</span> ‚Üí 
                <span style="color:#22c55e">onResume</span> ‚Üí 
                <span style="color:#fbbf24">[RUNNING]</span> ‚Üí 
                <span style="color:#22c55e">onPause</span> ‚Üí 
                <span style="color:#22c55e">onStop</span> ‚Üí 
                <span style="color:#22c55e">onDestroy</span>
            </div>
            
            <h3>onCreate(Bundle savedInstanceState)</h3>
            <p>Called <strong>once</strong> when Activity is first created. This is where you:</p>
            <ul>
                <li>Call <code>setContentView()</code> to inflate your layout</li>
                <li>Initialize views with <code>findViewById()</code></li>
                <li>Set up adapters, listeners, and data bindings</li>
                <li>Restore state from savedInstanceState if not null</li>
            </ul>
            <pre><code>@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    
    if (savedInstanceState != null) {
        counter = savedInstanceState.getInt("counter", 0);
    }
    
    textView = findViewById(R.id.textView);
    button = findViewById(R.id.button);
}</code></pre>

            <h3>onStart()</h3>
            <p>Activity is becoming <strong>visible</strong> but not yet in the foreground. Called after onCreate() or when returning from stopped state.</p>
            <ul>
                <li>Register broadcast receivers that update the UI</li>
                <li>Start animations that should run when visible</li>
            </ul>

            <h3>onResume()</h3>
            <p>Activity is in the <strong>foreground</strong> and receiving user input. This is the "running" state.</p>
            <ul>
                <li>Start camera preview, sensors, location updates</li>
                <li>Resume paused video/audio playback</li>
                <li>Refresh data that might have changed</li>
            </ul>

            <h3>onPause()</h3>
            <p>Activity is <strong>losing focus</strong>. Another activity is coming to the foreground (dialog, phone call, etc.).</p>
            <ul>
                <li>Pause video, animations, sensors</li>
                <li>Save draft data (user might not return)</li>
                <li>Release exclusive resources like camera</li>
            </ul>
            <div class="warning">
                <strong>‚ö†Ô∏è Must be fast!</strong> The next Activity won't resume until onPause() completes. Don't do database writes or network calls here.
            </div>

            <h3>onStop()</h3>
            <p>Activity is <strong>no longer visible</strong>. User pressed Home or another Activity fully covers it.</p>
            <ul>
                <li>Release resources not needed when invisible</li>
                <li>Save data to database/SharedPreferences</li>
                <li>Unregister broadcast receivers</li>
            </ul>

            <h3>onDestroy()</h3>
            <p>Activity is being <strong>destroyed</strong>. Either user finished it or system is killing it for memory.</p>
            <ul>
                <li>Final cleanup ‚Äî unregister all listeners</li>
                <li>Stop any background threads owned by this Activity</li>
                <li>Release any remaining resources</li>
            </ul>

            <h3>Saving Instance State</h3>
            <p>When system destroys your Activity (rotation, low memory), save state to restore later:</p>
            <pre><code>@Override
protected void onSaveInstanceState(Bundle outState) {
    super.onSaveInstanceState(outState);
    outState.putInt("counter", counter);
    outState.putString("userName", userName);
}

// Restore in onCreate or onRestoreInstanceState
if (savedInstanceState != null) {
    counter = savedInstanceState.getInt("counter");
}</code></pre>
            <div class="tip">
                <strong>üí° Better approach:</strong> Use <strong>ViewModel</strong> for configuration changes (rotation). It survives automatically. Use onSaveInstanceState only for process death scenarios.
            </div>

            <h2>The 4 Android Components</h2>
            
            <h3>1. Activity</h3>
            <p>A single screen with UI. The entry point for user interaction.</p>
            <pre><code>// Start another Activity
Intent intent = new Intent(this, DetailActivity.class);
intent.putExtra("item_id", 123);
startActivity(intent);</code></pre>

            <h3>2. Service</h3>
            <p>Background work without UI. Two types:</p>
            
            <h4>Started Service</h4>
            <p>Fire and forget. Call <code>startService()</code>, runs until stopSelf() or stopService().</p>
            <pre><code>// Start
Intent intent = new Intent(this, MusicService.class);
startService(intent);

// In Service
public int onStartCommand(Intent intent, int flags, int startId) {
    // Do work
    return START_STICKY; // Restart if killed
}</code></pre>

            <h4>Bound Service</h4>
            <p>Client-server pattern. Clients bind and communicate directly.</p>
            <pre><code>// Bind
bindService(intent, connection, Context.BIND_AUTO_CREATE);

// In Service - return IBinder for communication
public IBinder onBind(Intent intent) {
    return new LocalBinder();
}</code></pre>

            <h4>Foreground Service</h4>
            <p>Must show notification. Used for ongoing work user should be aware of (music, navigation, downloads).</p>
            <pre><code>startForeground(NOTIFICATION_ID, notification);</code></pre>

            <h3>3. BroadcastReceiver</h3>
            <p>Responds to system-wide broadcasts (battery low, connectivity change, boot complete).</p>
            <pre><code>public class MyReceiver extends BroadcastReceiver {
    @Override
    public void onReceive(Context context, Intent intent) {
        if (Intent.ACTION_BATTERY_LOW.equals(intent.getAction())) {
            // Handle low battery
        }
    }
}

// Register dynamically
IntentFilter filter = new IntentFilter(Intent.ACTION_BATTERY_LOW);
registerReceiver(receiver, filter);

// Unregister when done!
unregisterReceiver(receiver);</code></pre>
            <div class="warning">
                <strong>‚ö†Ô∏è onReceive() must complete in 10 seconds.</strong> For longer work, start a Service.
            </div>

            <h3>4. ContentProvider</h3>
            <p>Manages shared data. Standard interface for accessing data across app boundaries.</p>
            <pre><code>// Query contacts
Cursor cursor = getContentResolver().query(
    ContactsContract.Contacts.CONTENT_URI,
    projection,
    selection,
    selectionArgs,
    sortOrder
);</code></pre>

            <h2>Threading</h2>
            
            <div class="warning">
                <strong>üö´ The Golden Rule:</strong> Never access UI from a background thread. The UI toolkit is not thread-safe.
            </div>
            
            <p>Violation causes:</p>
            <pre><code>CalledFromWrongThreadException: Only the original thread 
that created a view hierarchy can touch its views.</code></pre>

            <h3>Solutions</h3>
            
            <h4>runOnUiThread()</h4>
            <pre><code>new Thread(() -> {
    String result = fetchData();
    
    runOnUiThread(() -> {
        textView.setText(result);
    });
}).start();</code></pre>

            <h4>Handler</h4>
            <pre><code>Handler mainHandler = new Handler(Looper.getMainLooper());

executor.execute(() -> {
    String result = fetchData();
    
    mainHandler.post(() -> {
        textView.setText(result);
    });
});</code></pre>

            <h4>Executors (Modern Approach)</h4>
            <pre><code>ExecutorService executor = Executors.newSingleThreadExecutor();
Handler handler = new Handler(Looper.getMainLooper());

executor.execute(() -> {
    // Background
    String result = fetchFromNetwork();
    
    handler.post(() -> {
        // Main thread
        updateUI(result);
    });
});</code></pre>

            <h2>Memory & Context</h2>
            
            <h3>Context Types</h3>
            <table>
                <tr><th>Context</th><th>Lifetime</th><th>Use For</th></tr>
                <tr><td>Activity</td><td>Activity lifecycle</td><td>UI, dialogs, toasts, inflate layouts</td></tr>
                <tr><td>Application</td><td>App process lifetime</td><td>Singletons, databases, long-lived objects</td></tr>
            </table>

            <h3>Memory Leak: Activity in Singleton</h3>
            <pre><code>// ‚ùå BAD - leaks Activity forever
public class DataManager {
    private static DataManager instance;
    private Context context;
    
    public static DataManager getInstance(Context context) {
        if (instance == null) {
            instance = new DataManager();
            instance.context = context; // LEAK if Activity!
        }
        return instance;
    }
}

// ‚úÖ GOOD - use Application context
instance.context = context.getApplicationContext();</code></pre>

            <h3>AsyncTask Memory Leak</h3>
            <p>Inner classes hold implicit reference to outer class:</p>
            <pre><code>// ‚ùå BAD - inner class leaks Activity
class MyActivity extends Activity {
    class MyTask extends AsyncTask<...> {
        // Holds reference to MyActivity
    }
}

// ‚úÖ GOOD - static + WeakReference
private static class MyTask extends AsyncTask<...> {
    private WeakReference<MyActivity> activityRef;
    
    MyTask(MyActivity activity) {
        activityRef = new WeakReference<>(activity);
    }
    
    protected void onPostExecute(String result) {
        MyActivity activity = activityRef.get();
        if (activity != null && !activity.isFinishing()) {
            activity.updateUI(result);
        }
    }
}</code></pre>

            <h3>Common Leak Sources & Fixes</h3>
            <table>
                <tr><th>Source</th><th>Fix</th></tr>
                <tr><td>Singleton with Activity context</td><td>Use getApplicationContext()</td></tr>
                <tr><td>Inner AsyncTask/Handler</td><td>Make static + WeakReference</td></tr>
                <tr><td>Unregistered listeners</td><td>Unregister in onStop/onDestroy</td></tr>
                <tr><td>Static View reference</td><td>Never do this</td></tr>
            </table>
            
            <div class="tip">
                <strong>üí° Tool:</strong> Mention <strong>LeakCanary</strong> in interviews ‚Äî shows you know about memory profiling tools.
            </div>

            <h2>Interfaces</h2>
            <p>Interfaces define a contract ‚Äî methods a class must implement. Similar to Swift protocols.</p>
            <pre><code>// Define interface
public interface Clickable {
    void onClick();
    void onLongClick();
}

// Implement interface
public class Button implements Clickable {
    @Override
    public void onClick() {
        System.out.println("Clicked!");
    }
    
    @Override
    public void onLongClick() {
        System.out.println("Long clicked!");
    }
}

// Use as type
public void handleClick(Clickable item) {
    item.onClick();
}</code></pre>

            <h4>Default Methods (Java 8+)</h4>
            <pre><code>public interface Clickable {
    void onClick();
    
    // Default implementation - classes get this for free
    default void onDoubleClick() {
        onClick();
        onClick();
    }
}</code></pre>

            <h4>Multiple Interfaces</h4>
            <pre><code>public interface Drawable { void draw(); }
public interface Clickable { void onClick(); }

// A class can implement multiple interfaces
public class IconButton implements Drawable, Clickable {
    public void draw() { /* ... */ }
    public void onClick() { /* ... */ }
}</code></pre>

            <h2>Generics (Java)</h2>
            <p>Write code that works with any type while maintaining type safety:</p>
            <pre><code>// Generic class
public class Box<T> {
    private T content;
    
    public void set(T content) {
        this.content = content;
    }
    
    public T get() {
        return content;
    }
}

Box<String> stringBox = new Box<>();
stringBox.set("Hello");
String value = stringBox.get();  // No cast needed

Box<Integer> intBox = new Box<>();
intBox.set(42);</code></pre>

            <h4>Generic Methods</h4>
            <pre><code>public <T> void printArray(T[] array) {
    for (T item : array) {
        System.out.println(item);
    }
}

// Type inferred from argument
printArray(new String[]{"a", "b", "c"});
printArray(new Integer[]{1, 2, 3});</code></pre>

            <h4>Bounded Type Parameters</h4>
            <pre><code>// T must extend Number (or be Number)
public <T extends Number> double sum(T a, T b) {
    return a.doubleValue() + b.doubleValue();
}

// Multiple bounds
public <T extends Comparable<T> & Serializable> T findMax(T a, T b) {
    return a.compareTo(b) > 0 ? a : b;
}</code></pre>

            <h4>Wildcards</h4>
            <pre><code>// Unknown type
List<?> unknownList;

// Upper bound - accepts Number or any subclass
public void processNumbers(List<? extends Number> list) {
    for (Number n : list) {
        System.out.println(n.doubleValue());
    }
}

// Lower bound - accepts Integer or any superclass
public void addIntegers(List<? super Integer> list) {
    list.add(1);
    list.add(2);
}</code></pre>

            <div class="highlight">
                <strong>Generics Key Points:</strong><br>
                ‚Ä¢ <code>&lt;T&gt;</code> = type parameter (any reference type)<br>
                ‚Ä¢ <code>&lt;T extends X&gt;</code> = T must be X or subclass<br>
                ‚Ä¢ <code>&lt;?&gt;</code> = unknown type (read-only)<br>
                ‚Ä¢ <code>&lt;? extends X&gt;</code> = unknown type, upper bounded<br>
                ‚Ä¢ <code>&lt;? super X&gt;</code> = unknown type, lower bounded
            </div>
        </div>

        <!-- ==================== iOS ==================== -->
        <div id="ios" class="section">
            <h1>üçé iOS Deep Dive</h1>
            <p class="subtitle">Everything you need to know for iOS interviews</p>
            
            <h2>App Lifecycle</h2>
            
            <div class="diagram">
                <span style="color:#64748b">Not Running</span> ‚Üí 
                <span style="color:#007aff">Inactive</span> ‚Üí 
                <span style="color:#fbbf24">Active</span> ‚Üí 
                <span style="color:#007aff">Background</span> ‚Üí 
                <span style="color:#64748b">Suspended</span>
            </div>
            
            <table>
                <tr><th>State</th><th>Description</th></tr>
                <tr><td><strong>Not Running</strong></td><td>App hasn't launched or was terminated</td></tr>
                <tr><td><strong>Inactive</strong></td><td>Running in foreground but not receiving events (transitioning)</td></tr>
                <tr><td><strong>Active</strong></td><td>Running in foreground, receiving events</td></tr>
                <tr><td><strong>Background</strong></td><td>In background, executing code (limited time)</td></tr>
                <tr><td><strong>Suspended</strong></td><td>In background, not executing (can be purged)</td></tr>
            </table>

            <h3>AppDelegate Methods</h3>
            <pre><code>func application(_ application: UIApplication, 
    didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
    // App launched - one-time setup
    return true
}

func applicationWillResignActive(_ application: UIApplication) {
    // About to lose focus - pause tasks, disable timers
}

func applicationDidEnterBackground(_ application: UIApplication) {
    // Now in background - save data, release resources
}

func applicationWillEnterForeground(_ application: UIApplication) {
    // Returning to foreground - undo background changes
}

func applicationDidBecomeActive(_ application: UIApplication) {
    // Now active - restart tasks, refresh UI
}</code></pre>

            <h2>ViewController Lifecycle</h2>
            
            <div class="diagram">
                <span style="color:#007aff">viewDidLoad</span> ‚Üí 
                <span style="color:#007aff">viewWillAppear</span> ‚Üí 
                <span style="color:#007aff">viewDidAppear</span> ‚Üí 
                <span style="color:#fbbf24">[VISIBLE]</span> ‚Üí 
                <span style="color:#007aff">viewWillDisappear</span> ‚Üí 
                <span style="color:#007aff">viewDidDisappear</span>
            </div>

            <h3>viewDidLoad()</h3>
            <p>Called <strong>once</strong> after view is loaded into memory.</p>
            <ul>
                <li>Initial UI setup</li>
                <li>Configure views, constraints</li>
                <li>One-time initialization</li>
            </ul>

            <h3>viewWillAppear(_:)</h3>
            <p>Called <strong>every time</strong> view is about to become visible.</p>
            <ul>
                <li>Refresh data that might have changed</li>
                <li>Start observing notifications</li>
                <li>Update UI for current state</li>
            </ul>

            <h3>viewDidAppear(_:)</h3>
            <p>Called after view is visible and animations complete.</p>
            <ul>
                <li>Start animations</li>
                <li>Begin expensive operations</li>
                <li>Start video/audio playback</li>
            </ul>

            <h3>viewWillDisappear(_:)</h3>
            <p>Called when view is about to be hidden.</p>
            <ul>
                <li>Save changes</li>
                <li>Stop timers, observers</li>
            </ul>

            <h3>viewDidDisappear(_:)</h3>
            <p>Called after view is no longer visible.</p>
            <ul>
                <li>Stop tasks that shouldn't run when hidden</li>
            </ul>

            <div class="highlight">
                <strong>Key Difference:</strong><br>
                <code>viewDidLoad</code> = called <strong>once</strong> (setup)<br>
                <code>viewWillAppear</code> = called <strong>every time</strong> (refresh)
            </div>

            <h2>ARC (Automatic Reference Counting)</h2>
            
            <p>Swift's memory management system. Compiler inserts retain/release at compile time (not runtime like garbage collection).</p>
            
            <p>Every class instance has a <strong>reference count</strong>. When it hits zero ‚Üí deallocated.</p>

            <pre><code>class Person {
    let name: String
    init(name: String) { 
        self.name = name
        print("\(name) initialized")
    }
    deinit { 
        print("\(name) deinitialized")
    }
}

var ref1: Person? = Person(name: "John")  // Count: 1
var ref2 = ref1                            // Count: 2
ref1 = nil                                 // Count: 1
ref2 = nil                                 // Count: 0 ‚Üí deinit</code></pre>

            <h3>Reference Types</h3>
            <table>
                <tr><th>Type</th><th>Count Change</th><th>When Deallocated</th><th>Must Be Optional?</th></tr>
                <tr><td><span class="key">strong</span></td><td>+1</td><td>Still valid</td><td>No</td></tr>
                <tr><td><span class="key">weak</span></td><td>No change</td><td>Becomes nil</td><td>Yes</td></tr>
                <tr><td><span class="key">unowned</span></td><td>No change</td><td>Crashes if accessed</td><td>No</td></tr>
            </table>

            <h3>Retain Cycles</h3>
            <p>Two objects hold strong references to each other ‚Üí neither can deallocate ‚Üí <strong>memory leak</strong>.</p>

            <pre><code>class Person {
    var apartment: Apartment?
}
class Apartment {
    var tenant: Person?  // Strong reference!
}

let john = Person()
let unit4A = Apartment()
john.apartment = unit4A
unit4A.tenant = john
// john ‚Üí unit4A and unit4A ‚Üí john
// Neither can be freed!

// FIX: Make one reference weak
class Apartment {
    weak var tenant: Person?
}</code></pre>

            <h3>Closures and Retain Cycles</h3>
            <p>Closures capture references strongly by default:</p>

            <pre><code>// ‚ùå RETAIN CYCLE
class ViewController {
    var onComplete: (() -> Void)?
    
    func setup() {
        onComplete = {
            self.doSomething()  // Strong capture of self
        }
        // self ‚Üí onComplete ‚Üí self
    }
}

// ‚úÖ FIXED with capture list
onComplete = { [weak self] in
    self?.doSomething()
}

// Or with guard
onComplete = { [weak self] in
    guard let self = self else { return }
    self.doSomething()
}</code></pre>

            <div class="highlight">
                <strong>When to use which:</strong><br>
                <strong>weak</strong>: Reference might become nil (network callbacks, async operations)<br>
                <strong>unowned</strong>: Reference will always outlive the closure
            </div>

            <h2>Concurrency</h2>
            
            <h3>GCD (Grand Central Dispatch)</h3>
            <pre><code>// Background work ‚Üí Main thread update
DispatchQueue.global(qos: .userInitiated).async {
    let data = self.fetchData()
    
    DispatchQueue.main.async {
        self.tableView.reloadData()
    }
}

// Delayed execution
DispatchQueue.main.asyncAfter(deadline: .now() + 2.0) {
    self.showAlert()
}</code></pre>

            <h4>Quality of Service</h4>
            <table>
                <tr><th>QoS</th><th>Use For</th></tr>
                <tr><td>.userInteractive</td><td>Instant feedback (animations)</td></tr>
                <tr><td>.userInitiated</td><td>User waiting (loading)</td></tr>
                <tr><td>.utility</td><td>Long tasks with progress</td></tr>
                <tr><td>.background</td><td>User doesn't care (backups)</td></tr>
            </table>

            <h3>async/await (iOS 15+)</h3>
            <pre><code>// Define async function
func fetchUser() async throws -> User {
    let (data, _) = try await URLSession.shared.data(from: url)
    return try JSONDecoder().decode(User.self, from: data)
}

// Call from Task
Task {
    do {
        let user = try await fetchUser()
        self.user = user  // Main thread in SwiftUI
    } catch {
        print("Error: \(error)")
    }
}

// @MainActor ensures main thread
@MainActor
func updateUI() {
    label.text = "Done"
}</code></pre>

            <h2>Swift Essentials</h2>
            
            <h3>Optionals</h3>
            <pre><code>var name: String? = nil   // Optional - can be nil

name!                      // Force unwrap (crashes if nil)
name?                      // Optional chaining (returns nil)
name ?? "default"          // Nil coalescing

if let name = name { }     // Safe unwrap
guard let name = name else { return }  // Early exit</code></pre>

            <h3>struct vs class</h3>
            <table>
                <tr><th></th><th>struct</th><th>class</th></tr>
                <tr><td>Type</td><td>Value</td><td>Reference</td></tr>
                <tr><td>Copy</td><td>Creates new copy</td><td>Shares reference</td></tr>
                <tr><td>Inheritance</td><td>No</td><td>Yes</td></tr>
                <tr><td>Memory</td><td>Usually stack</td><td>Heap</td></tr>
            </table>
            <div class="tip">
                <strong>üí° Default to struct.</strong> Use class when you need identity, inheritance, or shared mutable state.
            </div>

            <h3>Protocols</h3>
            <p>A protocol defines a blueprint of methods and properties. Types <strong>conform</strong> to protocols by implementing requirements.</p>
            <pre><code>protocol Drawable {
    var color: String { get }
    func draw()
}

struct Circle: Drawable {
    var color: String
    func draw() { print("Drawing circle") }
}

// Protocol as type
func render(item: Drawable) {
    item.draw()
}</code></pre>

            <h4>Protocol Extensions (Default Implementations)</h4>
            <p>Add functionality to all conforming types without inheritance:</p>
            <pre><code>extension Drawable {
    func describe() {
        print("A \(color) shape")
    }
}
// Now ALL Drawable types get describe() for free!</code></pre>

            <h4>Protocol-Oriented Programming</h4>
            <p>Swift favors <strong>composition over inheritance</strong>. Use protocols to share behavior:</p>
            <pre><code>protocol Flyable { func fly() }
protocol Swimmable { func swim() }

struct Duck: Flyable, Swimmable {
    func fly() { print("Flying") }
    func swim() { print("Swimming") }
}

// vs inheritance where you'd need a complex hierarchy</code></pre>

            <h4>Associated Types</h4>
            <p>Placeholder type within a protocol ‚Äî conforming types specify the actual type:</p>
            <pre><code>protocol Container {
    associatedtype Item
    var items: [Item] { get }
    mutating func add(_ item: Item)
}

struct IntBox: Container {
    typealias Item = Int  // Can often be inferred
    var items: [Int] = []
    mutating func add(_ item: Int) {
        items.append(item)
    }
}</code></pre>

            <h3>Generics</h3>
            <p>Write flexible, reusable code that works with any type:</p>
            <pre><code>// Generic function
func swapValues<T>(_ a: inout T, _ b: inout T) {
    let temp = a
    a = b
    b = temp
}

// Generic type
struct Stack<Element> {
    private var items: [Element] = []
    
    mutating func push(_ item: Element) {
        items.append(item)
    }
    
    mutating func pop() -> Element? {
        return items.popLast()
    }
}

var intStack = Stack<Int>()
var stringStack = Stack<String>()</code></pre>

            <h4>Generic Constraints</h4>
            <p>Restrict generics to types that meet certain requirements:</p>
            <pre><code>// Must conform to Comparable
func findMax<T: Comparable>(_ a: T, _ b: T) -> T {
    return a > b ? a : b
}

// Multiple constraints
func process<T: Codable & Hashable>(_ item: T) { }

// Where clause for complex constraints
func merge<T, U>(_ a: T, _ b: U) -> String 
    where T: CustomStringConvertible, U: CustomStringConvertible {
    return a.description + b.description
}</code></pre>

            <div class="highlight">
                <strong>Protocols vs Generics:</strong><br>
                <strong>Protocols</strong> = "this type CAN DO these things" (behavior)<br>
                <strong>Generics</strong> = "this works with ANY type" (flexibility)<br>
                Often used together: <code>func sort&lt;T: Comparable&gt;(_ items: [T])</code>
            </div>

            <h3>Delegates vs Closures</h3>
            <table>
                <tr><th></th><th>Delegate</th><th>Closure</th></tr>
                <tr><td>Pattern</td><td>Protocol + weak reference</td><td>Inline callback</td></tr>
                <tr><td>Best for</td><td>Multiple callbacks</td><td>Single callback</td></tr>
                <tr><td>Memory</td><td>weak var delegate</td><td>[weak self] capture</td></tr>
            </table>
        </div>

        <!-- ==================== GENERAL ==================== -->
        <div id="general" class="section">
            <h1>üåê General Concepts</h1>
            <p class="subtitle">Architecture, principles, and fundamenttic knowledge</p>
            
            <h2>SOLID Principles</h2>
            
            <h3>S ‚Äî Single Responsibility</h3>
            <p>A class should have only <strong>one reason to change</strong>.</p>
            <pre><code>// ‚ùå BAD - too many responsibilities
class User {
    func saveToDatabase() { }
    func sendEmail() { }
    func generateReport() { }
}

// ‚úÖ GOOD - separate concerns
class User { }
class UserRepository { func save(user: User) { } }
class EmailService { func send(to: User) { } }
class ReportGenerator { func generate(for: User) { } }</code></pre>

            <h3>O ‚Äî Open/Closed</h3>
            <p>Open for <strong>extension</strong>, closed for <strong>modification</strong>.</p>
            <pre><code>// ‚ùå BAD - must modify to add shapes
func area(shape: String) -> Double {
    if shape == "rectangle" { ... }
    if shape == "circle" { ... }
    // Add more shapes = modify this function
}

// ‚úÖ GOOD - extend by adding new types
protocol Shape {
    func area() -> Double
}
class Rectangle: Shape { ... }
class Circle: Shape { ... }
// New shapes = new classes, no modification</code></pre>

            <h3>L ‚Äî Liskov Substitution</h3>
            <p>Subtypes must be <strong>substitutable</strong> for their base types without breaking behavior.</p>

            <h3>I ‚Äî Interface Segregation</h3>
            <p>Many <strong>small interfaces</strong> are better than one big interface.</p>
            <pre><code>// ‚ùå BAD - forces unused implementations
protocol Worker {
    func work()
    func eat()
}
class Robot: Worker {
    func eat() { } // Robots don't eat!
}

// ‚úÖ GOOD - separate interfaces
protocol Workable { func work() }
protocol Eatable { func eat() }
class Robot: Workable { ... }</code></pre>

            <h3>D ‚Äî Dependency Inversion</h3>
            <p>Depend on <strong>abstractions</strong>, not concretions.</p>
            <pre><code>// ‚ùå BAD - depends on concrete class
class UserService {
    let db = MySQLDatabase()  // Tightly coupled
}

// ‚úÖ GOOD - depends on abstraction
protocol Database { func save(_ user: User) }

class UserService {
    let db: Database  // Can inject any database
    init(db: Database) { self.db = db }
}</code></pre>

            <h2>Architecture Patterns</h2>
            
            <h3>MVC (Model-View-Controller)</h3>
            <ul>
                <li><strong>Model</strong>: Data and business logic</li>
                <li><strong>View</strong>: UI elements</li>
                <li><strong>Controller</strong>: Mediates between Model and View</li>
            </ul>
            <p>Problem: Controllers often become "Massive View Controllers" with too much responsibility.</p>

            <h3>MVVM (Model-View-ViewModel)</h3>
            <ul>
                <li><strong>Model</strong>: Data and business logic</li>
                <li><strong>View</strong>: UI (UIViewController, SwiftUI View)</li>
                <li><strong>ViewModel</strong>: Prepares data for display, handles UI logic</li>
            </ul>
            <pre><code>// Model
struct User {
    let firstName: String
    let lastName: String
}

// ViewModel
class UserViewModel {
    private let user: User
    
    var fullName: String {
        "\(user.firstName) \(user.lastName)"
    }
}

// View just displays ViewModel properties
label.text = viewModel.fullName</code></pre>
            <div class="tip">
                <strong>üí° Interview Answer:</strong> "I prefer MVVM ‚Äî it separates concerns, makes code testable, and works great with reactive frameworks like Combine."
            </div>

            <h3>Other Patterns</h3>
            <ul>
                <li><strong>MVP</strong>: Like MVVM but Presenter explicitly tells View what to do</li>
                <li><strong>Clean Architecture</strong>: Layers (Domain ‚Üí Data ‚Üí Presentation) with strict dependency rules</li>
                <li><strong>Coordinator</strong>: Handles navigation outside ViewControllers</li>
            </ul>

            <h2>REST & HTTP</h2>
            
            <h3>HTTP Methods</h3>
            <table>
                <tr><th>Method</th><th>Purpose</th><th>Idempotent?</th></tr>
                <tr><td><span class="key">GET</span></td><td>Read data</td><td>Yes</td></tr>
                <tr><td><span class="key">POST</span></td><td>Create resource</td><td>No</td></tr>
                <tr><td><span class="key">PUT</span></td><td>Replace resource</td><td>Yes</td></tr>
                <tr><td><span class="key">PATCH</span></td><td>Partial update</td><td>No</td></tr>
                <tr><td><span class="key">DELETE</span></td><td>Remove resource</td><td>Yes</td></tr>
            </table>
            <p><strong>Idempotent</strong> = same request multiple times gives same result (safe to retry).</p>

            <h3>Status Codes</h3>
            <table>
                <tr><td><strong>200 OK</strong></td><td>Success</td></tr>
                <tr><td><strong>201 Created</strong></td><td>Resource created (POST)</td></tr>
                <tr><td><strong>204 No Content</strong></td><td>Success, no body (DELETE)</td></tr>
                <tr><td><strong>400 Bad Request</strong></td><td>Invalid syntax</td></tr>
                <tr><td><strong>401 Unauthorized</strong></td><td>Authentication required</td></tr>
                <tr><td><strong>403 Forbidden</strong></td><td>Authenticated but not allowed</td></tr>
                <tr><td><strong>404 Not Found</strong></td><td>Resource doesn't exist</td></tr>
                <tr><td><strong>500 Server Error</strong></td><td>Generic server error</td></tr>
            </table>

            <h3>RESTful URLs</h3>
            <pre><code>GET    /users           ‚Üí List users
GET    /users/123       ‚Üí Get user 123
POST   /users           ‚Üí Create user
PUT    /users/123       ‚Üí Replace user 123
PATCH  /users/123       ‚Üí Update user 123
DELETE /users/123       ‚Üí Delete user 123
GET    /users/123/posts ‚Üí Get posts by user 123</code></pre>

            <h2>Git Essentials</h2>
            
            <h3>Key Commands</h3>
            <table>
                <tr><td><code>git pull</code></td><td>Fetch + merge remote</td></tr>
                <tr><td><code>git fetch</code></td><td>Download remote (don't merge)</td></tr>
                <tr><td><code>git stash</code></td><td>Save uncommitted changes</td></tr>
                <tr><td><code>git stash pop</code></td><td>Restore stashed changes</td></tr>
                <tr><td><code>git rebase main</code></td><td>Replay commits on main</td></tr>
                <tr><td><code>git cherry-pick SHA</code></td><td>Copy specific commit</td></tr>
            </table>

            <h3>Merge vs Rebase</h3>
            <p><strong>Merge:</strong> Creates merge commit, preserves history</p>
            <p><strong>Rebase:</strong> Replays commits, creates linear history</p>
            <div class="warning">
                <strong>‚ö†Ô∏è Never rebase shared commits.</strong> Rebase rewrites history ‚Äî only use on local branches.
            </div>

            <h3>Undoing Things</h3>
            <pre><code>git reset --soft HEAD~1   // Undo commit, keep staged
git reset --hard HEAD~1   // Undo commit, discard changes
git revert SHA            // Create new commit that undoes (safe)</code></pre>
        </div>

        <!-- ==================== Q&A ==================== -->
        <div id="qa" class="section">
            <h1>‚ùì Interview Q&A</h1>
            <p class="subtitle">Click questions to reveal answers</p>
            
            <h2>ü§ñ Android Questions</h2>
            
            <div class="qa">
                <div class="question">What happens when you rotate an Android device?</div>
                <div class="answer"><div class="answer-content">
                    <p>The Activity is <strong>destroyed and recreated</strong>. Full lifecycle: onPause ‚Üí onStop ‚Üí onDestroy ‚Üí onCreate ‚Üí onStart ‚Üí onResume.</p>
                    <p>To preserve data:</p>
                    <ul>
                        <li><code>onSaveInstanceState()</code> for small UI state</li>
                        <li><strong>ViewModel</strong> survives configuration changes (preferred)</li>
                    </ul>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What's the difference between Serializable and Parcelable?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>Serializable:</strong> Java standard, uses reflection, slower, easy to implement.</p>
                    <p><strong>Parcelable:</strong> Android-specific, manual implementation, 10x faster, optimized for IPC.</p>
                    <p>Always answer <strong>Parcelable</strong> for Android interviews.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">Why can't you update UI from a background thread?</div>
                <div class="answer"><div class="answer-content">
                    <p>The Android UI toolkit is <strong>not thread-safe</strong>. Multiple threads modifying Views causes race conditions and crashes.</p>
                    <p>Solution: Use <code>runOnUiThread()</code>, Handler, or coroutines to post updates to main thread.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What causes memory leaks in Android?</div>
                <div class="answer"><div class="answer-content">
                    <p>Common causes:</p>
                    <ul>
                        <li>Static references to Activity/Context</li>
                        <li>Inner classes (AsyncTask, Handler) holding Activity reference</li>
                        <li>Unregistered listeners</li>
                    </ul>
                    <p>Fixes: Use Application context for singletons, static inner class + WeakReference, unregister in onDestroy.</p>
                </div></div>
            </div>

            <h2>üçé iOS Questions</h2>
            
            <div class="qa">
                <div class="question">Explain ARC and how it works</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>Automatic Reference Counting</strong> ‚Äî compiler inserts retain/release at compile time (not garbage collection).</p>
                    <p>Each object has reference count. When it hits zero ‚Üí deallocated.</p>
                    <ul>
                        <li><strong>strong:</strong> Increments count</li>
                        <li><strong>weak:</strong> No increment, becomes nil when deallocated</li>
                        <li><strong>unowned:</strong> No increment, crashes if accessed after dealloc</li>
                    </ul>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What's a retain cycle and how do you fix it?</div>
                <div class="answer"><div class="answer-content">
                    <p>Two objects hold strong references to each other ‚Üí neither can deallocate ‚Üí memory leak.</p>
                    <p>Common in closures: <code>self.closure = { self.doThing() }</code></p>
                    <p>Fix: Use <code>[weak self]</code> or <code>[unowned self]</code> in capture list.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What's the difference between frame and bounds?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>frame:</strong> Position and size in superview's coordinate system (where view sits in parent)</p>
                    <p><strong>bounds:</strong> Position and size in view's own coordinate system (usually origin 0,0)</p>
                    <p>Use frame to position views. Bounds.origin is how UIScrollView scrolls internally.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">struct vs class in Swift?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>struct:</strong> Value type, copied on assignment, no inheritance, usually stack.</p>
                    <p><strong>class:</strong> Reference type, shared on assignment, supports inheritance, heap.</p>
                    <p>Apple recommends <strong>struct by default</strong>. Use class when you need identity, inheritance, or shared state.</p>
                </div></div>
            </div>

            <h2>üåê General Questions</h2>
            
            <div class="qa">
                <div class="question">What is dependency injection?</div>
                <div class="answer"><div class="answer-content">
                    <p>Pass dependencies in from outside instead of creating them inside.</p>
                    <p>Benefits: Testability (inject mocks), flexibility (swap implementations), decoupling.</p>
                    <pre><code>// Instead of: let api = APIClient()
// Do: init(api: APIClient) { self.api = api }</code></pre>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">Explain MVVM architecture</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>Model:</strong> Data and business logic</p>
                    <p><strong>View:</strong> UI layer (dumb)</p>
                    <p><strong>ViewModel:</strong> Prepares data for display, handles UI logic</p>
                    <p>View observes ViewModel. ViewModel doesn't know about View. Benefits: testable, separated concerns.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">How do you debug a crash?</div>
                <div class="answer"><div class="answer-content">
                    <ol>
                        <li>Read the stack trace ‚Äî find your code</li>
                        <li>Reproduce ‚Äî can you make it crash again?</li>
                        <li>Check obvious: nil/null, index bounds, threading</li>
                        <li>Add logging to narrow down location</li>
                        <li>Use debugger ‚Äî breakpoints, step through</li>
                        <li>Check recent changes ‚Äî git diff</li>
                    </ol>
                    <p>Mention tools: Firebase Crashlytics, Sentry.</p>
                </div></div>
            </div>

            <h2>ü§ñ More Android Questions</h2>
            
            <div class="qa">
                <div class="question">What are generics in Java and why use them?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>Generics</strong> allow you to write code that works with any type while maintaining type safety.</p>
                    <pre><code>List&lt;String&gt; names = new ArrayList&lt;&gt;();
names.add("John");
String name = names.get(0);  // No cast needed!</code></pre>
                    <p><strong>Benefits:</strong></p>
                    <ul>
                        <li>Compile-time type checking ‚Äî catch errors early</li>
                        <li>No casting required when retrieving elements</li>
                        <li>Code reusability ‚Äî write once, use with any type</li>
                    </ul>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What's the difference between interface and abstract class?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>Interface:</strong></p>
                    <ul>
                        <li>Only abstract methods (until Java 8 default methods)</li>
                        <li>No instance fields (only static final)</li>
                        <li>Class can implement MULTIPLE interfaces</li>
                        <li>Defines "can do" relationship</li>
                    </ul>
                    <p><strong>Abstract class:</strong></p>
                    <ul>
                        <li>Can have both abstract and concrete methods</li>
                        <li>Can have instance fields</li>
                        <li>Class can extend only ONE abstract class</li>
                        <li>Defines "is a" relationship</li>
                    </ul>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What are wildcard generics (? extends, ? super)?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong><code>? extends T</code></strong> (upper bound): Accepts T or any subtype. Use for READING.</p>
                    <pre><code>List&lt;? extends Number&gt; nums;  // Can hold List&lt;Integer&gt;, List&lt;Double&gt;
Number n = nums.get(0);  // OK - reading</code></pre>
                    <p><strong><code>? super T</code></strong> (lower bound): Accepts T or any supertype. Use for WRITING.</p>
                    <pre><code>List&lt;? super Integer&gt; list;  // Can hold List&lt;Integer&gt;, List&lt;Number&gt;
list.add(42);  // OK - writing</code></pre>
                    <p>Remember: <strong>PECS</strong> = Producer Extends, Consumer Super</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What's the difference between implicit and explicit intents?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>Explicit:</strong> You specify the exact component (class name).</p>
                    <pre><code>new Intent(this, DetailActivity.class)</code></pre>
                    <p><strong>Implicit:</strong> You declare an action, system finds a matching handler.</p>
                    <pre><code>new Intent(Intent.ACTION_VIEW, Uri.parse("https://..."))</code></pre>
                    <p>Explicit = internal navigation. Implicit = system features (camera, share, browser).</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What is a ContentProvider and when would you use one?</div>
                <div class="answer"><div class="answer-content">
                    <p>A ContentProvider manages <strong>shared app data</strong>. Standard way to share data between applications.</p>
                    <ul>
                        <li>Expose your app's data to other apps</li>
                        <li>Access system data (Contacts, MediaStore, Calendar)</li>
                        <li>Abstract data source from the rest of your app</li>
                    </ul>
                    <p>Access via ContentResolver using URIs like <code>content://com.example.provider/items</code></p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What's the difference between Service, IntentService, and JobScheduler?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>Service:</strong> Runs on main thread by default. You manage threading.</p>
                    <p><strong>IntentService:</strong> (Deprecated) Runs on background thread, auto-stops when done.</p>
                    <p><strong>JobScheduler:</strong> System-managed, battery-efficient. Schedule work with constraints (network, charging).</p>
                    <p>Modern approach: Use <strong>WorkManager</strong> ‚Äî handles backward compatibility and constraints.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">Explain the Android build process</div>
                <div class="answer"><div class="answer-content">
                    <ol>
                        <li><strong>Compile</strong> ‚Äî Java/Kotlin ‚Üí bytecode</li>
                        <li><strong>DEX</strong> ‚Äî Bytecode ‚Üí Dalvik Executable</li>
                        <li><strong>Package</strong> ‚Äî DEX + resources ‚Üí APK</li>
                        <li><strong>Sign</strong> ‚Äî APK signed with keystore</li>
                        <li><strong>Align</strong> ‚Äî zipalign for optimization</li>
                    </ol>
                    <p>Gradle orchestrates all of this. Debug vs Release builds have different signing.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What is ProGuard/R8 and why use it?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>Code shrinking and obfuscation</strong> for release builds.</p>
                    <ul>
                        <li><strong>Shrink:</strong> Remove unused code and resources</li>
                        <li><strong>Obfuscate:</strong> Rename classes/methods to short names</li>
                        <li><strong>Optimize:</strong> Inline methods, remove dead code</li>
                    </ul>
                    <p>R8 is the newer, faster replacement for ProGuard. Enabled by default in Android Gradle Plugin 3.4+.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What's the difference between View.GONE and View.INVISIBLE?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>INVISIBLE:</strong> View is hidden but still takes up space in layout.</p>
                    <p><strong>GONE:</strong> View is hidden and takes up no space (as if it doesn't exist).</p>
                    <p>Use GONE when you want layout to reflow. Use INVISIBLE to hide but preserve layout.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">How do you handle configuration changes?</div>
                <div class="answer"><div class="answer-content">
                    <p>Configuration changes (rotation, locale, screen size) destroy and recreate Activity by default.</p>
                    <p><strong>Options:</strong></p>
                    <ul>
                        <li><strong>ViewModel:</strong> Survives config changes automatically (recommended)</li>
                        <li><strong>onSaveInstanceState:</strong> Save small UI state to Bundle</li>
                        <li><strong>android:configChanges:</strong> Handle manually (not recommended)</li>
                    </ul>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What is ANR and how do you prevent it?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>Application Not Responding</strong> ‚Äî dialog shown when main thread is blocked too long.</p>
                    <ul>
                        <li>Input event not processed within 5 seconds</li>
                        <li>BroadcastReceiver not finished in 10 seconds</li>
                    </ul>
                    <p><strong>Prevention:</strong> Never do heavy work on main thread. Use background threads for network, database, file I/O.</p>
                </div></div>
            </div>

            <h2>üçé More iOS Questions</h2>
            
            <div class="qa">
                <div class="question">What are protocols and how are they different from classes?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>Protocols</strong> define a blueprint of methods and properties ‚Äî a contract that types must fulfill.</p>
                    <p><strong>Key differences from classes:</strong></p>
                    <ul>
                        <li>Protocols have no implementation (just requirements)</li>
                        <li>Structs, enums, AND classes can conform to protocols</li>
                        <li>A type can conform to multiple protocols (vs single inheritance)</li>
                        <li>Protocol extensions can add default implementations</li>
                    </ul>
                    <p>This enables <strong>protocol-oriented programming</strong> ‚Äî composition over inheritance.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What are generics and why use them?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>Generics</strong> let you write flexible, reusable code that works with any type.</p>
                    <pre><code>func swap<T>(_ a: inout T, _ b: inout T) {
    let temp = a; a = b; b = temp
}</code></pre>
                    <p><strong>Benefits:</strong></p>
                    <ul>
                        <li>Type safety ‚Äî compiler catches errors</li>
                        <li>No code duplication ‚Äî one function works for all types</li>
                        <li>Performance ‚Äî no runtime type casting</li>
                    </ul>
                    <p>Example: <code>Array&lt;Element&gt;</code>, <code>Dictionary&lt;Key, Value&gt;</code></p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What are associated types in protocols?</div>
                <div class="answer"><div class="answer-content">
                    <p>A placeholder type within a protocol. The conforming type specifies the actual type.</p>
                    <pre><code>protocol Container {
    associatedtype Item
    func add(_ item: Item)
    var count: Int { get }
}

struct IntStack: Container {
    typealias Item = Int  // Specifies the type
    func add(_ item: Int) { ... }
}</code></pre>
                    <p>Think of it as "generics for protocols."</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What are the differences between let and var?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>let:</strong> Constant ‚Äî value cannot be changed after assignment.</p>
                    <p><strong>var:</strong> Variable ‚Äî value can be changed.</p>
                    <p>Best practice: Use <code>let</code> by default. Only use <code>var</code> when you need to mutate.</p>
                    <p>For classes, <code>let</code> means you can't reassign the reference, but you CAN modify the object's properties.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What is @escaping and when do you use it?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>@escaping</strong> marks a closure that outlives the function it's passed to.</p>
                    <pre><code>func fetchData(completion: @escaping (Data) -> Void) {
    // completion will be called AFTER function returns
    DispatchQueue.global().async {
        let data = loadData()
        completion(data)  // Called later
    }
}</code></pre>
                    <p>Required for: async callbacks, stored closures, delayed execution.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What is a computed property vs stored property?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>Stored:</strong> Holds a value in memory.</p>
                    <pre><code>var name: String = "John"</code></pre>
                    <p><strong>Computed:</strong> Calculates value each time it's accessed.</p>
                    <pre><code>var fullName: String {
    return "\(firstName) \(lastName)"
}</code></pre>
                    <p>Use computed for derived values. Can have getter and setter.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What's the difference between Any and AnyObject?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>Any:</strong> Can represent any type (class, struct, enum, function, etc.)</p>
                    <p><strong>AnyObject:</strong> Can only represent class instances (reference types).</p>
                    <p>Use <code>Any</code> when you need to store mixed types. Use <code>AnyObject</code> for class-only constraints.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">Explain the responder chain</div>
                <div class="answer"><div class="answer-content">
                    <p>Events (touches, presses) travel up the <strong>responder chain</strong> until handled.</p>
                    <p>Chain: View ‚Üí Superview ‚Üí ... ‚Üí ViewController ‚Üí Window ‚Üí Application</p>
                    <p>Each responder can handle the event or pass it up via <code>next</code> responder.</p>
                    <p>Used for: touch handling, menu actions, keyboard input.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What is KVO (Key-Value Observing)?</div>
                <div class="answer"><div class="answer-content">
                    <p>Mechanism to observe changes to an object's properties.</p>
                    <pre><code>observation = object.observe(\.property) { obj, change in
    print("Property changed to \(obj.property)")
}</code></pre>
                    <p>Property must be marked <code>@objc dynamic</code>. Modern alternative: Combine framework.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What is method swizzling?</div>
                <div class="answer"><div class="answer-content">
                    <p>Runtime technique to swap method implementations. Used for:</p>
                    <ul>
                        <li>Analytics ‚Äî intercept viewDidAppear</li>
                        <li>Debugging ‚Äî add logging to framework methods</li>
                        <li>Patching bugs in frameworks</li>
                    </ul>
                    <p>‚ö†Ô∏è Use sparingly ‚Äî can cause hard-to-debug issues. Not possible with Swift-only code.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What are property wrappers?</div>
                <div class="answer"><div class="answer-content">
                    <p>Custom attributes that add behavior to properties.</p>
                    <pre><code>@State var count = 0        // SwiftUI state
@Published var name = ""    // Combine publisher
@AppStorage("key") var x    // UserDefaults backed</code></pre>
                    <p>You can create custom ones with <code>@propertyWrapper</code> for validation, transformation, etc.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What is Core Data and when would you use it?</div>
                <div class="answer"><div class="answer-content">
                    <p>Apple's <strong>object graph and persistence framework</strong>. Not just a database ‚Äî manages object relationships.</p>
                    <ul>
                        <li>Complex data with relationships</li>
                        <li>Undo/redo support</li>
                        <li>iCloud sync</li>
                        <li>Lazy loading, faulting</li>
                    </ul>
                    <p>For simple key-value: UserDefaults. For simple tables: SQLite/Realm. For complex object graphs: Core Data.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">Explain App Transport Security (ATS)</div>
                <div class="answer"><div class="answer-content">
                    <p>iOS feature requiring <strong>HTTPS</strong> for all network connections by default.</p>
                    <p>Enforces: TLS 1.2+, forward secrecy, valid certificates.</p>
                    <p>Can add exceptions in Info.plist for specific domains, but Apple discourages this for App Store apps.</p>
                </div></div>
            </div>

            <h2>üåê More General Questions</h2>
            
            <div class="qa">
                <div class="question">What is dependency injection and why use it?</div>
                <div class="answer"><div class="answer-content">
                    <p>Pass dependencies in from outside instead of creating them inside.</p>
                    <pre><code>// Instead of: let api = APIClient()
// Do: init(api: APIClient) { self.api = api }</code></pre>
                    <p><strong>Benefits:</strong></p>
                    <ul>
                        <li>Testability ‚Äî inject mocks for testing</li>
                        <li>Flexibility ‚Äî swap implementations easily</li>
                        <li>Decoupling ‚Äî class doesn't know concrete types</li>
                    </ul>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">Explain MVVM architecture</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>Model:</strong> Data and business logic</p>
                    <p><strong>View:</strong> UI layer (dumb)</p>
                    <p><strong>ViewModel:</strong> Prepares data for display, handles UI logic</p>
                    <p>View observes ViewModel. ViewModel doesn't know about View. Benefits: testable, separated concerns.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">How do you debug a crash?</div>
                <div class="answer"><div class="answer-content">
                    <ol>
                        <li>Read the stack trace ‚Äî find your code</li>
                        <li>Reproduce ‚Äî can you make it crash again?</li>
                        <li>Check obvious: nil/null, index bounds, threading</li>
                        <li>Add logging to narrow down location</li>
                        <li>Use debugger ‚Äî breakpoints, step through</li>
                        <li>Check recent changes ‚Äî git diff</li>
                    </ol>
                    <p>Mention tools: Firebase Crashlytics, Sentry.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What's the difference between authentication and authorization?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>Authentication:</strong> Verifying WHO you are (login, credentials).</p>
                    <p><strong>Authorization:</strong> Verifying WHAT you can access (permissions, roles).</p>
                    <p>Example: Logging in = authentication. Checking if you can delete a post = authorization.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">Explain OAuth 2.0 flow</div>
                <div class="answer"><div class="answer-content">
                    <p>Authorization framework for third-party access without sharing credentials.</p>
                    <ol>
                        <li>App redirects user to auth server (Google, Facebook)</li>
                        <li>User logs in and grants permission</li>
                        <li>Auth server redirects back with authorization code</li>
                        <li>App exchanges code for access token</li>
                        <li>App uses token to access protected resources</li>
                    </ol>
                    <p>Access tokens expire. Refresh tokens get new access tokens.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What is a race condition?</div>
                <div class="answer"><div class="answer-content">
                    <p>Bug where behavior depends on timing of uncontrolled events (thread scheduling).</p>
                    <p>Example: Two threads incrementing counter without synchronization ‚Äî some increments get lost.</p>
                    <p><strong>Solutions:</strong> Mutexes/locks, serial queues, atomic operations, immutable data.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What is a deadlock?</div>
                <div class="answer"><div class="answer-content">
                    <p>Two or more threads waiting for each other forever.</p>
                    <p>Example: Thread A holds lock 1, waits for lock 2. Thread B holds lock 2, waits for lock 1.</p>
                    <p><strong>Prevention:</strong> Always acquire locks in same order. Use timeouts. Avoid nested locks.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">Explain the Repository pattern</div>
                <div class="answer"><div class="answer-content">
                    <p>Abstraction layer between data sources and business logic.</p>
                    <pre><code>protocol UserRepository {
    func getUser(id: Int) -> User
    func saveUser(_ user: User)
}</code></pre>
                    <p>Implementation can fetch from network, database, or cache. Business logic doesn't know or care where data comes from.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">What is CI/CD?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>Continuous Integration:</strong> Automatically build and test on every commit.</p>
                    <p><strong>Continuous Delivery:</strong> Automatically prepare releases (deploy with manual approval).</p>
                    <p><strong>Continuous Deployment:</strong> Automatically deploy to production.</p>
                    <p>Tools: GitHub Actions, Jenkins, Fastlane, Bitrise, CircleCI.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">How do you approach code reviews?</div>
                <div class="answer"><div class="answer-content">
                    <p><strong>As reviewer:</strong></p>
                    <ul>
                        <li>Check logic correctness first</li>
                        <li>Look for edge cases, error handling</li>
                        <li>Consider performance and memory</li>
                        <li>Ensure tests cover changes</li>
                        <li>Be constructive, suggest alternatives</li>
                    </ul>
                    <p><strong>As author:</strong> Keep PRs small, write good descriptions, respond to feedback gracefully.</p>
                </div></div>
            </div>

            <h2>üí¨ Behavioral Questions</h2>
            
            <div class="qa">
                <div class="question">Tell me about a challenging bug you solved</div>
                <div class="answer"><div class="answer-content">
                    <p>Use <strong>STAR method:</strong></p>
                    <ul>
                        <li><strong>S</strong>ituation: Context</li>
                        <li><strong>T</strong>ask: The problem</li>
                        <li><strong>A</strong>ction: What YOU did</li>
                        <li><strong>R</strong>esult: Outcome</li>
                    </ul>
                    <p>Good examples: race conditions, memory leaks, device-specific bugs.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">How do you stay current with mobile development?</div>
                <div class="answer"><div class="answer-content">
                    <ul>
                        <li>WWDC / Google I/O sessions</li>
                        <li>Official blogs and release notes</li>
                        <li>Side projects to try new APIs</li>
                        <li>Communities: Reddit, Twitter</li>
                    </ul>
                    <p>Be specific ‚Äî mention a recent feature you learned.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">Describe a time you disagreed with a teammate</div>
                <div class="answer"><div class="answer-content">
                    <p>Key points to hit:</p>
                    <ul>
                        <li>Listened to understand their perspective</li>
                        <li>Focused on what's best for product/users</li>
                        <li>Used data or prototypes to test ideas</li>
                        <li>Compromised or committed to team decision</li>
                    </ul>
                    <p>Shows: communication, collaboration, ego management.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">How do you prioritize when everything is urgent?</div>
                <div class="answer"><div class="answer-content">
                    <ul>
                        <li>Clarify actual deadlines and impact</li>
                        <li>Identify dependencies ‚Äî what blocks others?</li>
                        <li>Communicate with stakeholders about tradeoffs</li>
                        <li>Focus on high-impact items first</li>
                        <li>Say no or negotiate scope when needed</li>
                    </ul>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">Tell me about a project you're proud of</div>
                <div class="answer"><div class="answer-content">
                    <p>Structure your answer:</p>
                    <ul>
                        <li>What was the project and your role?</li>
                        <li>What challenges did you face?</li>
                        <li>What technical decisions did you make and why?</li>
                        <li>What was the outcome/impact?</li>
                        <li>What would you do differently?</li>
                    </ul>
                    <p>Shows: ownership, technical depth, self-reflection.</p>
                </div></div>
            </div>
            
            <div class="qa">
                <div class="question">Why are you looking for a new role?</div>
                <div class="answer"><div class="answer-content">
                    <p>Good answers focus on <strong>what you want</strong>, not what you're escaping:</p>
                    <ul>
                        <li>Looking for new challenges / growth</li>
                        <li>Interested in this company's product/mission</li>
                        <li>Want to work with specific technologies</li>
                        <li>Seeking more impact / responsibility</li>
                    </ul>
                    <p>Avoid: badmouthing current employer, focusing only on money.</p>
                </div></div>
            </div>
        </div>

        <!-- ==================== CODE PATTERNS ==================== -->
        <div id="patterns" class="section">
            <h1>üíª Code Patterns</h1>
            <p class="subtitle">Common patterns and snippets</p>
            
            <div class="code-tabs">
                <button class="code-tab active" onclick="showCodeTab('android-code')">ü§ñ Android</button>
                <button class="code-tab" onclick="showCodeTab('ios-code')">üçé iOS</button>
            </div>
            
            <div id="android-code" class="code-panel active">
                <h2>Activity Lifecycle</h2>
                <pre><code>public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        // Initialize views
    }

    @Override
    protected void onResume() {
        super.onResume();
        // Refresh data, start animations
    }

    @Override
    protected void onPause() {
        super.onPause();
        // Pause animations, save drafts
    }
}</code></pre>

                <h2>Background Thread ‚Üí UI</h2>
                <pre><code>// Option 1: runOnUiThread
new Thread(() -> {
    String result = fetchData();
    
    runOnUiThread(() -> {
        textView.setText(result);
    });
}).start();

// Option 2: Handler
Handler handler = new Handler(Looper.getMainLooper());
executor.execute(() -> {
    String result = fetchData();
    handler.post(() -> textView.setText(result));
});</code></pre>

                <h2>RecyclerView Adapter</h2>
                <pre><code>public class MyAdapter extends RecyclerView.Adapter<MyAdapter.ViewHolder> {
    
    private List<Item> items;

    @Override
    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {
        View view = LayoutInflater.from(parent.getContext())
            .inflate(R.layout.item_layout, parent, false);
        return new ViewHolder(view);
    }

    @Override
    public void onBindViewHolder(ViewHolder holder, int position) {
        Item item = items.get(position);
        holder.titleText.setText(item.getTitle());
    }

    @Override
    public int getItemCount() { return items.size(); }

    static class ViewHolder extends RecyclerView.ViewHolder {
        TextView titleText;
        ViewHolder(View view) {
            super(view);
            titleText = view.findViewById(R.id.title);
        }
    }
}</code></pre>

                <h2>Intent with Data</h2>
                <pre><code>// Send
Intent intent = new Intent(this, DetailActivity.class);
intent.putExtra("USER_ID", 123);
intent.putExtra("USER_NAME", "John");
startActivity(intent);

// Receive
int userId = getIntent().getIntExtra("USER_ID", -1);
String userName = getIntent().getStringExtra("USER_NAME");</code></pre>

                <h2>SharedPreferences</h2>
                <pre><code>SharedPreferences prefs = getSharedPreferences("MyPrefs", MODE_PRIVATE);

// Save
prefs.edit()
    .putString("username", "john")
    .putBoolean("loggedIn", true)
    .apply();

// Read
String username = prefs.getString("username", "");
boolean loggedIn = prefs.getBoolean("loggedIn", false);</code></pre>

                <h2>Singleton (Thread-Safe)</h2>
                <pre><code>public class DataManager {
    private static volatile DataManager instance;
    
    private DataManager() { }
    
    public static DataManager getInstance() {
        if (instance == null) {
            synchronized (DataManager.class) {
                if (instance == null) {
                    instance = new DataManager();
                }
            }
        }
        return instance;
    }
}</code></pre>
            </div>
            
            <div id="ios-code" class="code-panel">
                <h2>ViewController Lifecycle</h2>
                <pre><code>class ViewController: UIViewController {

    override func viewDidLoad() {
        super.viewDidLoad()
        // One-time setup
    }
    
    override func viewWillAppear(_ animated: Bool) {
        super.viewWillAppear(animated)
        // Refresh data every time
    }
    
    override func viewDidDisappear(_ animated: Bool) {
        super.viewDidDisappear(animated)
        // Stop tasks
    }
}</code></pre>

                <h2>GCD: Background ‚Üí Main</h2>
                <pre><code>DispatchQueue.global(qos: .userInitiated).async {
    let data = self.fetchData()
    
    DispatchQueue.main.async {
        self.tableView.reloadData()
    }
}

// Delayed
DispatchQueue.main.asyncAfter(deadline: .now() + 2.0) {
    self.showAlert()
}</code></pre>

                <h2>async/await</h2>
                <pre><code>func fetchUser() async throws -> User {
    let (data, _) = try await URLSession.shared.data(from: url)
    return try JSONDecoder().decode(User.self, from: data)
}

Task {
    do {
        let user = try await fetchUser()
        self.user = user
    } catch {
        print(error)
    }
}</code></pre>

                <h2>Delegate Pattern</h2>
                <pre><code>// 1. Protocol
protocol SelectionDelegate: AnyObject {
    func didSelect(_ item: Item)
}

// 2. Child with delegate
class ListVC: UIViewController {
    weak var delegate: SelectionDelegate?
    
    func itemTapped(_ item: Item) {
        delegate?.didSelect(item)
    }
}

// 3. Parent implements
class MainVC: UIViewController, SelectionDelegate {
    func showList() {
        let vc = ListVC()
        vc.delegate = self
        present(vc, animated: true)
    }
    
    func didSelect(_ item: Item) {
        print("Selected: \(item)")
    }
}</code></pre>

                <h2>Closure with weak self</h2>
                <pre><code>// ‚ùå Retain cycle
networkManager.fetch { data in
    self.updateUI(data)
}

// ‚úÖ Fixed
networkManager.fetch { [weak self] data in
    guard let self = self else { return }
    self.updateUI(data)
}</code></pre>

                <h2>UserDefaults</h2>
                <pre><code>let defaults = UserDefaults.standard

// Save
defaults.set("john", forKey: "username")
defaults.set(true, forKey: "loggedIn")

// Read
let username = defaults.string(forKey: "username") ?? ""
let loggedIn = defaults.bool(forKey: "loggedIn")</code></pre>

                <h2>URLSession Request</h2>
                <pre><code>func fetchData(completion: @escaping (Result<Data, Error>) -> Void) {
    guard let url = URL(string: "https://api.example.com") else { return }
    
    URLSession.shared.dataTask(with: url) { data, _, error in
        if let error = error {
            completion(.failure(error))
            return
        }
        if let data = data {
            completion(.success(data))
        }
    }.resume()  // Don't forget!
}</code></pre>

                <h2>SwiftUI View</h2>
                <pre><code>struct ContentView: View {
    @State private var count = 0
    @State private var name = ""
    
    var body: some View {
        VStack(spacing: 20) {
            Text("Count: \(count)")
            
            Button("Increment") {
                count += 1
            }
            
            TextField("Name", text: $name)
        }
        .padding()
    }
}</code></pre>
            </div>
        </div>
        
    </div>

    <script>
        function showSection(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            window.scrollTo(0, 0);
        }
        
        document.querySelectorAll('.qa').forEach(qa => {
            qa.querySelector('.question').addEventListener('click', () => {
                qa.classList.toggle('open');
            });
        });
        
        function showCodeTab(id) {
            document.querySelectorAll('.code-panel').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.querySelectorAll('.code-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
