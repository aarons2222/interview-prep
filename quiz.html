<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interview Quiz - Android & iOS</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            color: #fff;
            padding: 40px 20px;
        }
        .container { max-width: 800px; margin: 0 auto; }
        .back {
            color: #fff;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            font-size: 1.2rem;
            margin-bottom: 20px;
            transition: all 0.2s;
        }
        .back:hover {
            background: rgba(255,255,255,0.2);
            border-color: #00d9ff;
        }
        h1 { 
            font-size: 2rem; 
            margin-bottom: 10px; 
            text-align: center;
            background: linear-gradient(90deg, #00d9ff, #00ff88);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .subtitle { color: #888; margin-bottom: 20px; text-align: center; }
        .stats-bar {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 25px;
            padding: 12px 20px;
            background: rgba(255,255,255,0.03);
            border-radius: 10px;
            font-size: 0.95rem;
            color: #888;
        }
        .stats-bar strong { color: #00ff88; }
        
        .progress-bar {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            height: 8px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        .progress-fill {
            background: linear-gradient(90deg, #00d9ff, #00ff88);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .score-display {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.1rem;
            color: #888;
        }
        .score-display span { color: #00ff88; font-weight: 600; }
        
        .question-card {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 20px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .question-number {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 15px;
        }
        .tag-ios { background: #FF5722; }
        .tag-android { background: #4CAF50; color: #000; }
        .tag-general { background: #00d9ff; color: #000; }
        
        .question-text {
            font-size: 1.2rem;
            margin-bottom: 25px;
            line-height: 1.5;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .option {
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 16px 20px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .option:hover:not(.disabled) {
            background: rgba(255,255,255,0.1);
            border-color: rgba(255,255,255,0.3);
        }
        .option.selected {
            border-color: #00d9ff;
            background: rgba(0,217,255,0.1);
        }
        .option.correct {
            border-color: #00ff88;
            background: rgba(0,255,136,0.1);
        }
        .option.incorrect {
            border-color: #ff4444;
            background: rgba(255,68,68,0.1);
        }
        .option.disabled { cursor: default; }
        
        .option-letter {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
        }
        .option.correct .option-letter { background: #00ff88; color: #000; }
        .option.incorrect .option-letter { background: #ff4444; }
        
        .explanation {
            margin-top: 20px;
            padding: 20px;
            background: rgba(0,217,255,0.1);
            border-left: 4px solid #00d9ff;
            border-radius: 0 12px 12px 0;
            display: none;
        }
        .explanation.show { display: block; }
        .explanation strong { color: #00d9ff; }
        .explanation-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .tts-btn {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: #fff;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s;
        }
        .tts-btn:hover { background: rgba(255,255,255,0.2); }
        .tts-btn.speaking { background: #00d9ff; color: #000; }
        
        .nav-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }
        .btn {
            flex: 1;
            padding: 16px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        .btn-primary {
            background: linear-gradient(90deg, #00d9ff, #00ff88);
            color: #000;
        }
        .btn-primary:hover { transform: translateY(-2px); }
        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        .btn-secondary {
            background: rgba(255,255,255,0.1);
            color: #fff;
            border: 1px solid rgba(255,255,255,0.2);
        }
        .btn-secondary:hover { background: rgba(255,255,255,0.15); }
        
        .results {
            text-align: center;
            display: none;
        }
        .results.show { display: block; }
        .results h2 {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        .results .final-score {
            font-size: 4rem;
            font-weight: 700;
            background: linear-gradient(90deg, #00d9ff, #00ff88);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 20px 0;
        }
        .results .message {
            font-size: 1.2rem;
            color: #888;
            margin-bottom: 30px;
        }
        .review-btn {
            display: inline-block;
            padding: 16px 40px;
            background: linear-gradient(90deg, #00d9ff, #00ff88);
            color: #000;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            margin: 10px;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }
        .review-btn.secondary {
            background: rgba(255,255,255,0.1);
            color: #fff;
        }
        
        .hidden { display: none !important; }
        
        .history-section {
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        .history-section h3 {
            margin-bottom: 20px;
            color: #888;
        }
        .history-item {
            background: rgba(255,255,255,0.03);
            border-radius: 12px;
            padding: 15px 20px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .history-score {
            font-weight: 600;
            font-size: 1.2rem;
        }
        .history-date { color: #666; font-size: 0.9rem; }
        
        .bank-info {
            text-align: center;
            color: #666;
            font-size: 0.85rem;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back">‚úï</a>
        <h1>üìù Interview Quiz</h1>
        <p class="subtitle">20 random questions from 400+ question bank</p>
        
        <div class="stats-bar" id="statsBar">
            <span>üèÜ Quizzes completed: <strong id="quizCount">0</strong></span>
            <span>üìä Best score: <strong id="bestScore">-</strong></span>
        </div>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progress"></div>
        </div>
        
        <div class="score-display">
            Question <span id="currentQ">1</span> of <span id="totalQ">20</span> | 
            Score: <span id="score">0</span>
        </div>
        
        <div id="quiz-container"></div>
        
        <div class="results" id="results">
            <h2>Quiz Complete!</h2>
            <div class="final-score" id="finalScore">0%</div>
            <p class="message" id="resultMessage"></p>
            <div style="margin-bottom: 20px;">
                <button class="review-btn" onclick="viewMatrix()">üìä View Strengths & Weaknesses</button>
            </div>
            <div>
                <button class="review-btn secondary" onclick="restartQuiz()">Try Again (New Questions)</button>
                <a href="index.html" class="review-btn secondary">Back to Prep</a>
            </div>
            
            <div class="history-section" id="historySection">
                <h3>üìà Previous Attempts</h3>
                <div id="historyList"></div>
            </div>
        </div>
        
        <p class="bank-info" id="bankInfo"></p>
    </div>

    <script>
        // ==================== 400+ QUESTION BANK ====================
        const questionBank = [
            // ==================== iOS - UIKit/SwiftUI (20) ====================
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is the main difference between UIKit and SwiftUI?', options: ['UIKit uses a newer rendering engine than SwiftUI does', 'UIKit is imperative while SwiftUI uses declarative syntax', 'SwiftUI is optimised specifically for iPad applications', 'UIKit requires Objective-C whereas SwiftUI uses Swift'], correct: 1, explanation: 'UIKit is imperative ‚Äî you tell it HOW to build the UI step by step. SwiftUI is declarative ‚Äî you describe WHAT the UI should look like.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'Which property wrapper makes a SwiftUI view update when data changes?', options: ['@Published notifies subscribers of changes to a property', '@State stores mutable value types owned by the view', '@Binding creates two-way connection to parent state', '@ObservedObject watches external reference type objects'], correct: 1, explanation: '@State is used for simple value types owned by the view. When @State changes, SwiftUI re-renders the view.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is the purpose of @Binding in SwiftUI?', options: ['It creates an independent copy of state data locally', 'It shares state between parent and child views directly', 'It fetches and caches data from remote API endpoints', 'It triggers animations when property values change'], correct: 1, explanation: '@Binding creates a two-way connection to a @State property owned by a parent view.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What does @ObservedObject do in SwiftUI?', options: ['It observes and responds to iOS system events', 'It watches an external ObservableObject for changes', 'It creates a shared singleton across all views', 'It automatically binds views to Core Data entities'], correct: 1, explanation: '@ObservedObject watches an external object conforming to ObservableObject and updates the view when @Published properties change.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is a UIViewController responsible for?', options: ['Drawing individual pixels directly onto the screen', 'Managing a view hierarchy and responding to events', 'Handling all network requests for the application', 'Persisting data to disk and managing storage'], correct: 1, explanation: 'UIViewController manages a view hierarchy, handles user interaction, and coordinates with the app lifecycle.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is the purpose of UITableViewDataSource?', options: ['It handles user selection events on table cells', 'It provides data and creates cells for the table', 'It applies visual styling and themes to the table', 'It manages scroll position and momentum physics'], correct: 1, explanation: 'UITableViewDataSource provides the number of rows/sections and creates cells for the table view to display.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'How do you pass data between SwiftUI views?', options: ['Only through global variables and static properties', 'Through initialisers, @Binding, or environment objects', 'Exclusively using NotificationCenter broadcasts', 'By storing everything in UserDefaults for access'], correct: 1, explanation: 'Data flows via initializers (down), @Binding (two-way), @EnvironmentObject (dependency injection), or @Environment.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is the SwiftUI equivalent of UINavigationController?', options: ['NavigationStack manages hierarchical screen navigation', 'NavigationLink creates tappable navigation destinations', 'NavigationController is ported directly from UIKit', 'NavView is the simplified navigation container'], correct: 0, explanation: 'NavigationStack (iOS 16+) or NavigationView manages hierarchical navigation in SwiftUI.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What does @StateObject do differently from @ObservedObject?', options: ['They function identically with no practical difference', '@StateObject owns and creates the object instance itself', '@StateObject is designed specifically for struct types', '@ObservedObject is deprecated in favour of StateObject'], correct: 1, explanation: '@StateObject creates and owns the instance (survives view recreation). @ObservedObject expects the object to be passed in.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is a Storyboard in iOS development?', options: ['A Swift source file containing business logic code', 'A visual tool for designing UI layouts and segues', 'A framework for writing and running unit tests', 'A configuration file for build settings and schemes'], correct: 1, explanation: 'Storyboards are XML files with a visual editor for designing UI, creating segues, and setting up view controllers.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is the purpose of prepareForReuse() in UITableViewCell?', options: ['It prepares the cell for initial display to user', 'It resets the cell state before it gets reused', 'It triggers the cell entrance animation sequence', 'It removes the cell from memory when scrolled away'], correct: 1, explanation: 'prepareForReuse() is called before a cell is reused. Reset any content to avoid showing stale data.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is Auto Layout?', options: ['A system that automatically formats source code style', 'A constraint-based system for adaptive view layouts', 'A SwiftUI-specific feature for responsive design', 'A memory management system for view hierarchies'], correct: 1, explanation: 'Auto Layout uses constraints to define relationships between views, enabling adaptive layouts across screen sizes.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is the difference between frame and bounds?', options: ['They represent the same thing with different names', 'Frame uses superview coordinates, bounds uses own', 'Bounds accounts for rotation while frame does not', 'Frame is exclusive to SwiftUI view measurements'], correct: 1, explanation: 'Frame is position/size relative to superview. Bounds is position/size in the view\'s own coordinate system.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is @Environment used for in SwiftUI?', options: ['It sets custom environment variables for the app', 'It reads system values like colour scheme and locale', 'It creates globally accessible state across all views', 'It provides debugging information during development'], correct: 1, explanation: '@Environment reads system values (colorScheme, locale, etc.) or custom EnvironmentValues injected up the view tree.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is a GeometryReader in SwiftUI?', options: ['A utility for reading files from the file system', 'A container providing size and coordinate information', 'A framework for rendering 3D graphics and models', 'A component for detecting and handling user gestures'], correct: 1, explanation: 'GeometryReader provides the size and coordinate space of its container, useful for custom layouts.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is the purpose of viewDidLoad()?', options: ['It is called every time the view becomes visible', 'It is called once when the view loads into memory', 'It is called when the view is about to deallocate', 'It is called when device orientation changes'], correct: 1, explanation: 'viewDidLoad() is called once after the view hierarchy is loaded. Use it for one-time setup.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is a ZStack in SwiftUI?', options: ['A stack with zero padding between child elements', 'A stack that layers views on the depth axis', 'A stack that compresses views to minimum size', 'A stack that arranges views in horizontal rows'], correct: 1, explanation: 'ZStack overlays views on top of each other along the z-axis (depth).' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What does dequeueReusableCell do?', options: ['It allocates and creates a brand new cell instance', 'It returns a recycled cell or creates one if needed', 'It permanently removes a cell from the table view', 'It triggers the cell appearance animation sequence'], correct: 1, explanation: 'dequeueReusableCell returns a recycled cell from the reuse pool, or creates a new one if none available.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is the purpose of @ViewBuilder?', options: ['It generates app icons for different device sizes', 'It enables functions to return multiple child views', 'It instantiates UIViewController subclasses from code', 'It optimises rendering performance for complex views'], correct: 1, explanation: '@ViewBuilder is a result builder that lets functions return multiple views combined into one.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is safeAreaInsets?', options: ['Regions of memory protected from unauthorised access', 'Padding to avoid notches, home indicators, status bar', 'Encrypted storage areas for sensitive user data', 'Boundaries used for testing view frame calculations'], correct: 1, explanation: 'Safe area insets define regions not obscured by system UI (notch, home indicator, status bar).' },
            
            // ==================== iOS - Memory (15) ====================
            { tag: 'ios', topic: 'Memory', question: 'What does ARC stand for?', options: ['Apple Resource Controller for managing system resources', 'Automatic Reference Counting for memory management', 'Advanced Runtime Compiler for optimising bytecode', 'Asynchronous Request Cache for network responses'], correct: 1, explanation: 'ARC automatically tracks reference counts and deallocates objects when count hits zero.' },
            { tag: 'ios', topic: 'Memory', question: 'How do you prevent retain cycles in closures?', options: ['Mark the closure with the @escaping attribute', 'Use [weak self] or [unowned self] in capture list', 'Convert all classes to struct value types instead', 'Manually call deinit when closure completes execution'], correct: 1, explanation: '[weak self] captures weakly (becomes optional). [unowned self] doesn\'t retain but crashes if nil.' },
            { tag: 'ios', topic: 'Memory', question: 'What is the difference between weak and unowned?', options: ['Weak references have better runtime performance', 'Weak becomes nil on dealloc, unowned crashes if accessed', 'Unowned is specifically designed for value types only', 'There is no functional difference between them'], correct: 1, explanation: 'Weak references become nil when deallocated. Unowned crashes if accessed after deallocation.' },
            { tag: 'ios', topic: 'Memory', question: 'What is a retain cycle?', options: ['A recursive loop that occurs within code execution', 'Two objects strongly referencing each other indefinitely', 'A caching strategy used for improving performance', 'A design pattern for managing object lifecycles'], correct: 1, explanation: 'Retain cycles occur when objects hold strong references to each other, so neither can be deallocated.' },
            { tag: 'ios', topic: 'Memory', question: 'When is deinit called?', options: ['When the application is about to terminate completely', 'When an object is about to be deallocated from memory', 'Every frame during the main run loop execution', 'When viewDidDisappear is triggered on a controller'], correct: 1, explanation: 'deinit is called just before an object is deallocated. Use it to clean up resources.' },
            { tag: 'ios', topic: 'Memory', question: 'What is a memory leak?', options: ['A hardware failure affecting physical RAM modules', 'Memory that is allocated but never properly freed', 'Gradual performance degradation over app runtime', 'A security vulnerability in memory protection'], correct: 1, explanation: 'Memory leaks occur when allocated memory is never freed, usually due to retain cycles or forgotten references.' },
            { tag: 'ios', topic: 'Memory', question: 'What tool helps detect memory leaks in Xcode?', options: ['The iOS Simulator with debug mode enabled', 'The Instruments app with Leaks template selected', 'Swift Playgrounds with memory visualisation enabled', 'TestFlight with diagnostic logging turned on'], correct: 1, explanation: 'Instruments with the Leaks template detects memory leaks. Also check for abandoned memory.' },
            { tag: 'ios', topic: 'Memory', question: 'Why use structs over classes for simple data?', options: ['Structs provide slower but more reliable performance', 'Structs are value types without retain counting overhead', 'Classes have been deprecated in modern Swift versions', 'Structs support inheritance unlike class types'], correct: 1, explanation: 'Structs are value types, copied on assignment. No reference counting needed, avoiding retain cycles.' },
            { tag: 'ios', topic: 'Memory', question: 'What does [weak self] do in a closure?', options: ['It makes the closure execute more efficiently', 'It captures self without increasing the retain count', 'It prevents the closure from executing at runtime', 'It makes self immutable within the closure body'], correct: 1, explanation: '[weak self] captures self weakly. Self becomes an optional and may be nil inside the closure.' },
            { tag: 'ios', topic: 'Memory', question: 'When should you use unowned instead of weak?', options: ['Always use unowned as it is more efficient overall', 'When the reference will definitely outlive the closure', 'Never use unowned as it is unsafe and deprecated', 'Use unowned specifically for UI element references'], correct: 1, explanation: 'Use unowned when the reference is guaranteed to exist for the closure\'s lifetime. Avoids optional unwrapping.' },
            { tag: 'ios', topic: 'Memory', question: 'What is autorelease pool used for?', options: ['Managing concurrent threads in multi-threaded code', 'Delaying object deallocation until the pool drains', 'Caching network responses for offline access later', 'Optimising UI rendering performance on main thread'], correct: 1, explanation: 'Autorelease pools delay deallocation of autoreleased objects until the pool drains, managing memory in loops.' },
            { tag: 'ios', topic: 'Memory', question: 'How can delegates cause retain cycles?', options: ['Delegates are automatically weak so they cannot', 'If delegate is strong then both objects retain each other', 'Delegates cannot cause retain cycles by design', 'Only closures can cause retain cycles not delegates'], correct: 1, explanation: 'If a delegate property is strong, the delegating object and delegate can retain each other. Use weak delegates.' },
            { tag: 'ios', topic: 'Memory', question: 'What is copy-on-write?', options: ['A method for copying files between directories', 'Value types share storage until one is mutated', 'A design pattern for implementing undo functionality', 'A network protocol for transferring binary data'], correct: 1, explanation: 'Swift collections use copy-on-write: they share underlying storage until one copy is mutated, improving performance.' },
            { tag: 'ios', topic: 'Memory', question: 'What does the Allocations instrument show?', options: ['Detailed breakdown of CPU usage per function call', 'All memory allocations and their complete lifecycle', 'Network traffic statistics including request timing', 'UI frame rate and rendering performance metrics'], correct: 1, explanation: 'Allocations shows every object allocated, its size, and when it was created/destroyed.' },
            { tag: 'ios', topic: 'Memory', question: 'What is abandoned memory?', options: ['Memory leaks that have been partially cleaned up', 'Memory still referenced but no longer actually needed', 'Memory that has been properly freed and returned', 'Memory allocated on the stack during function calls'], correct: 1, explanation: 'Abandoned memory is still reachable (not a leak) but no longer used. Often from caches or forgotten references.' },
            
            // ==================== iOS - Lifecycle (12) ====================
            { tag: 'ios', topic: 'Lifecycle', question: 'Which state means the app is in foreground but not receiving events?', options: ['Active', 'Background', 'Inactive', 'Suspended'], correct: 2, explanation: 'Inactive: foreground but not receiving events (e.g., incoming call, system alert).' },
            { tag: 'ios', topic: 'Lifecycle', question: 'Which method is called when app moves to background?', options: ['applicationWillResignActive', 'applicationDidEnterBackground', 'applicationWillTerminate', 'viewDidDisappear'], correct: 1, explanation: 'applicationDidEnterBackground is called when the app has fully entered the background.' },
            { tag: 'ios', topic: 'Lifecycle', question: 'What is the Suspended state?', options: ['App is frozen', 'App is in background, not executing, can be purged', 'App crashed', 'App is updating'], correct: 1, explanation: 'Suspended apps are in memory but not executing. System can purge them without notice to free memory.' },
            { tag: 'ios', topic: 'Lifecycle', question: 'When is viewWillAppear called?', options: ['Once when loaded', 'Every time the view is about to become visible', 'When view is deallocated', 'On orientation change'], correct: 1, explanation: 'viewWillAppear is called each time the view is about to appear on screen.' },
            { tag: 'ios', topic: 'Lifecycle', question: 'What is the difference between viewDidLoad and viewWillAppear?', options: ['Same thing', 'viewDidLoad once on load, viewWillAppear every time view appears', 'viewWillAppear is deprecated', 'viewDidLoad is for SwiftUI'], correct: 1, explanation: 'viewDidLoad: once when view loads. viewWillAppear: every time view becomes visible.' },
            { tag: 'ios', topic: 'Lifecycle', question: 'When should you save user data?', options: ['Only on app terminate', 'In applicationDidEnterBackground or sceneDidEnterBackground', 'Never automatically', 'Only on device shutdown'], correct: 1, explanation: 'Save data when entering background. App may be terminated without warning from suspended state.' },
            { tag: 'ios', topic: 'Lifecycle', question: 'What is a Scene in iOS 13+?', options: ['A view controller', 'An instance of your app\'s UI that can run alongside others', 'A storyboard', 'A test case'], correct: 1, explanation: 'Scenes allow multiple instances of your app UI (e.g., split view on iPad). Each has its own lifecycle.' },
            { tag: 'ios', topic: 'Lifecycle', question: 'What does applicationWillTerminate do?', options: ['Always called before app closes', 'Called if app is terminated while in foreground (not suspended)', 'Never called', 'Called every 5 minutes'], correct: 1, explanation: 'applicationWillTerminate is NOT called if app is terminated from suspended state. Not guaranteed.' },
            { tag: 'ios', topic: 'Lifecycle', question: 'When is viewDidDisappear called?', options: ['When view is deallocated', 'After view has been removed from screen', 'Before view appears', 'On memory warning'], correct: 1, explanation: 'viewDidDisappear is called after the view has been removed from the view hierarchy.' },
            { tag: 'ios', topic: 'Lifecycle', question: 'What happens on a memory warning?', options: ['App crashes', 'didReceiveMemoryWarning is called, release caches', 'Nothing', 'App is suspended'], correct: 1, explanation: 'Memory warnings let you free caches and resources. If you don\'t reduce memory, app may be terminated.' },
            { tag: 'ios', topic: 'Lifecycle', question: 'What is the purpose of sceneDidBecomeActive?', options: ['Scene was loaded', 'Scene is now in foreground and interactive', 'Scene was terminated', 'Scene rotated'], correct: 1, explanation: 'sceneDidBecomeActive: scene is in foreground and ready for user interaction. Resume tasks here.' },
            { tag: 'ios', topic: 'Lifecycle', question: 'How do you handle state restoration?', options: ['It\'s automatic', 'Implement restorationIdentifier and encode/decode state', 'Not possible', 'Use Core Data'], correct: 1, explanation: 'Assign restorationIdentifier to view controllers and implement encode/decode methods for state.' },
            
            // ==================== iOS - Architecture (12) ====================
            { tag: 'ios', topic: 'Architecture', question: 'In MVVM, which layer does ViewController belong to?', options: ['Model', 'View', 'ViewModel', 'Controller'], correct: 1, explanation: 'In MVVM, ViewController is part of the View layer. ViewModel handles presentation logic.' },
            { tag: 'ios', topic: 'Architecture', question: 'What problem does the Coordinator pattern solve?', options: ['Memory leaks', 'Navigation logic scattered across VCs', 'Slow networking', 'Database issues'], correct: 1, explanation: 'Coordinators centralize navigation logic, making VCs more reusable and navigation testable.' },
            { tag: 'ios', topic: 'Architecture', question: 'What is the purpose of a ViewModel?', options: ['Display views', 'Transform model data for display and handle presentation logic', 'Make network requests', 'Store to database'], correct: 1, explanation: 'ViewModel transforms model data for display and contains presentation logic, keeping View simple.' },
            { tag: 'ios', topic: 'Architecture', question: 'What does VIPER stand for?', options: ['View, Interface, Presenter, Entity, Router', 'View, Interactor, Presenter, Entity, Router', 'Visual Interface Protocol', 'None of these'], correct: 1, explanation: 'VIPER: View, Interactor, Presenter, Entity, Router. A highly modular architecture.' },
            { tag: 'ios', topic: 'Architecture', question: 'What is the Repository pattern?', options: ['Git workflow', 'Abstracts data sources behind a clean interface', 'UI pattern', 'Testing pattern'], correct: 1, explanation: 'Repository abstracts data access. Consumers don\'t know if data comes from network, cache, or database.' },
            { tag: 'ios', topic: 'Architecture', question: 'Why avoid Massive View Controller?', options: ['It\'s fast', 'Hard to test, maintain, and reuse', 'Apple recommends it', 'It uses less memory'], correct: 1, explanation: 'Massive VCs mix concerns, making code hard to test, maintain, and reuse. Extract logic to other layers.' },
            { tag: 'ios', topic: 'Architecture', question: 'What is dependency injection?', options: ['Injecting code at runtime', 'Providing dependencies from outside rather than creating internally', 'A security feature', 'Automatic imports'], correct: 1, explanation: 'DI provides dependencies externally, enabling testing with mocks and loose coupling.' },
            { tag: 'ios', topic: 'Architecture', question: 'What is a use case in Clean Architecture?', options: ['A test case', 'A single piece of business logic', 'A UI component', 'A data model'], correct: 1, explanation: 'Use cases (interactors) contain single business operations, independent of UI and frameworks.' },
            { tag: 'ios', topic: 'Architecture', question: 'What is the purpose of protocols in architecture?', options: ['Network protocol', 'Define contracts for loose coupling and testability', 'Memory management', 'Threading'], correct: 1, explanation: 'Protocols define interfaces, allowing different implementations and mock objects for testing.' },
            { tag: 'ios', topic: 'Architecture', question: 'What is unidirectional data flow?', options: ['Data flows one direction through the app', 'Using one database', 'Single-threaded', 'One API endpoint'], correct: 0, explanation: 'Unidirectional flow: State ‚Üí View ‚Üí Action ‚Üí Reducer ‚Üí State. Makes state predictable. (Redux, TCA)' },
            { tag: 'ios', topic: 'Architecture', question: 'What is The Composable Architecture (TCA)?', options: ['UI framework', 'A Swift architecture with unidirectional flow, reducers, and effects', 'A build system', 'Apple framework'], correct: 1, explanation: 'TCA is a popular Swift architecture using unidirectional flow, composable reducers, and testable effects.' },
            { tag: 'ios', topic: 'Architecture', question: 'What is the Model in MVC/MVVM?', options: ['UI components', 'Data structures and business logic', 'Navigation', 'Networking'], correct: 1, explanation: 'Model contains data structures, business rules, and data access. Independent of UI.' },
            
            // ==================== iOS - Data/Security (12) ====================
            { tag: 'ios', topic: 'Data/Security', question: 'Where should you store auth tokens?', options: ['UserDefaults', 'Core Data', 'Keychain', 'Documents folder'], correct: 2, explanation: 'Keychain is encrypted secure storage. Never store sensitive data in UserDefaults.' },
            { tag: 'ios', topic: 'Data/Security', question: 'What is App Transport Security?', options: ['DRM', 'Requirement to use HTTPS', 'Code signing', 'Encryption library'], correct: 1, explanation: 'ATS enforces HTTPS by default. Exceptions must be declared in Info.plist.' },
            { tag: 'ios', topic: 'Data/Security', question: 'What is UserDefaults used for?', options: ['Sensitive data', 'Small amounts of user preferences', 'Large files', 'Images'], correct: 1, explanation: 'UserDefaults stores simple preferences (settings, flags). Not secure, not for large data.' },
            { tag: 'ios', topic: 'Data/Security', question: 'What is Core Data?', options: ['Database server', 'Object graph and persistence framework', 'Networking', 'UI framework'], correct: 1, explanation: 'Core Data manages object graphs with persistence (usually SQLite). Handles relationships and caching.' },
            { tag: 'ios', topic: 'Data/Security', question: 'What is certificate pinning?', options: ['UI animation', 'Validating server certificates against known values', 'Storing certs locally', 'Creating certificates'], correct: 1, explanation: 'Pinning validates server certificates against embedded copies, preventing MITM attacks.' },
            { tag: 'ios', topic: 'Data/Security', question: 'What is the Codable protocol?', options: ['Encryption', 'Enables encoding/decoding to JSON, plist, etc.', 'Code signing', 'Obfuscation'], correct: 1, explanation: 'Codable (Encodable + Decodable) enables automatic encoding/decoding to various formats.' },
            { tag: 'ios', topic: 'Data/Security', question: 'What is FileManager used for?', options: ['Memory management', 'Working with the file system', 'Network requests', 'UI layout'], correct: 1, explanation: 'FileManager creates, reads, writes, deletes, and manages files and directories.' },
            { tag: 'ios', topic: 'Data/Security', question: 'Where should large files be stored?', options: ['UserDefaults', 'Keychain', 'Documents or Caches directory', 'In memory'], correct: 2, explanation: 'Large files go in Documents (user data, backed up) or Caches (recreatable, not backed up).' },
            { tag: 'ios', topic: 'Data/Security', question: 'What is CloudKit?', options: ['Weather API', 'Apple\'s cloud storage and database service', 'File compression', 'Backup tool'], correct: 1, explanation: 'CloudKit provides cloud storage, database, and sync across user\'s devices via iCloud.' },
            { tag: 'ios', topic: 'Data/Security', question: 'What is biometric authentication on iOS?', options: ['Password only', 'Face ID and Touch ID via LocalAuthentication', 'Two-factor auth', 'OAuth'], correct: 1, explanation: 'LocalAuthentication framework provides Face ID and Touch ID for secure authentication.' },
            { tag: 'ios', topic: 'Data/Security', question: 'What is data protection in iOS?', options: ['Backup feature', 'Encryption of files based on device lock state', 'Antivirus', 'Firewall'], correct: 1, explanation: 'Data protection encrypts files. Protection levels determine accessibility when device is locked.' },
            { tag: 'ios', topic: 'Data/Security', question: 'What is SwiftData?', options: ['Network library', 'Apple\'s new persistence framework (iOS 17+)', 'Data visualization', 'Analytics'], correct: 1, explanation: 'SwiftData is Apple\'s modern persistence framework using Swift macros, replacing Core Data for new projects.' },
            
            // ==================== iOS - Concurrency (12) ====================
            { tag: 'ios', topic: 'Concurrency', question: 'Which queue should UI updates run on?', options: ['Global', 'Background', 'Main', 'Any'], correct: 2, explanation: 'All UI updates must happen on the main queue. Background updates cause crashes or glitches.' },
            { tag: 'ios', topic: 'Concurrency', question: 'What is DispatchGroup used for?', options: ['UI grouping', 'Waiting for multiple async tasks', 'Data encryption', 'Memory management'], correct: 1, explanation: 'DispatchGroup waits for multiple async tasks to complete before executing a completion block.' },
            { tag: 'ios', topic: 'Concurrency', question: 'What is the difference between sync and async dispatch?', options: ['Same thing', 'sync blocks until complete, async returns immediately', 'async is slower', 'sync is deprecated'], correct: 1, explanation: 'sync blocks the calling thread until work completes. async returns immediately, work runs in background.' },
            { tag: 'ios', topic: 'Concurrency', question: 'What is a serial queue?', options: ['A queue that runs tasks one at a time', 'A queue that runs tasks in parallel', 'A deprecated feature', 'A UI queue'], correct: 0, explanation: 'Serial queues execute tasks one at a time, in order. Main queue is serial.' },
            { tag: 'ios', topic: 'Concurrency', question: 'What is a concurrent queue?', options: ['A queue that runs one task', 'A queue that can run multiple tasks simultaneously', 'A testing queue', 'A UI queue'], correct: 1, explanation: 'Concurrent queues can execute multiple tasks at the same time, order not guaranteed.' },
            { tag: 'ios', topic: 'Concurrency', question: 'What is async/await in Swift?', options: ['Network library', 'Syntax for writing async code that reads like sync code', 'UI framework', 'Testing tool'], correct: 1, explanation: 'async/await (Swift 5.5+) makes async code readable. No callback pyramids.' },
            { tag: 'ios', topic: 'Concurrency', question: 'What is a Task in Swift concurrency?', options: ['A to-do item', 'A unit of asynchronous work', 'A test case', 'A timer'], correct: 1, explanation: 'Task creates a new unit of async work that can be awaited, cancelled, or run detached.' },
            { tag: 'ios', topic: 'Concurrency', question: 'What does @MainActor do?', options: ['Creates actors', 'Ensures code runs on main thread', 'Improves performance', 'Handles errors'], correct: 1, explanation: '@MainActor ensures methods/properties are accessed on the main thread, enforced at compile time.' },
            { tag: 'ios', topic: 'Concurrency', question: 'What is an Actor in Swift?', options: ['A class type', 'A reference type that protects state from data races', 'A value type', 'A protocol'], correct: 1, explanation: 'Actors isolate mutable state, allowing only one task to access state at a time, preventing data races.' },
            { tag: 'ios', topic: 'Concurrency', question: 'What causes a data race?', options: ['Slow network', 'Multiple threads accessing shared mutable state without synchronization', 'Memory leaks', 'UI updates'], correct: 1, explanation: 'Data races occur when multiple threads access shared mutable data simultaneously without synchronization.' },
            { tag: 'ios', topic: 'Concurrency', question: 'What is DispatchSemaphore used for?', options: ['UI signals', 'Controlling access to a resource by multiple threads', 'Network requests', 'Logging'], correct: 1, explanation: 'Semaphores limit concurrent access to a resource. wait() decrements, signal() increments.' },
            { tag: 'ios', topic: 'Concurrency', question: 'What is OperationQueue?', options: ['A FIFO queue', 'A higher-level abstraction over GCD with dependencies and cancellation', 'A database', 'A UI component'], correct: 1, explanation: 'OperationQueue manages Operation objects with support for dependencies, priorities, and cancellation.' },
            
            // ==================== iOS - Frameworks (10) ====================
            { tag: 'ios', topic: 'Frameworks', question: 'What is Combine?', options: ['UI framework', 'Reactive programming framework for handling async events', 'Database', 'Testing tool'], correct: 1, explanation: 'Combine handles async events as streams with Publishers, Subscribers, and Operators.' },
            { tag: 'ios', topic: 'Frameworks', question: 'What is URLSession?', options: ['URL parser', 'API for network requests', 'Database', 'File manager'], correct: 1, explanation: 'URLSession handles HTTP/HTTPS requests, downloads, uploads, and WebSocket connections.' },
            { tag: 'ios', topic: 'Frameworks', question: 'What is NotificationCenter used for?', options: ['Push notifications', 'Broadcasting messages within the app', 'Local notifications', 'Alerts'], correct: 1, explanation: 'NotificationCenter broadcasts messages to observers without tight coupling. Not for push notifications.' },
            { tag: 'ios', topic: 'Frameworks', question: 'What is CoreLocation?', options: ['Map rendering', 'Getting device location and heading', 'Geofencing only', 'Weather data'], correct: 1, explanation: 'CoreLocation provides GPS location, heading, region monitoring, and visit detection.' },
            { tag: 'ios', topic: 'Frameworks', question: 'What is MapKit?', options: ['Location services', 'Displaying and annotating maps', 'Navigation only', 'GPS hardware'], correct: 1, explanation: 'MapKit displays maps, annotations, overlays, and provides directions.' },
            { tag: 'ios', topic: 'Frameworks', question: 'What is AVFoundation?', options: ['UI framework', 'Audio and video playback, recording, and editing', 'Networking', 'Analytics'], correct: 1, explanation: 'AVFoundation handles media playback, recording, editing, and camera capture.' },
            { tag: 'ios', topic: 'Frameworks', question: 'What is StoreKit used for?', options: ['Data storage', 'In-app purchases and App Store interactions', 'Shopping apps', 'Inventory'], correct: 1, explanation: 'StoreKit handles in-app purchases, subscriptions, and App Store rating prompts.' },
            { tag: 'ios', topic: 'Frameworks', question: 'What is UserNotifications framework for?', options: ['System notifications', 'Local and push notifications', 'NotificationCenter', 'Alerts'], correct: 1, explanation: 'UserNotifications schedules local notifications and handles push notification content.' },
            { tag: 'ios', topic: 'Frameworks', question: 'What is HealthKit?', options: ['App health monitoring', 'Access to health and fitness data', 'Doctor appointments', 'Medical records'], correct: 1, explanation: 'HealthKit provides access to health/fitness data stored in the Health app.' },
            { tag: 'ios', topic: 'Frameworks', question: 'What is CoreML?', options: ['Machine learning inference', 'Cloud ML', 'Data analysis', 'A/B testing'], correct: 0, explanation: 'CoreML runs trained machine learning models on-device for inference.' },
            
            // ==================== ANDROID - Components (15) ====================
            { tag: 'android', topic: 'Components', question: 'What are the four fundamental Android components?', options: ['Activity, Fragment, View, Intent', 'Activity, Service, Broadcast Receiver, Content Provider', 'MainActivity, Application, Context, Bundle', 'View, ViewModel, Repository, Database'], correct: 1, explanation: 'The four components: Activity (UI), Service (background), Broadcast Receiver (events), Content Provider (data).' },
            { tag: 'android', topic: 'Components', question: 'What is a Content Provider?', options: ['UI component', 'Shares data between applications', 'Network provider', 'Storage provider'], correct: 1, explanation: 'Content Providers share data between apps via a structured interface (ContentResolver).' },
            { tag: 'android', topic: 'Components', question: 'What is the difference between Service and IntentService?', options: ['Same thing', 'IntentService auto-stops when work completes', 'Service is deprecated', 'IntentService runs on main thread'], correct: 1, explanation: 'IntentService runs on a worker thread and stops itself when done. Regular Service runs on main thread.' },
            { tag: 'android', topic: 'Components', question: 'What is a Broadcast Receiver?', options: ['Radio app', 'Responds to system-wide broadcast events', 'Sends broadcasts', 'Network component'], correct: 1, explanation: 'Broadcast Receivers respond to system or app broadcasts (boot completed, battery low, etc.).' },
            { tag: 'android', topic: 'Components', question: 'What is an Intent?', options: ['User intention', 'Messaging object for requesting actions', 'A promise', 'A callback'], correct: 1, explanation: 'Intents request actions (start activity, service) and can carry data between components.' },
            { tag: 'android', topic: 'Components', question: 'What is the difference between explicit and implicit intents?', options: ['Same thing', 'Explicit names the target, implicit declares action for system to resolve', 'Implicit is faster', 'Explicit is deprecated'], correct: 1, explanation: 'Explicit: specific target component. Implicit: declares action, system finds appropriate handler.' },
            { tag: 'android', topic: 'Components', question: 'What is AndroidManifest.xml?', options: ['Layout file', 'Declares components, permissions, and app metadata', 'Build config', 'Test config'], correct: 1, explanation: 'Manifest declares all components, permissions, features, and app configuration to the system.' },
            { tag: 'android', topic: 'Components', question: 'What is a PendingIntent?', options: ['Delayed intent', 'Token giving another app permission to run your intent', 'Cancelled intent', 'Scheduled task'], correct: 1, explanation: 'PendingIntent grants another app permission to execute an Intent on your behalf.' },
            { tag: 'android', topic: 'Components', question: 'What is a Foreground Service?', options: ['UI service', 'Service with notification that user is aware of', 'Fast service', 'Main thread service'], correct: 1, explanation: 'Foreground services show a notification and have higher priority. Required for visible ongoing work.' },
            { tag: 'android', topic: 'Components', question: 'What is WorkManager?', options: ['Task manager app', 'API for deferrable, guaranteed background work', 'Thread pool', 'Process manager'], correct: 1, explanation: 'WorkManager schedules deferrable background work that runs even if app exits or device restarts.' },
            { tag: 'android', topic: 'Components', question: 'What is the Application class?', options: ['Main activity', 'Base class maintaining global app state', 'Launcher', 'Package manager'], correct: 1, explanation: 'Application is created before any component. Use for app-wide initialization and state.' },
            { tag: 'android', topic: 'Components', question: 'What is Context?', options: ['App settings', 'Interface to global app info and system services', 'A view', 'A callback'], correct: 1, explanation: 'Context provides access to app resources, system services, and app-level operations.' },
            { tag: 'android', topic: 'Components', question: 'What is the difference between Activity and Fragment?', options: ['Same thing', 'Activity is a screen, Fragment is a reusable UI portion within Activity', 'Fragment is deprecated', 'Activity is for tablets'], correct: 1, explanation: 'Activities are full screens. Fragments are reusable UI pieces that live within Activities.' },
            { tag: 'android', topic: 'Components', question: 'What is a Bundle?', options: ['App package', 'Key-value map for passing data between components', 'Resource folder', 'Build artifact'], correct: 1, explanation: 'Bundle is a map of key-value pairs used to pass data between activities, fragments, etc.' },
            { tag: 'android', topic: 'Components', question: 'What is savedInstanceState?', options: ['Saved game', 'Bundle containing UI state before destruction', 'Database backup', 'Preferences'], correct: 1, explanation: 'savedInstanceState contains UI state saved before activity destruction (rotation, memory pressure).' },
            
            // ==================== ANDROID - Lifecycle (12) ====================
            { tag: 'android', topic: 'Lifecycle', question: 'Which method is called when activity becomes visible?', options: ['onCreate()', 'onStart()', 'onResume()', 'onVisible()'], correct: 1, explanation: 'onStart() is called when activity is becoming visible. onResume() when interactive.' },
            { tag: 'android', topic: 'Lifecycle', question: 'What happens on device rotation?', options: ['Nothing', 'Activity is destroyed and recreated', 'Only layout changes', 'App crashes'], correct: 1, explanation: 'Configuration changes destroy and recreate the Activity. Use ViewModel to survive this.' },
            { tag: 'android', topic: 'Lifecycle', question: 'When should you release resources like camera?', options: ['onCreate()', 'onPause()', 'onStop()', 'onDestroy()'], correct: 2, explanation: 'Release resources in onStop() when not visible. onPause() is too early for most cases.' },
            { tag: 'android', topic: 'Lifecycle', question: 'What is the difference between onPause() and onStop()?', options: ['Same thing', 'onPause when losing focus, onStop when not visible', 'onStop is deprecated', 'onPause is for fragments'], correct: 1, explanation: 'onPause(): losing focus (may still be visible). onStop(): completely hidden.' },
            { tag: 'android', topic: 'Lifecycle', question: 'When is onCreate() called?', options: ['Every time activity appears', 'When activity is first created', 'On rotation only', 'On resume'], correct: 1, explanation: 'onCreate() is called when activity is created. Also called after destruction (rotation).' },
            { tag: 'android', topic: 'Lifecycle', question: 'What is onSaveInstanceState() for?', options: ['Saving to database', 'Saving UI state before destruction', 'Saving preferences', 'Backing up data'], correct: 1, explanation: 'onSaveInstanceState() saves UI state to Bundle before activity may be destroyed.' },
            { tag: 'android', topic: 'Lifecycle', question: 'What does finish() do?', options: ['Ends the app', 'Closes the current activity', 'Saves state', 'Pauses activity'], correct: 1, explanation: 'finish() closes the activity and removes it from the back stack.' },
            { tag: 'android', topic: 'Lifecycle', question: 'What is the lifecycle order when Activity A starts Activity B?', options: ['A.onStop ‚Üí B.onCreate', 'A.onPause ‚Üí B.onCreate ‚Üí B.onStart ‚Üí B.onResume ‚Üí A.onStop', 'B starts first', 'Undefined'], correct: 1, explanation: 'A pauses first, B goes through creation, then A stops. Ensures smooth transitions.' },
            { tag: 'android', topic: 'Lifecycle', question: 'What is LifecycleObserver?', options: ['A debugging tool', 'Interface to observe lifecycle events', 'A testing class', 'System service'], correct: 1, explanation: 'LifecycleObserver allows components to react to lifecycle changes without subclassing.' },
            { tag: 'android', topic: 'Lifecycle', question: 'What is ProcessLifecycleOwner?', options: ['OS process', 'Lifecycle owner for the entire app (foreground/background)', 'Thread manager', 'Memory manager'], correct: 1, explanation: 'ProcessLifecycleOwner provides lifecycle for the whole app - know when app is in foreground/background.' },
            { tag: 'android', topic: 'Lifecycle', question: 'What does setRetainInstance(true) do in Fragments?', options: ['Retains UI', 'Fragment instance survives configuration changes (deprecated)', 'Prevents destruction', 'Caches data'], correct: 1, explanation: 'setRetainInstance(true) kept fragment instance across rotation. Deprecated - use ViewModel instead.' },
            { tag: 'android', topic: 'Lifecycle', question: 'What is onRestart() called?', options: ['Every resume', 'When activity returns from stopped state (not destroyed)', 'On rotation', 'First launch'], correct: 1, explanation: 'onRestart() is called when returning from stopped state without being destroyed (back navigation).' },
            
            // ==================== ANDROID - Java (15) ====================
            { tag: 'android', topic: 'Java', question: 'What is the difference between == and .equals() in Java?', options: ['They function identically for all object comparisons', '== compares object references while .equals() compares values', 'The .equals() method provides faster comparison performance', 'The == operator is deprecated in modern Java versions'], correct: 1, explanation: '== compares object references (are they the same object). .equals() compares values/content.' },
            { tag: 'android', topic: 'Java', question: 'What is a NullPointerException?', options: ['An error caused by invalid pointer arithmetic operations', 'An exception thrown when accessing methods on null reference', 'A memory allocation error when heap space is exhausted', 'A compile-time error detected during code analysis'], correct: 1, explanation: 'NullPointerException occurs when calling methods or accessing fields on a null reference.' },
            { tag: 'android', topic: 'Java', question: 'What does the final keyword do?', options: ['It signals the end of a method or class definition', 'It prevents modification of variables, methods, or classes', 'It ensures the code block runs last in execution order', 'It performs cleanup operations when objects are destroyed'], correct: 1, explanation: 'final: variables can\'t be reassigned, methods can\'t be overridden, classes can\'t be subclassed.' },
            { tag: 'android', topic: 'Java', question: 'What is the difference between abstract class and interface?', options: ['They function identically in all practical scenarios', 'Abstract class can have state while interface is contract only', 'Interfaces provide faster method dispatch than abstract classes', 'Abstract classes are deprecated in favour of interfaces'], correct: 1, explanation: 'Abstract classes can have fields and method implementations. Interfaces define contracts (though Java 8 added default methods).' },
            { tag: 'android', topic: 'Java', question: 'What is a static method in Java?', options: ['A method that cannot be modified after compilation', 'A method belonging to the class, callable without an instance', 'A method optimised for faster execution performance', 'A method with private access restricted to the class'], correct: 1, explanation: 'Static methods belong to the class itself. Called via ClassName.method(), no instance needed.' },
            { tag: 'android', topic: 'Java', question: 'What is method overloading?', options: ['Having too many methods causing performance degradation', 'Defining methods with same name but different parameters', 'Replacing an existing method with a new implementation', 'Calling multiple methods in sequence using chaining'], correct: 1, explanation: 'Overloading: multiple methods with same name but different parameter types or counts.' },
            { tag: 'android', topic: 'Java', question: 'What is method overriding?', options: ['Permanently deleting methods from the parent class', 'Subclass providing specific implementation of parent method', 'Creating methods with same name and different parameters', 'Java mechanism for achieving multiple inheritance'], correct: 1, explanation: 'Override: subclass replaces parent\'s method implementation. Use @Override annotation.' },
            { tag: 'android', topic: 'Java', question: 'What is the purpose of try-catch-finally?', options: ['A testing framework for unit and integration tests', 'Exception handling with guaranteed cleanup code execution', 'A looping construct for iterating over collections', 'Conditional branching based on boolean expressions'], correct: 1, explanation: 'try-catch handles exceptions. finally always executes for cleanup (closing resources).' },
            { tag: 'android', topic: 'Java', question: 'What is a checked vs unchecked exception?', options: ['They represent the same concept with different names', 'Checked must be handled explicitly, unchecked are runtime', 'Checked exceptions have better runtime performance', 'Unchecked exceptions are deprecated in modern Java'], correct: 1, explanation: 'Checked exceptions must be caught or declared (IOException). Unchecked are runtime (NullPointerException).' },
            { tag: 'android', topic: 'Java', question: 'What is an anonymous inner class?', options: ['A class with private access hidden from other classes', 'A class defined and instantiated in a single expression', 'A class with no methods or fields defined inside it', 'A static nested class without instance reference'], correct: 1, explanation: 'Anonymous classes are declared and instantiated together, often for callbacks and listeners.' },
            { tag: 'android', topic: 'Java', question: 'What is a lambda expression in Java?', options: ['A mathematical function from the Greek alphabet symbol', 'A concise syntax for implementing functional interfaces', 'A special type of loop for iterating over arrays', 'A category of exception for mathematical errors'], correct: 1, explanation: 'Lambdas (Java 8+) provide concise syntax for functional interfaces: (params) -> expression' },
            { tag: 'android', topic: 'Java', question: 'What is the synchronized keyword?', options: ['A modifier for synchronising time-based operations', 'A mechanism ensuring only one thread accesses code', 'A utility for synchronising system clocks across devices', 'A method for syncing data between database and cache'], correct: 1, explanation: 'synchronized prevents concurrent access. Only one thread can execute synchronized block/method.' },
            { tag: 'android', topic: 'Java', question: 'What is a volatile variable?', options: ['A variable that may cause unstable program behaviour', 'A variable always read from main memory not CPU cache', 'A temporary variable that exists only during method execution', 'A variable optimised for fast read and write operations'], correct: 1, explanation: 'volatile ensures visibility across threads - reads/writes go to main memory, not CPU cache.' },
            { tag: 'android', topic: 'Java', question: 'What is the difference between ArrayList and LinkedList?', options: ['They are interchangeable with identical performance', 'ArrayList has fast access while LinkedList has fast insertion', 'LinkedList was introduced as ArrayList replacement', 'ArrayList is deprecated in favour of LinkedList'], correct: 1, explanation: 'ArrayList: O(1) access, O(n) insert. LinkedList: O(n) access, O(1) insert at known position.' },
            { tag: 'android', topic: 'Java', question: 'What is a HashMap in Java?', options: ['A data structure for storing geographical map data', 'A key-value store with O(1) average lookup time', 'A map that maintains keys in sorted order', 'A thread-safe map for concurrent access patterns'], correct: 1, explanation: 'HashMap stores key-value pairs with fast lookup. Not thread-safe, allows null key/values.' },
            
            // ==================== ANDROID - UI (15) ====================
            { tag: 'android', topic: 'UI', question: 'Why does RecyclerView perform better than ListView?', options: ['Uses less XML', 'Recycles views and uses ViewHolder pattern', 'Written in Kotlin', 'No animations'], correct: 1, explanation: 'RecyclerView reuses views and caches references with ViewHolder, avoiding repeated findViewById.' },
            { tag: 'android', topic: 'UI', question: 'What is DiffUtil?', options: ['Diff tool', 'Calculates minimal updates between lists', 'Git integration', 'Comparison operator'], correct: 1, explanation: 'DiffUtil calculates differences between lists and dispatches minimal update operations.' },
            { tag: 'android', topic: 'UI', question: 'What is Jetpack Compose?', options: ['Music app', 'Declarative UI toolkit', 'Database', 'Testing framework'], correct: 1, explanation: 'Compose is Android\'s modern declarative UI toolkit. Describe UI as functions of state.' },
            { tag: 'android', topic: 'UI', question: 'What is a ViewHolder?', options: ['View container', 'Caches view references to avoid repeated findViewById', 'Layout manager', 'Animation holder'], correct: 1, explanation: 'ViewHolder holds references to views in a list item, improving scroll performance.' },
            { tag: 'android', topic: 'UI', question: 'What does ConstraintLayout offer?', options: ['Simple lists', 'Flat hierarchy with constraint-based positioning', 'Automatic constraints', 'Database constraints'], correct: 1, explanation: 'ConstraintLayout creates flat hierarchies using constraints, improving performance over nested layouts.' },
            { tag: 'android', topic: 'UI', question: 'What is View Binding?', options: ['Data binding', 'Type-safe access to views without findViewById', 'Event binding', 'Service binding'], correct: 1, explanation: 'View Binding generates binding classes providing direct, type-safe view references.' },
            { tag: 'android', topic: 'UI', question: 'What is Data Binding?', options: ['Database connection', 'Binding UI to data sources with observable updates', 'View Binding', 'Intent binding'], correct: 1, explanation: 'Data Binding binds UI to data sources. Observable data automatically updates UI.' },
            { tag: 'android', topic: 'UI', question: 'What is remember in Compose?', options: ['Memory function', 'Stores value across recompositions', 'Caching', 'State saving'], correct: 1, explanation: 'remember {} stores a value that survives recomposition. Lost on configuration change.' },
            { tag: 'android', topic: 'UI', question: 'What is rememberSaveable?', options: ['Auto-save', 'remember that survives configuration changes', 'Database save', 'File save'], correct: 1, explanation: 'rememberSaveable stores values that survive configuration changes (rotation).' },
            { tag: 'android', topic: 'UI', question: 'What is a Modifier in Compose?', options: ['Access modifier', 'Decorates/configures composables (size, padding, click)', 'State modifier', 'Theme modifier'], correct: 1, explanation: 'Modifiers configure composables: size, padding, background, click handlers, etc.' },
            { tag: 'android', topic: 'UI', question: 'What is recomposition?', options: ['Code compilation', 'Compose re-running functions when state changes', 'Layout pass', 'View recycling'], correct: 1, explanation: 'Recomposition re-executes composable functions when their inputs (state) change.' },
            { tag: 'android', topic: 'UI', question: 'What is LazyColumn?', options: ['Slow column', 'Compose equivalent of RecyclerView - renders visible items only', 'Cached column', 'Static column'], correct: 1, explanation: 'LazyColumn only composes visible items, like RecyclerView. Efficient for long lists.' },
            { tag: 'android', topic: 'UI', question: 'What is setHasFixedSize(true)?', options: ['Fixes bugs', 'Tells RecyclerView size won\'t change, improving performance', 'Sets exact size', 'Prevents resizing'], correct: 1, explanation: 'setHasFixedSize(true) optimizes RecyclerView when you know its size won\'t change.' },
            { tag: 'android', topic: 'UI', question: 'What is Material Design?', options: ['Raw materials app', 'Google\'s design system with components and guidelines', 'Manufacturing app', '3D graphics'], correct: 1, explanation: 'Material Design is Google\'s design language providing components, colors, typography, and guidelines.' },
            { tag: 'android', topic: 'UI', question: 'What does invalidate() do on a View?', options: ['Deletes view', 'Marks view for redraw', 'Disables view', 'Validates input'], correct: 1, explanation: 'invalidate() marks the view as needing redraw. onDraw() will be called on next frame.' },
            
            // ==================== ANDROID - Architecture (12) ====================
            { tag: 'android', topic: 'Architecture', question: 'What is ViewModel for?', options: ['Display views', 'Survive config changes and hold UI state', 'Network requests', 'Database'], correct: 1, explanation: 'ViewModel survives configuration changes and holds UI state. Doesn\'t reference View.' },
            { tag: 'android', topic: 'Architecture', question: 'What is LiveData?', options: ['Real-time database', 'Lifecycle-aware observable data holder', 'Streaming library', 'Crash reporter'], correct: 1, explanation: 'LiveData is lifecycle-aware. Only updates active observers, preventing crashes.' },
            { tag: 'android', topic: 'Architecture', question: 'In Clean Architecture, which layer has no Android dependencies?', options: ['Presentation', 'Data', 'Domain', 'UI'], correct: 2, explanation: 'Domain layer is pure Java/Kotlin: business logic and use cases. No Android framework imports.' },
            { tag: 'android', topic: 'Architecture', question: 'What is the Repository pattern?', options: ['Git pattern', 'Abstracts data sources behind clean interface', 'UI pattern', 'Testing pattern'], correct: 1, explanation: 'Repository abstracts data access. Consumers don\'t know if data comes from network, cache, or DB.' },
            { tag: 'android', topic: 'Architecture', question: 'Why shouldn\'t ViewModel hold Context or View references?', options: ['Performance', 'Causes memory leaks (survives longer than Activity)', 'Google policy', 'No reason'], correct: 1, explanation: 'ViewModel outlives Activity. Holding Activity reference causes memory leak. Use AndroidViewModel if needed.' },
            { tag: 'android', topic: 'Architecture', question: 'What is LiveData?', options: ['Real-time database', 'Lifecycle-aware observable data holder', 'Live streaming', 'Data sync'], correct: 1, explanation: 'LiveData holds data and notifies observers when it changes. Lifecycle-aware - only updates active observers.' },
            { tag: 'android', topic: 'Architecture', question: 'What is MutableLiveData?', options: ['Corrupted data', 'LiveData that can be modified via setValue/postValue', 'Deprecated LiveData', 'Read-only data'], correct: 1, explanation: 'MutableLiveData allows setting values. setValue() on main thread, postValue() from background threads.' },
            { tag: 'android', topic: 'Architecture', question: 'What is a UseCase/Interactor?', options: ['User story', 'Single piece of business logic', 'UI component', 'Data model'], correct: 1, explanation: 'UseCases encapsulate single business operations, independent of UI. Usually in Domain layer.' },
            { tag: 'android', topic: 'Architecture', question: 'What is MVI architecture?', options: ['Model-View-Interface', 'Model-View-Intent with unidirectional flow', 'Multiple View Instances', 'Mobile View Integration'], correct: 1, explanation: 'MVI: Model (state), View (UI), Intent (user actions). Unidirectional flow with immutable state.' },
            { tag: 'android', topic: 'Architecture', question: 'What does SavedStateHandle provide?', options: ['File saving', 'ViewModel access to savedInstanceState', 'Database handle', 'Network handle'], correct: 1, explanation: 'SavedStateHandle gives ViewModel access to saved state that survives process death.' },
            { tag: 'android', topic: 'Architecture', question: 'What is the Single Source of Truth principle?', options: ['One database', 'One authoritative data source, others sync from it', 'Single developer', 'One API'], correct: 1, explanation: 'SSOT: one authoritative data source. Database is often SSOT, with network updating it.' },
            { tag: 'android', topic: 'Architecture', question: 'What is offline-first architecture?', options: ['No network apps', 'App works offline, syncs when connected', 'Local-only storage', 'Cached apps'], correct: 1, explanation: 'Offline-first: local data is primary, network syncs in background. Works without connectivity.' },
            
            // ==================== ANDROID - Concurrency/Threading (12) ====================
            { tag: 'android', topic: 'Threading', question: 'Why can\'t you update UI from a background thread?', options: ['It\'s slow', 'Android UI toolkit is not thread-safe', 'It\'s deprecated', 'Permission required'], correct: 1, explanation: 'Android UI toolkit is not thread-safe. All UI updates must happen on the main/UI thread.' },
            { tag: 'android', topic: 'Threading', question: 'What is a Handler in Android?', options: ['Error handler', 'Sends messages/runnables to thread\'s message queue', 'Event handler', 'Click handler'], correct: 1, explanation: 'Handler posts messages and runnables to a thread\'s Looper queue. Used to communicate with UI thread.' },
            { tag: 'android', topic: 'Threading', question: 'What is a Looper?', options: ['Loop control', 'Message queue processor that keeps thread alive', 'For loop', 'Animation loop'], correct: 1, explanation: 'Looper processes messages from a MessageQueue. Main thread has one by default. Call Looper.prepare() for other threads.' },
            { tag: 'android', topic: 'Threading', question: 'What is runOnUiThread()?', options: ['Runs UI', 'Executes runnable on main thread from any thread', 'Starts UI', 'UI test'], correct: 1, explanation: 'runOnUiThread() posts a Runnable to execute on the UI thread, ensuring safe UI updates.' },
            { tag: 'android', topic: 'Threading', question: 'What was AsyncTask used for?', options: ['Async storage', 'Background operations with UI updates (deprecated)', 'Task scheduling', 'File operations'], correct: 1, explanation: 'AsyncTask ran background work with easy UI callbacks. Deprecated due to memory leak risks. Use Executors or WorkManager.' },
            { tag: 'android', topic: 'Threading', question: 'What is an ExecutorService?', options: ['Service component', 'Manages a pool of threads for async tasks', 'Android service', 'System service'], correct: 1, explanation: 'ExecutorService manages thread pools. Submit tasks via execute() or submit(). Use Executors.newFixedThreadPool().' },
            { tag: 'android', topic: 'Threading', question: 'What is HandlerThread?', options: ['Thread handler', 'Thread with its own Looper for background message processing', 'UI thread', 'Main thread'], correct: 1, explanation: 'HandlerThread is a thread with a Looper. Create Handlers on it to process messages in background.' },
            { tag: 'android', topic: 'Threading', question: 'What is the main thread also called?', options: ['Primary thread', 'UI thread', 'First thread', 'App thread'], correct: 1, explanation: 'Main thread is also called UI thread. It processes UI events and must not be blocked.' },
            { tag: 'android', topic: 'Threading', question: 'What happens if you block the main thread too long?', options: ['Nothing', 'ANR (Application Not Responding) dialog appears', 'App restarts', 'Battery drain'], correct: 1, explanation: 'Blocking main thread >5 seconds triggers ANR. Never do network/disk operations on main thread.' },
            { tag: 'android', topic: 'Threading', question: 'What is a ThreadPoolExecutor?', options: ['Thread killer', 'Configurable pool of reusable worker threads', 'Single thread', 'Main executor'], correct: 1, explanation: 'ThreadPoolExecutor manages multiple threads, reusing them for tasks. Avoids thread creation overhead.' },
            { tag: 'android', topic: 'Threading', question: 'What is a Future in Java?', options: ['Time travel', 'Represents result of async computation', 'Prediction', 'Planning tool'], correct: 1, explanation: 'Future represents a pending result. Call get() to wait for result. Returned by ExecutorService.submit().' },
            { tag: 'android', topic: 'Threading', question: 'What is a Callable vs Runnable?', options: ['Same thing', 'Callable returns a result and can throw exceptions', 'Runnable is newer', 'Callable is deprecated'], correct: 1, explanation: 'Runnable.run() returns void. Callable.call() returns a value and can throw checked exceptions.' },
            
            // ==================== ANDROID - Libraries (12) ====================
            { tag: 'android', topic: 'Libraries', question: 'What is Hilt?', options: ['Sword handle', 'Recommended DI framework built on Dagger', 'Testing library', 'UI library'], correct: 1, explanation: 'Hilt is Google\'s recommended DI framework. Reduces boilerplate vs plain Dagger.' },
            { tag: 'android', topic: 'Libraries', question: 'What is Room?', options: ['Chat room', 'SQLite abstraction with compile-time verification', 'Image library', 'Network cache'], correct: 1, explanation: 'Room is SQLite wrapper. Annotations (@Entity, @Dao). Compile-time SQL verification.' },
            { tag: 'android', topic: 'Libraries', question: 'What is Retrofit?', options: ['Retro games', 'Type-safe HTTP client', 'Database', 'UI library'], correct: 1, explanation: 'Retrofit turns HTTP API into Java/Kotlin interface. Type-safe, uses annotations like @GET, @POST.' },
            { tag: 'android', topic: 'Libraries', question: 'What is OkHttp?', options: ['Greeting library', 'HTTP client underlying Retrofit', 'OK button library', 'Testing framework'], correct: 1, explanation: 'OkHttp is the HTTP client. Handles connections, caching, interceptors. Retrofit uses it.' },
            { tag: 'android', topic: 'Libraries', question: 'What is Picasso?', options: ['Painter', 'Image downloading and caching library by Square', 'Animation library', 'Database'], correct: 1, explanation: 'Picasso is a simple image loading library. Easy API: Picasso.get().load(url).into(imageView).' },
            { tag: 'android', topic: 'Libraries', question: 'What is Glide?', options: ['Animation', 'Image loading and caching library', 'Transition library', 'Video player'], correct: 1, explanation: 'Glide efficiently loads, caches, and displays images. Handles memory/disk caching.' },
            { tag: 'android', topic: 'Libraries', question: 'What is Navigation Component?', options: ['GPS library', 'Handles fragment navigation with type-safe args', 'Map SDK', 'Routing library'], correct: 1, explanation: 'Navigation Component manages fragment navigation, back stack, and safe args.' },
            { tag: 'android', topic: 'Libraries', question: 'What is Paging library?', options: ['Book reader', 'Loads data incrementally for large lists', 'Pagination UI', 'Print library'], correct: 1, explanation: 'Paging loads data in chunks. Integrates with RecyclerView, Room, and network.' },
            { tag: 'android', topic: 'Libraries', question: 'What is DataStore?', options: ['Data storage manager', 'Modern replacement for SharedPreferences', 'Database', 'Cloud storage'], correct: 1, explanation: 'DataStore replaces SharedPreferences. Uses coroutines. Supports typed data (Proto) or key-value.' },
            { tag: 'android', topic: 'Libraries', question: 'What is LeakCanary?', options: ['Canary bird app', 'Memory leak detection library', 'Security scanner', 'Network monitor'], correct: 1, explanation: 'LeakCanary automatically detects memory leaks in debug builds.' },
            { tag: 'android', topic: 'Libraries', question: 'What is Timber?', options: ['Wood logging', 'Logging library with better API than Log', 'Build tool', 'Material library'], correct: 1, explanation: 'Timber wraps Android Log with better API. Auto-tags, extensible, production-safe.' },
            { tag: 'android', topic: 'Libraries', question: 'What is Moshi?', options: ['Sushi app', 'JSON parsing library', 'Network library', 'Database'], correct: 1, explanation: 'Moshi is a modern JSON library for Kotlin. Supports Kotlin types, codegen, and reflection.' },
            
            // ==================== ANDROID - Build (10) ====================
            { tag: 'android', topic: 'Build', question: 'What does R8 do?', options: ['Compiles code', 'Shrinks, obfuscates, and optimizes', 'Runs tests', 'Signs APK'], correct: 1, explanation: 'R8 shrinks unused code/resources, obfuscates names, optimizes bytecode.' },
            { tag: 'android', topic: 'Build', question: 'What is minSdk vs targetSdk vs compileSdk?', options: ['All same', 'minSdk=lowest, targetSdk=tested, compileSdk=build API', 'Version numbers', 'Build types'], correct: 1, explanation: 'minSdk: minimum supported. targetSdk: tested against. compileSdk: API to compile with.' },
            { tag: 'android', topic: 'Build', question: 'What is a build variant?', options: ['Build error', 'Combination of build type and product flavor', 'Version number', 'APK type'], correct: 1, explanation: 'Variants combine build types (debug/release) with flavors (free/paid) for different APKs.' },
            { tag: 'android', topic: 'Build', question: 'What is ProGuard rules file for?', options: ['Security rules', 'Tells R8 what not to shrink/obfuscate', 'Lint rules', 'Test rules'], correct: 1, explanation: 'ProGuard rules keep classes/methods used via reflection from being removed or renamed.' },
            { tag: 'android', topic: 'Build', question: 'What is an AAB vs APK?', options: ['Same format', 'AAB is bundle for Play Store, APK is installable package', 'AAB is compressed', 'APK is newer'], correct: 1, explanation: 'AAB (Android App Bundle) lets Play Store generate optimized APKs per device.' },
            { tag: 'android', topic: 'Build', question: 'What is Gradle?', options: ['Grading app', 'Build automation tool for Android', 'Testing framework', 'IDE'], correct: 1, explanation: 'Gradle manages dependencies, compiles code, runs tests, and builds APK/AAB.' },
            { tag: 'android', topic: 'Build', question: 'What is a product flavor?', options: ['App taste', 'Different versions of app (free/paid, regions)', 'Build type', 'Dependency'], correct: 1, explanation: 'Flavors create app variants with different features, resources, or configurations.' },
            { tag: 'android', topic: 'Build', question: 'What does signing an APK do?', options: ['Adds signature image', 'Proves app authenticity and enables updates', 'Encrypts app', 'Compresses app'], correct: 1, explanation: 'Signing proves you\'re the developer. Same signature required for updates.' },
            { tag: 'android', topic: 'Build', question: 'What is KSP?', options: ['Keyboard shortcut', 'Kotlin Symbol Processing - faster annotation processor', 'Build tool', 'Testing library'], correct: 1, explanation: 'KSP is Kotlin-native annotation processor. Faster than kapt for Room, Hilt, etc.' },
            { tag: 'android', topic: 'Build', question: 'What is buildConfigField?', options: ['UI field', 'Adds constants to BuildConfig class', 'Database field', 'Form field'], correct: 1, explanation: 'buildConfigField adds compile-time constants to BuildConfig. Good for API keys per flavor.' },
            
            // ==================== GENERAL - Architecture (15) ====================
            { tag: 'general', topic: 'Architecture', question: 'What does MVVM stand for?', options: ['Model-View-Virtual Machine', 'Model-View-ViewModel', 'Multiple Views Virtual Model', 'Mobile View Visual Manager'], correct: 1, explanation: 'Model-View-ViewModel. ViewModel holds presentation logic. View observes ViewModel.' },
            { tag: 'general', topic: 'Architecture', question: 'What is Single Responsibility Principle?', options: ['One instance', 'A class should have one reason to change', 'One parameter', 'One activity'], correct: 1, explanation: 'SRP: a class should do one thing well and have only one reason to change.' },
            { tag: 'general', topic: 'Architecture', question: 'What does SOLID stand for?', options: ['Firm code', 'Single responsibility, Open-closed, Liskov, Interface segregation, Dependency inversion', 'Code quality metric', 'Testing framework'], correct: 1, explanation: 'SOLID: five design principles for maintainable object-oriented software.' },
            { tag: 'general', topic: 'Architecture', question: 'What is the Open-Closed Principle?', options: ['Open source', 'Open for extension, closed for modification', 'Always open files', 'Database principle'], correct: 1, explanation: 'OCP: extend behavior without modifying existing code. Use abstractions and polymorphism.' },
            { tag: 'general', topic: 'Architecture', question: 'What is Dependency Inversion Principle?', options: ['Flip dependencies', 'Depend on abstractions, not concretions', 'Invert control flow', 'Reverse engineering'], correct: 1, explanation: 'DIP: high-level modules shouldn\'t depend on low-level. Both depend on abstractions.' },
            { tag: 'general', topic: 'Architecture', question: 'What is loose coupling?', options: ['Relaxed code', 'Components depend minimally on each other', 'Flexible typing', 'Optional parameters'], correct: 1, explanation: 'Loose coupling: components interact via interfaces with minimal knowledge of each other.' },
            { tag: 'general', topic: 'Architecture', question: 'What is high cohesion?', options: ['Sticky code', 'Related functionality grouped together', 'Team agreement', 'Code density'], correct: 1, explanation: 'High cohesion: a module\'s elements are strongly related and focused on single purpose.' },
            { tag: 'general', topic: 'Architecture', question: 'What is separation of concerns?', options: ['Dividing worries', 'Different aspects handled by different modules', 'Error handling', 'Threading'], correct: 1, explanation: 'SoC: each module handles one aspect (UI, business logic, data). Don\'t mix concerns.' },
            { tag: 'general', topic: 'Architecture', question: 'What is an anti-pattern?', options: ['Design pattern opposite', 'Common solution that causes more problems', 'Testing pattern', 'Security pattern'], correct: 1, explanation: 'Anti-patterns are common but ineffective/counterproductive approaches. God object, spaghetti code.' },
            { tag: 'general', topic: 'Architecture', question: 'What is the Facade pattern?', options: ['Building front', 'Simplified interface to complex subsystem', 'UI pattern', 'Authentication'], correct: 1, explanation: 'Facade provides simple interface to complex subsystem. Hides complexity from clients.' },
            { tag: 'general', topic: 'Architecture', question: 'What is the Observer pattern?', options: ['Watching code', 'Objects subscribe to events from subject', 'Debugging pattern', 'Logging pattern'], correct: 1, explanation: 'Observer: subject notifies observers of state changes. Foundation of reactive programming.' },
            { tag: 'general', topic: 'Architecture', question: 'What is the Singleton pattern?', options: ['Single instance', 'Class with only one instance globally accessible', 'Single file', 'One function'], correct: 1, explanation: 'Singleton ensures only one instance exists. Can be anti-pattern if overused (testing issues).' },
            { tag: 'general', topic: 'Architecture', question: 'What is composition over inheritance?', options: ['Music composition', 'Prefer containing objects over extending classes', 'Code structure', 'File organization'], correct: 1, explanation: 'Favor composition (has-a) over inheritance (is-a). More flexible, avoids fragile base class.' },
            { tag: 'general', topic: 'Architecture', question: 'What is the Strategy pattern?', options: ['Game strategy', 'Encapsulate algorithms and make them interchangeable', 'Planning pattern', 'Testing strategy'], correct: 1, explanation: 'Strategy: define family of algorithms, encapsulate each, make interchangeable at runtime.' },
            { tag: 'general', topic: 'Architecture', question: 'What is technical debt?', options: ['Unpaid developers', 'Shortcuts that need future fixing', 'Server costs', 'License fees'], correct: 1, explanation: 'Technical debt: shortcuts or quick fixes that work now but need proper solution later.' },
            
            // ==================== GENERAL - Testing (12) ====================
            { tag: 'general', topic: 'Testing', question: 'What is the benefit of dependency injection for testing?', options: ['Faster tests', 'Inject mock objects easily', 'Skip testing', 'Auto-generate tests'], correct: 1, explanation: 'DI allows injecting mocks/fakes instead of real dependencies, isolating units under test.' },
            { tag: 'general', topic: 'Testing', question: 'What are unit tests?', options: ['Testing units of measurement', 'Testing individual functions in isolation', 'Testing UI', 'Testing servers'], correct: 1, explanation: 'Unit tests verify individual functions/classes in isolation using mocks for dependencies.' },
            { tag: 'general', topic: 'Testing', question: 'What are integration tests?', options: ['Math tests', 'Testing multiple components working together', 'Continuous integration', 'API tests only'], correct: 1, explanation: 'Integration tests verify components work together correctly (database + repository).' },
            { tag: 'general', topic: 'Testing', question: 'What is a mock object?', options: ['Fake data', 'Test double that verifies interactions', 'UI mockup', 'Database copy'], correct: 1, explanation: 'Mocks are test doubles that record interactions. Verify methods were called correctly.' },
            { tag: 'general', topic: 'Testing', question: 'What is a stub?', options: ['Short code', 'Test double that returns predefined responses', 'Code placeholder', 'Error handler'], correct: 1, explanation: 'Stubs return predefined responses. Simpler than mocks, don\'t verify interactions.' },
            { tag: 'general', topic: 'Testing', question: 'What is code coverage?', options: ['Code comments', 'Percentage of code executed by tests', 'Error handling', 'Documentation'], correct: 1, explanation: 'Coverage measures what percentage of code is executed during tests. Aim for meaningful, not 100%.' },
            { tag: 'general', topic: 'Testing', question: 'What is TDD?', options: ['Test Documentation', 'Test-Driven Development - write tests first', 'Testing framework', 'Debugging tool'], correct: 1, explanation: 'TDD: write failing test, write minimal code to pass, refactor. Red-green-refactor.' },
            { tag: 'general', topic: 'Testing', question: 'What is BDD?', options: ['Bug-Driven Development', 'Behavior-Driven Development - describe behavior in plain language', 'Build tool', 'Database'], correct: 1, explanation: 'BDD describes behavior in plain language (Given-When-Then). Tests as documentation.' },
            { tag: 'general', topic: 'Testing', question: 'What is regression testing?', options: ['Going backwards', 'Re-running tests to catch bugs from changes', 'Performance testing', 'Security testing'], correct: 1, explanation: 'Regression tests verify that changes haven\'t broken existing functionality.' },
            { tag: 'general', topic: 'Testing', question: 'What is a flaky test?', options: ['Pastry test', 'Test that sometimes passes, sometimes fails', 'UI test', 'Slow test'], correct: 1, explanation: 'Flaky tests have inconsistent results. Often caused by timing, shared state, or environment.' },
            { tag: 'general', topic: 'Testing', question: 'What is end-to-end testing?', options: ['Testing ends', 'Testing complete user flows through entire system', 'Unit testing', 'API testing'], correct: 1, explanation: 'E2E tests verify complete user journeys through the full system, including UI.' },
            { tag: 'general', topic: 'Testing', question: 'What is the testing pyramid?', options: ['Egyptian tests', 'Many unit tests, fewer integration, fewest E2E', 'Test organization', 'Priority system'], correct: 1, explanation: 'Pyramid: many fast unit tests at base, fewer integration in middle, few slow E2E at top.' },
            
            // ==================== GENERAL - Security (10) ====================
            { tag: 'general', topic: 'Security', question: 'What is certificate pinning?', options: ['Pinning certificates to wall', 'Validating server certs against known values', 'Creating certificates', 'Storing certs'], correct: 1, explanation: 'Pinning validates server certificates match expected values, preventing MITM attacks.' },
            { tag: 'general', topic: 'Security', question: 'Why not store API keys in mobile apps?', options: ['Too big', 'Can be extracted from app binary', 'Not needed', 'Against policy'], correct: 1, explanation: 'App binaries can be decompiled. Use backend proxy for secret keys.' },
            { tag: 'general', topic: 'Security', question: 'What is HTTPS?', options: ['Fast HTTP', 'HTTP over TLS - encrypted communication', 'HTTP version 2', 'Secure headers'], correct: 1, explanation: 'HTTPS encrypts HTTP traffic using TLS. Prevents eavesdropping and tampering.' },
            { tag: 'general', topic: 'Security', question: 'What is SQL injection?', options: ['Database injection', 'Malicious SQL in user input', 'SQL optimization', 'Database backup'], correct: 1, explanation: 'SQL injection inserts malicious SQL via user input. Prevent with parameterized queries.' },
            { tag: 'general', topic: 'Security', question: 'What is XSS?', options: ['Extra small screen', 'Cross-Site Scripting - injecting scripts into web pages', 'XML standard', 'CSS extension'], correct: 1, explanation: 'XSS injects malicious scripts into web pages viewed by others. Sanitize user input.' },
            { tag: 'general', topic: 'Security', question: 'What is OAuth 2.0?', options: ['Authentication protocol', 'Authorization framework for delegated access', 'Encryption standard', 'Password manager'], correct: 1, explanation: 'OAuth 2.0 is authorization framework. Grants limited access without sharing credentials.' },
            { tag: 'general', topic: 'Security', question: 'What is a JWT?', options: ['Java Web Tool', 'JSON Web Token - compact token for claims', 'JavaScript runtime', 'Testing framework'], correct: 1, explanation: 'JWT is a compact, self-contained token containing claims. Used for authentication.' },
            { tag: 'general', topic: 'Security', question: 'What is the principle of least privilege?', options: ['Minimum salary', 'Grant only permissions actually needed', 'Fewer features', 'Simple code'], correct: 1, explanation: 'Least privilege: give minimum permissions necessary. Limits damage from compromises.' },
            { tag: 'general', topic: 'Security', question: 'What is input validation?', options: ['Checking keyboard', 'Verifying user input meets expected format', 'Form styling', 'Auto-complete'], correct: 1, explanation: 'Validate all user input. Check type, length, format, range. Never trust client input.' },
            { tag: 'general', topic: 'Security', question: 'What is CORS?', options: ['Code organization', 'Cross-Origin Resource Sharing - controls cross-domain requests', 'Caching system', 'Compression'], correct: 1, explanation: 'CORS controls which origins can access resources. Browsers enforce for security.' },
            
            // ==================== GENERAL - API (10) ====================
            { tag: 'general', topic: 'API', question: 'What does REST stand for?', options: ['Remote Execution Service', 'Representational State Transfer', 'Request-Response State', 'Reliable Service'], correct: 1, explanation: 'REST: stateless, uses HTTP methods (GET, POST, PUT, DELETE) on resources.' },
            { tag: 'general', topic: 'API', question: 'What is HTTP 404?', options: ['Success', 'Not Found', 'Unauthorized', 'Server Error'], correct: 1, explanation: '404: resource not found. 200: OK. 401: Unauthorized. 500: Server Error.' },
            { tag: 'general', topic: 'API', question: 'What is HTTP 401 vs 403?', options: ['Same', '401: not authenticated, 403: authenticated but not authorized', '401 is worse', 'Neither exists'], correct: 1, explanation: '401 Unauthorized: not authenticated. 403 Forbidden: authenticated but lacks permission.' },
            { tag: 'general', topic: 'API', question: 'What is the difference between PUT and PATCH?', options: ['Same', 'PUT replaces entire resource, PATCH modifies partially', 'PATCH is deprecated', 'PUT is for creation'], correct: 1, explanation: 'PUT: complete replacement. PATCH: partial modification of resource.' },
            { tag: 'general', topic: 'API', question: 'What is idempotent in HTTP?', options: ['Same password', 'Same result no matter how many times called', 'Identity check', 'Caching'], correct: 1, explanation: 'Idempotent: multiple identical requests have same effect as one. GET, PUT, DELETE are idempotent.' },
            { tag: 'general', topic: 'API', question: 'What is GraphQL?', options: ['Graph database', 'Query language for APIs - request specific data', 'Graphing library', 'Graph visualization'], correct: 1, explanation: 'GraphQL lets clients request exactly the data they need. Single endpoint, typed schema.' },
            { tag: 'general', topic: 'API', question: 'What is rate limiting?', options: ['Speed limit', 'Restricting number of API requests per time period', 'Data throttling', 'Bandwidth control'], correct: 1, explanation: 'Rate limiting prevents abuse by capping requests. Returns 429 Too Many Requests.' },
            { tag: 'general', topic: 'API', question: 'What is pagination?', options: ['Book pages', 'Returning data in chunks/pages', 'Error handling', 'Caching'], correct: 1, explanation: 'Pagination returns data in pages. Offset/limit or cursor-based. Prevents huge responses.' },
            { tag: 'general', topic: 'API', question: 'What is a WebSocket?', options: ['Socket wrench', 'Persistent two-way communication channel', 'HTTP request', 'Database connection'], correct: 1, explanation: 'WebSocket provides persistent, full-duplex communication. Good for real-time features.' },
            { tag: 'general', topic: 'API', question: 'What is API versioning?', options: ['Version control', 'Managing breaking changes across API versions', 'Git for APIs', 'Documentation'], correct: 1, explanation: 'Versioning (v1, v2) allows introducing breaking changes without affecting existing clients.' },
            
            // ==================== ADDITIONAL iOS QUESTIONS (50) ====================
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is a UICollectionView?', options: ['A photo collection', 'A flexible grid/list layout component', 'A database collection', 'A set of views'], correct: 1, explanation: 'UICollectionView displays items in customizable layouts - grids, lists, or custom arrangements.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is the purpose of contentInset?', options: ['Content encryption', 'Adding padding around scroll view content', 'Text indentation', 'View hierarchy'], correct: 1, explanation: 'contentInset adds padding around scroll view content without changing content size.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is a UIStackView?', options: ['Stack memory viewer', 'Auto-layout container for arranging views linearly', 'Navigation stack', 'Data structure view'], correct: 1, explanation: 'UIStackView arranges views horizontally or vertically with automatic spacing and distribution.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is @FetchRequest in SwiftUI?', options: ['Network request', 'Property wrapper for Core Data queries', 'API call', 'File fetch'], correct: 1, explanation: '@FetchRequest automatically fetches and observes Core Data entities, updating the view on changes.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is preferredStatusBarStyle?', options: ['Preferred programming style', 'Controls status bar appearance (light/dark)', 'Bar chart style', 'Navigation style'], correct: 1, explanation: 'Override preferredStatusBarStyle to control whether status bar content is light or dark.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is a scene delegate?', options: ['Scene director', 'Manages UI lifecycle for a scene (iOS 13+)', 'Animation delegate', 'View delegate'], correct: 1, explanation: 'SceneDelegate manages the lifecycle of one instance of your app UI. Replaced some AppDelegate roles.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What does .onAppear do in SwiftUI?', options: ['Makes view visible', 'Runs code when view appears on screen', 'Animates appearance', 'Checks visibility'], correct: 1, explanation: '.onAppear modifier runs code when the view appears. Similar to viewWillAppear in UIKit.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is @AppStorage?', options: ['App size info', 'Property wrapper for UserDefaults', 'iCloud storage', 'Cache storage'], correct: 1, explanation: '@AppStorage reads/writes to UserDefaults and triggers view updates when value changes.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is hit testing in UIKit?', options: ['Performance testing', 'Determining which view should receive a touch', 'Collision detection', 'Unit testing'], correct: 1, explanation: 'Hit testing traverses the view hierarchy to find the deepest view containing a touch point.' },
            { tag: 'ios', topic: 'UIKit/SwiftUI', question: 'What is the responder chain?', options: ['Blockchain', 'Chain of objects that can handle events', 'Method chaining', 'Delegate chain'], correct: 1, explanation: 'Responder chain is the hierarchy of objects (views, controllers) that can respond to events.' },
            { tag: 'ios', topic: 'Memory', question: 'What is an autoreleasepool block used for?', options: ['Thread safety', 'Managing memory in tight loops', 'Automatic releases', 'Pool connections'], correct: 1, explanation: 'autoreleasepool drains temporary objects in loops, reducing peak memory usage.' },
            { tag: 'ios', topic: 'Memory', question: 'What causes zombie objects?', options: ['Horror games', 'Accessing deallocated memory', 'Memory leaks', 'Slow code'], correct: 1, explanation: 'Zombies occur when you access deallocated objects. Enable Zombie Objects in scheme to debug.' },
            { tag: 'ios', topic: 'Memory', question: 'What is the difference between stack and heap memory?', options: ['Same thing', 'Stack for value types (fast), heap for reference types (managed)', 'Stack is larger', 'Heap is faster'], correct: 1, explanation: 'Stack: fast, automatic, for value types. Heap: dynamic, managed by ARC, for reference types.' },
            { tag: 'ios', topic: 'Memory', question: 'How do you debug retain cycles?', options: ['Print statements', 'Memory Graph Debugger in Xcode', 'Unit tests', 'Logging'], correct: 1, explanation: 'Memory Graph Debugger shows all objects and their relationships, highlighting retain cycles.' },
            { tag: 'ios', topic: 'Memory', question: 'What is a dangling pointer?', options: ['Hanging UI element', 'Pointer to deallocated memory', 'Unused variable', 'Null pointer'], correct: 1, explanation: 'Dangling pointers reference memory that has been freed. Accessing them causes crashes.' },
            { tag: 'ios', topic: 'Lifecycle', question: 'What is willSet and didSet?', options: ['View lifecycle', 'Property observers called before/after value changes', 'Setters', 'Initialization'], correct: 1, explanation: 'willSet is called before a property changes, didSet after. Use for side effects.' },
            { tag: 'ios', topic: 'Lifecycle', question: 'What triggers a view controller transition?', options: ['Timer', 'Push, present, segue, or programmatic navigation', 'Memory warning', 'Orientation change'], correct: 1, explanation: 'Transitions occur via push (navigation), present (modal), segues, or code (show, present).' },
            { tag: 'ios', topic: 'Lifecycle', question: 'When is loadView called?', options: ['Every appearance', 'When view property is accessed but nil', 'On init', 'On dealloc'], correct: 1, explanation: 'loadView is called when the view property is accessed but hasn\'t been set. Override to create views programmatically.' },
            { tag: 'ios', topic: 'Lifecycle', question: 'What happens during app state restoration?', options: ['App reinstalls', 'System recreates UI state after termination', 'Data backup', 'Settings reset'], correct: 1, explanation: 'State restoration recreates the UI state (navigation stack, view states) after app is terminated.' },
            { tag: 'ios', topic: 'Lifecycle', question: 'What is the difference between viewWillLayoutSubviews and viewDidLayoutSubviews?', options: ['Same thing', 'Before vs after Auto Layout pass', 'Old vs new API', 'iOS vs macOS'], correct: 1, explanation: 'viewWillLayoutSubviews: before layout. viewDidLayoutSubviews: after. Use for frame-dependent setup.' },
            { tag: 'ios', topic: 'Architecture', question: 'What is a protocol extension?', options: ['Network protocol', 'Adding default implementations to protocols', 'Extension cord', 'File extension'], correct: 1, explanation: 'Protocol extensions add default implementations, enabling protocol-oriented programming.' },
            { tag: 'ios', topic: 'Architecture', question: 'What is the difference between class and struct?', options: ['Same thing', 'Class is reference type with inheritance, struct is value type', 'Struct is slower', 'Class is deprecated'], correct: 1, explanation: 'Classes: reference types, inheritance, deinit. Structs: value types, copied, no inheritance.' },
            { tag: 'ios', topic: 'Architecture', question: 'What is a type alias?', options: ['Fake type', 'Alternative name for existing type', 'Generic type', 'Type casting'], correct: 1, explanation: 'typealias creates an alternative name for a type, improving readability.' },
            { tag: 'ios', topic: 'Architecture', question: 'What is an associated type in protocols?', options: ['Related protocol', 'Placeholder type defined by conforming type', 'Type alias', 'Generic parameter'], correct: 1, explanation: 'associatedtype is a placeholder in protocols. Conforming types specify the actual type.' },
            { tag: 'ios', topic: 'Architecture', question: 'What is @discardableResult?', options: ['Deletes result', 'Silences warning when return value is unused', 'Caches result', 'Logs result'], correct: 1, explanation: '@discardableResult suppresses compiler warning when a function\'s return value is ignored.' },
            { tag: 'ios', topic: 'Data/Security', question: 'What is NSCoding?', options: ['Code analysis', 'Protocol for archiving objects', 'Encryption', 'Compilation'], correct: 1, explanation: 'NSCoding enables encoding/decoding objects for archiving and unarchiving.' },
            { tag: 'ios', topic: 'Data/Security', question: 'What is the difference between Codable and NSCoding?', options: ['Same thing', 'Codable is Swift-native, type-safe; NSCoding is Obj-C', 'NSCoding is newer', 'Codable is deprecated'], correct: 1, explanation: 'Codable is Swift-native with compiler synthesis. NSCoding requires manual implementation.' },
            { tag: 'ios', topic: 'Data/Security', question: 'What is a fetch request in Core Data?', options: ['Network fetch', 'Query to retrieve objects from persistent store', 'Git fetch', 'Memory fetch'], correct: 1, explanation: 'NSFetchRequest specifies what objects to retrieve from Core Data, with predicates and sort descriptors.' },
            { tag: 'ios', topic: 'Data/Security', question: 'What is a managed object context?', options: ['Management UI', 'Scratchpad for Core Data objects', 'Memory manager', 'Thread context'], correct: 1, explanation: 'NSManagedObjectContext is a scratchpad for creating, fetching, and modifying Core Data objects.' },
            { tag: 'ios', topic: 'Data/Security', question: 'What is App Groups?', options: ['App categories', 'Shared container for data between apps/extensions', 'User groups', 'Test groups'], correct: 1, explanation: 'App Groups enable sharing data between an app and its extensions via shared container.' },
            { tag: 'ios', topic: 'Concurrency', question: 'What is a race condition?', options: ['Speed competition', 'Bug when outcome depends on timing of operations', 'Performance issue', 'Memory leak'], correct: 1, explanation: 'Race conditions occur when multiple threads access shared data and outcome depends on execution order.' },
            { tag: 'ios', topic: 'Concurrency', question: 'What is a deadlock?', options: ['Locked phone', 'Two threads waiting for each other indefinitely', 'Memory lock', 'Crash type'], correct: 1, explanation: 'Deadlock: thread A waits for B, B waits for A. Neither can proceed. Avoid by consistent lock ordering.' },
            { tag: 'ios', topic: 'Concurrency', question: 'What is thread-safe code?', options: ['Secure code', 'Code that works correctly with multiple threads', 'Main thread code', 'Fast code'], correct: 1, explanation: 'Thread-safe code produces correct results when accessed from multiple threads simultaneously.' },
            { tag: 'ios', topic: 'Concurrency', question: 'What is a barrier in GCD?', options: ['Traffic barrier', 'Ensures exclusive access during write operations', 'Sync point', 'Thread limit'], correct: 1, explanation: 'Barrier blocks wait for pending tasks, run exclusively, then allow subsequent tasks. Used for thread-safe writes.' },
            { tag: 'ios', topic: 'Concurrency', question: 'What is TaskGroup in Swift concurrency?', options: ['Task manager', 'Runs multiple child tasks and collects results', 'Thread pool', 'Operation queue'], correct: 1, explanation: 'TaskGroup runs multiple async tasks concurrently and aggregates their results.' },
            { tag: 'ios', topic: 'Frameworks', question: 'What is CallKit?', options: ['Call center', 'Integrates VoIP calls with native phone UI', 'Analytics', 'Testing'], correct: 1, explanation: 'CallKit displays VoIP calls like native calls, with full-screen UI and call history integration.' },
            { tag: 'ios', topic: 'Frameworks', question: 'What is SiriKit?', options: ['Siri voice', 'Enables Siri integration for specific domains', 'Voice recognition', 'AI framework'], correct: 1, explanation: 'SiriKit lets users interact with your app via Siri for messaging, payments, workouts, etc.' },
            { tag: 'ios', topic: 'Frameworks', question: 'What is ARKit?', options: ['Art framework', 'Augmented reality framework', '3D graphics', 'Animation kit'], correct: 1, explanation: 'ARKit provides augmented reality capabilities - tracking, scene understanding, rendering.' },
            { tag: 'ios', topic: 'Frameworks', question: 'What is Vision framework?', options: ['Eye tracking', 'Image analysis and computer vision', 'UI framework', 'Camera framework'], correct: 1, explanation: 'Vision performs face detection, text recognition, barcode scanning, and image classification.' },
            { tag: 'ios', topic: 'Frameworks', question: 'What is PassKit?', options: ['Password manager', 'Apple Wallet passes and Apple Pay', 'Pass data between apps', 'Authentication'], correct: 1, explanation: 'PassKit creates Wallet passes (boarding passes, tickets) and handles Apple Pay integration.' },
            { tag: 'ios', topic: 'Testing', question: 'What is XCTest?', options: ['X-ray test', 'Apple\'s testing framework', 'Cross-platform test', 'XML test'], correct: 1, explanation: 'XCTest is Apple\'s framework for unit tests, performance tests, and UI tests.' },
            { tag: 'ios', topic: 'Testing', question: 'What is XCUITest?', options: ['UI design tool', 'UI testing framework', 'User interface', 'UX testing'], correct: 1, explanation: 'XCUITest automates UI testing by simulating user interactions with the app.' },
            { tag: 'ios', topic: 'Testing', question: 'What is a test expectation?', options: ['Test prediction', 'Object that waits for async conditions', 'Test assertion', 'Expected result'], correct: 1, explanation: 'XCTestExpectation waits for async operations to complete before test finishes.' },
            { tag: 'ios', topic: 'Testing', question: 'What is code signing?', options: ['Writing signatures', 'Cryptographically verifying app identity', 'Code comments', 'Version control'], correct: 1, explanation: 'Code signing proves app hasn\'t been tampered with and identifies the developer.' },
            { tag: 'ios', topic: 'Testing', question: 'What is TestFlight?', options: ['Flight simulator', 'Beta testing distribution platform', 'Unit testing', 'Crash testing'], correct: 1, explanation: 'TestFlight distributes beta versions to testers before App Store release.' },
            
            // ==================== ADDITIONAL ANDROID QUESTIONS (50) ====================
            { tag: 'android', topic: 'Components', question: 'What is a sticky broadcast?', options: ['Persistent notification', 'Broadcast that remains after being sent', 'Pinned message', 'Repeated broadcast'], correct: 1, explanation: 'Sticky broadcasts persist and can be retrieved later. Deprecated in favor of other mechanisms.' },
            { tag: 'android', topic: 'Components', question: 'What is an ordered broadcast?', options: ['Sorted broadcast', 'Broadcast delivered to receivers in priority order', 'Sequential delivery', 'Queued broadcast'], correct: 1, explanation: 'Ordered broadcasts are delivered one receiver at a time in priority order. Can be aborted.' },
            { tag: 'android', topic: 'Components', question: 'What is a JobScheduler?', options: ['Calendar app', 'API for scheduling background jobs', 'Thread scheduler', 'Task list'], correct: 1, explanation: 'JobScheduler schedules background work with constraints (network, charging). Replaced by WorkManager.' },
            { tag: 'android', topic: 'Components', question: 'What is the difference between startService and bindService?', options: ['Same thing', 'startService runs independently, bindService creates connection', 'bindService is deprecated', 'startService is faster'], correct: 1, explanation: 'startService: runs until stopped. bindService: creates client-server connection, stops when unbound.' },
            { tag: 'android', topic: 'Components', question: 'What is an implicit intent filter?', options: ['Hidden filter', 'Declares what implicit intents a component can handle', 'Default filter', 'System filter'], correct: 1, explanation: 'Intent filters in manifest declare actions, categories, and data types a component handles.' },
            { tag: 'android', topic: 'Components', question: 'What is launchMode singleTask?', options: ['Single instance', 'Activity in its own task, reused if exists', 'One task only', 'No multitasking'], correct: 1, explanation: 'singleTask: activity is root of task, only one instance. Existing instance receives onNewIntent.' },
            { tag: 'android', topic: 'Components', question: 'What is FLAG_ACTIVITY_CLEAR_TOP?', options: ['Clears activity', 'Brings existing activity to top, clearing above it', 'Removes all activities', 'Top priority'], correct: 1, explanation: 'CLEAR_TOP: if activity exists in stack, destroys activities above it and delivers intent.' },
            { tag: 'android', topic: 'Components', question: 'What is a bound service?', options: ['Locked service', 'Service that provides client-server interface', 'Restricted service', 'Connected service'], correct: 1, explanation: 'Bound services provide IBinder for client communication. Multiple clients can bind simultaneously.' },
            { tag: 'android', topic: 'Components', question: 'What is AIDL?', options: ['AI library', 'Android Interface Definition Language for IPC', 'Audio driver', 'Animation language'], correct: 1, explanation: 'AIDL defines interfaces for inter-process communication between apps or services.' },
            { tag: 'android', topic: 'Components', question: 'What is a ContentResolver?', options: ['Conflict resolver', 'Client API for accessing ContentProviders', 'DNS resolver', 'Issue resolver'], correct: 1, explanation: 'ContentResolver is the client-side API for querying, inserting, updating ContentProvider data.' },
            { tag: 'android', topic: 'Lifecycle', question: 'What is onActivityResult deprecated in favor of?', options: ['Nothing', 'Activity Result API with registerForActivityResult', 'Intents', 'Callbacks'], correct: 1, explanation: 'Activity Result API provides type-safe contracts and works with fragments properly.' },
            { tag: 'android', topic: 'Lifecycle', question: 'What is setResult used for?', options: ['Setting score', 'Returning data to the calling activity', 'Setting state', 'Configuration'], correct: 1, explanation: 'setResult sets the result code and data Intent to return when activity finishes.' },
            { tag: 'android', topic: 'Lifecycle', question: 'What is onConfigurationChanged?', options: ['Settings changed', 'Called when handling config changes yourself', 'Theme changed', 'Layout changed'], correct: 1, explanation: 'onConfigurationChanged is called if you handle config changes (rotation) via android:configChanges.' },
            { tag: 'android', topic: 'Lifecycle', question: 'What is the difference between finish() and finishAffinity()?', options: ['Same thing', 'finish closes one activity, finishAffinity closes all in task', 'finishAffinity is deprecated', 'finish is slower'], correct: 1, explanation: 'finish() closes current activity. finishAffinity() closes all activities in the task.' },
            { tag: 'android', topic: 'Lifecycle', question: 'What is onTrimMemory?', options: ['Memory cleanup', 'Callback when system needs memory freed', 'Garbage collection', 'Memory warning'], correct: 1, explanation: 'onTrimMemory notifies app of memory pressure levels. Release caches based on level.' },
            { tag: 'android', topic: 'Java', question: 'What is Java generics?', options: ['General purpose', 'Type parameters that provide compile-time type safety', 'Generic classes', 'Templates'], correct: 1, explanation: 'Generics enable type-safe collections and methods. List<String> ensures only Strings are added.' },
            { tag: 'android', topic: 'Java', question: 'What is type erasure in Java?', options: ['Deleting types', 'Generic type info removed at runtime', 'Type casting', 'Type checking'], correct: 1, explanation: 'Java generics use type erasure - generic types become Object at runtime for backward compatibility.' },
            { tag: 'android', topic: 'Java', question: 'What is the difference between String, StringBuilder, and StringBuffer?', options: ['Same thing', 'String immutable, StringBuilder mutable/fast, StringBuffer mutable/thread-safe', 'Only naming', 'Performance only'], correct: 1, explanation: 'String is immutable. StringBuilder is mutable, fast. StringBuffer is mutable, synchronized/thread-safe.' },
            { tag: 'android', topic: 'Java', question: 'What is autoboxing in Java?', options: ['Automatic packaging', 'Automatic conversion between primitives and wrapper classes', 'Container creation', 'Memory boxing'], correct: 1, explanation: 'Autoboxing converts primitives to wrappers (int ‚Üí Integer) automatically. Unboxing is reverse.' },
            { tag: 'android', topic: 'Java', question: 'What is a Java enum?', options: ['Enumeration of numbers', 'Type-safe set of constants', 'List type', 'Loop type'], correct: 1, explanation: 'Enums define fixed set of constants. Type-safe, can have methods and fields.' },
            { tag: 'android', topic: 'Java', question: 'What does the transient keyword do?', options: ['Temporary variable', 'Excludes field from serialization', 'Fast variable', 'Thread variable'], correct: 1, explanation: 'transient marks fields to be excluded from serialization (not saved/transmitted).' },
            { tag: 'android', topic: 'Java', question: 'What is the Comparable interface?', options: ['Comparison tool', 'Defines natural ordering for objects via compareTo()', 'Equal checking', 'Sorting interface'], correct: 1, explanation: 'Comparable defines natural ordering. Implement compareTo() to enable sorting and comparison.' },
            { tag: 'android', topic: 'Java', question: 'What is an Iterator in Java?', options: ['Loop counter', 'Object to traverse collections safely', 'Array index', 'Pointer'], correct: 1, explanation: 'Iterator traverses collections with hasNext() and next(). Allows safe removal during iteration.' },
            { tag: 'android', topic: 'UI', question: 'What is ViewStub?', options: ['Stub view', 'Lazy-inflated placeholder view', 'Test view', 'Empty view'], correct: 1, explanation: 'ViewStub is a zero-cost placeholder that inflates its layout only when made visible.' },
            { tag: 'android', topic: 'UI', question: 'What is merge tag in XML layouts?', options: ['Combining tags', 'Eliminates redundant parent when including layouts', 'Git merge', 'Data merge'], correct: 1, explanation: '<merge> prevents adding extra ViewGroup when including layouts, flattening hierarchy.' },
            { tag: 'android', topic: 'UI', question: 'What is a custom view?', options: ['Custom theme', 'View subclass with custom drawing/behavior', 'Third-party view', 'Styled view'], correct: 1, explanation: 'Custom views extend View or ViewGroup to create reusable UI components with custom behavior.' },
            { tag: 'android', topic: 'UI', question: 'What is onMeasure in custom views?', options: ['Performance measure', 'Calculates view dimensions', 'Analytics', 'Size estimation'], correct: 1, explanation: 'onMeasure determines view size based on constraints. Must call setMeasuredDimension.' },
            { tag: 'android', topic: 'UI', question: 'What is onDraw in custom views?', options: ['Drawing app', 'Renders view content using Canvas', 'Sketch tool', 'Layout pass'], correct: 1, explanation: 'onDraw renders the view using Canvas. Called when view needs to be redrawn.' },
            { tag: 'android', topic: 'UI', question: 'What is a Motion Layout?', options: ['Exercise app', 'ConstraintLayout subclass for complex animations', 'Movement tracking', 'Gesture handler'], correct: 1, explanation: 'MotionLayout enables complex animations between constraint sets with gestures and transitions.' },
            { tag: 'android', topic: 'UI', question: 'What is derivedStateOf in Compose?', options: ['State derivation', 'Creates state that updates only when calculation changes', 'Derived class', 'State copy'], correct: 1, explanation: 'derivedStateOf caches computation result, only recalculating when dependencies change.' },
            { tag: 'android', topic: 'Architecture', question: 'What is a side effect in Compose?', options: ['Bug', 'Code that affects state outside composable scope', 'Animation', 'Modifier'], correct: 1, explanation: 'Side effects are operations (network, analytics, navigation) outside pure composition.' },
            { tag: 'android', topic: 'Architecture', question: 'What is LaunchedEffect?', options: ['Rocket animation', 'Runs suspend function tied to composition lifecycle', 'App launcher', 'Effect trigger'], correct: 1, explanation: 'LaunchedEffect runs coroutines in composition scope, restarting when keys change.' },
            { tag: 'android', topic: 'Architecture', question: 'What is rememberCoroutineScope?', options: ['Memory scope', 'Creates CoroutineScope tied to composition', 'Cache scope', 'Thread scope'], correct: 1, explanation: 'rememberCoroutineScope provides scope for launching coroutines from event handlers.' },
            { tag: 'android', topic: 'Architecture', question: 'What is DisposableEffect?', options: ['Garbage collection', 'Effect with cleanup when leaving composition', 'Dispose pattern', 'Memory effect'], correct: 1, explanation: 'DisposableEffect runs setup code and cleanup via onDispose when composable leaves.' },
            { tag: 'android', topic: 'Architecture', question: 'What is SideEffect in Compose?', options: ['Bug', 'Publishes composition state to non-Compose code', 'Animation', 'Error'], correct: 1, explanation: 'SideEffect runs after every successful composition to sync with non-Compose state.' },
            { tag: 'android', topic: 'Concurrency', question: 'What is a mutex in coroutines?', options: ['Sound mute', 'Mutual exclusion lock for coroutines', 'Thread lock', 'Semaphore'], correct: 1, explanation: 'Mutex ensures only one coroutine accesses critical section. Use withLock for safe access.' },
            { tag: 'android', topic: 'Concurrency', question: 'What is SupervisorJob?', options: ['Manager role', 'Job where child failure doesn\'t cancel siblings', 'Top priority', 'Main job'], correct: 1, explanation: 'SupervisorJob prevents child coroutine failures from cancelling sibling coroutines.' },
            { tag: 'android', topic: 'Concurrency', question: 'What is structured concurrency?', options: ['Organized code', 'Parent coroutine waits for children, cancellation propagates', 'Thread structure', 'Code structure'], correct: 1, explanation: 'Structured concurrency: parent waits for children, cancellation flows down, errors flow up.' },
            { tag: 'android', topic: 'Threading', question: 'What is a CountDownLatch?', options: ['Countdown timer', 'Synchronization aid that waits for operations to complete', 'UI component', 'Timer'], correct: 1, explanation: 'CountDownLatch blocks until count reaches zero. Useful for waiting on multiple threads.' },
            { tag: 'android', topic: 'Threading', question: 'What is a Semaphore in Java?', options: ['Traffic signal', 'Controls access to shared resource by multiple threads', 'Lock type', 'Counter'], correct: 1, explanation: 'Semaphore limits concurrent access. acquire() blocks if permits exhausted, release() returns permit.' },
            { tag: 'android', topic: 'Libraries', question: 'What is Accompanist?', options: ['Music app', 'Library of Compose utilities (permissions, pager, etc.)', 'Accessibility', 'Animation'], correct: 1, explanation: 'Accompanist provides Compose components not yet in official libraries (permissions, pager, system UI).' },
            { tag: 'android', topic: 'Libraries', question: 'What is a Retrofit Converter?', options: ['Unit converter', 'Transforms response body to objects', 'Currency converter', 'Type converter'], correct: 1, explanation: 'Converters deserialize responses (Gson, Moshi, kotlinx.serialization) and serialize requests.' },
            { tag: 'android', topic: 'Libraries', question: 'What is an OkHttp Interceptor?', options: ['Security guard', 'Middleware for request/response modification', 'Network filter', 'Firewall'], correct: 1, explanation: 'Interceptors modify requests (headers, logging) or responses before/after network call.' },
            { tag: 'android', topic: 'Libraries', question: 'What is a RemoteMediator?', options: ['Remote control', 'Paging component for network + database', 'Media player', 'TV remote'], correct: 1, explanation: 'RemoteMediator handles paging from network to database for Paging 3 library.' },
            { tag: 'android', topic: 'Libraries', question: 'What is Benchmark library?', options: ['Reference point', 'Measures code performance accurately', 'Comparison tool', 'Testing suite'], correct: 1, explanation: 'Jetpack Benchmark measures code performance with proper warmup and statistics.' },
            { tag: 'android', topic: 'Build', question: 'What is a Gradle task?', options: ['To-do item', 'Unit of work in build process', 'Homework', 'Background job'], correct: 1, explanation: 'Tasks are atomic build operations (compile, test, assemble). Can depend on other tasks.' },
            { tag: 'android', topic: 'Build', question: 'What is buildSrc?', options: ['Build source', 'Module for shared build logic and plugins', 'Build cache', 'Compiler'], correct: 1, explanation: 'buildSrc is a special module for shared build logic, compiled before other build scripts.' },
            { tag: 'android', topic: 'Build', question: 'What is a version catalog?', options: ['Version history', 'Centralized dependency versions in TOML file', 'Library catalog', 'Update list'], correct: 1, explanation: 'Version catalogs (libs.versions.toml) centralize dependency versions for multi-module projects.' },
            { tag: 'android', topic: 'Build', question: 'What is a Baseline Profile?', options: ['Default settings', 'Pre-compiled code paths for faster startup', 'Performance baseline', 'User profile'], correct: 1, explanation: 'Baseline Profiles pre-compile hot code paths, improving startup time and reducing jank.' },
            { tag: 'android', topic: 'Build', question: 'What is App Bundle dynamic delivery?', options: ['Package delivery', 'On-demand feature module download', 'Fast delivery', 'CDN'], correct: 1, explanation: 'Dynamic delivery downloads feature modules on demand, reducing initial install size.' },
            
            // ==================== ADDITIONAL GENERAL QUESTIONS (50) ====================
            { tag: 'general', topic: 'Architecture', question: 'What is the Builder pattern?', options: ['Construction app', 'Creates complex objects step by step', 'UI builder', 'Database builder'], correct: 1, explanation: 'Builder separates construction from representation, allowing step-by-step object creation.' },
            { tag: 'general', topic: 'Architecture', question: 'What is the Factory pattern?', options: ['Manufacturing', 'Creates objects without specifying exact class', 'Production line', 'Assembly'], correct: 1, explanation: 'Factory creates objects without exposing instantiation logic. Client uses interface.' },
            { tag: 'general', topic: 'Architecture', question: 'What is the Adapter pattern?', options: ['Power adapter', 'Makes incompatible interfaces work together', 'Converter', 'Translator'], correct: 1, explanation: 'Adapter wraps a class to present a different interface, enabling compatibility.' },
            { tag: 'general', topic: 'Architecture', question: 'What is the Decorator pattern?', options: ['Interior design', 'Adds behavior to objects dynamically', 'Styling', 'Enhancement'], correct: 1, explanation: 'Decorator wraps objects to add responsibilities without modifying the original class.' },
            { tag: 'general', topic: 'Architecture', question: 'What is the Proxy pattern?', options: ['Network proxy', 'Provides surrogate for another object', 'VPN', 'Middleware'], correct: 1, explanation: 'Proxy controls access to another object. Used for lazy loading, access control, logging.' },
            { tag: 'general', topic: 'Architecture', question: 'What is the Template Method pattern?', options: ['Document template', 'Defines algorithm skeleton, subclasses fill steps', 'Code template', 'Boilerplate'], correct: 1, explanation: 'Template Method defines algorithm structure in base class, with steps implemented by subclasses.' },
            { tag: 'general', topic: 'Architecture', question: 'What is the Command pattern?', options: ['CLI command', 'Encapsulates request as object', 'Instruction', 'Order'], correct: 1, explanation: 'Command encapsulates a request as an object, enabling queuing, logging, and undo operations.' },
            { tag: 'general', topic: 'Architecture', question: 'What is the State pattern?', options: ['Country state', 'Object behavior changes with internal state', 'Variable state', 'Status'], correct: 1, explanation: 'State pattern allows object to change behavior when internal state changes. Avoids switch statements.' },
            { tag: 'general', topic: 'Architecture', question: 'What is cyclomatic complexity?', options: ['Cycling difficulty', 'Number of independent paths through code', 'Loop count', 'Nesting depth'], correct: 1, explanation: 'Cyclomatic complexity measures code complexity by counting independent execution paths.' },
            { tag: 'general', topic: 'Architecture', question: 'What is feature flagging?', options: ['Bug flagging', 'Enabling/disabling features without deploy', 'Feature request', 'Tagging'], correct: 1, explanation: 'Feature flags toggle features on/off at runtime, enabling gradual rollouts and A/B testing.' },
            { tag: 'general', topic: 'Testing', question: 'What is a test fixture?', options: ['Hardware fixture', 'Fixed state for running tests', 'Test environment', 'Setup code'], correct: 1, explanation: 'Fixtures provide known state for tests - setup data, mocks, environment configuration.' },
            { tag: 'general', topic: 'Testing', question: 'What is property-based testing?', options: ['Real estate testing', 'Testing properties hold for generated inputs', 'Attribute testing', 'Field testing'], correct: 1, explanation: 'Property-based testing generates random inputs and verifies invariants hold.' },
            { tag: 'general', topic: 'Testing', question: 'What is mutation testing?', options: ['Genetic testing', 'Modifies code to check if tests catch changes', 'Virus testing', 'Change testing'], correct: 1, explanation: 'Mutation testing modifies code (mutants) to verify tests fail. Measures test quality.' },
            { tag: 'general', topic: 'Testing', question: 'What is a test spy?', options: ['Secret agent', 'Records calls for later verification', 'Test observer', 'Logger'], correct: 1, explanation: 'Spies record interactions (calls, arguments) for later verification without stubbing behavior.' },
            { tag: 'general', topic: 'Testing', question: 'What is a fake object?', options: ['Counterfeit', 'Working implementation for testing only', 'Mock', 'Stub'], correct: 1, explanation: 'Fakes have working implementations but take shortcuts (in-memory database instead of real one).' },
            { tag: 'general', topic: 'Testing', question: 'What is snapshot testing?', options: ['Photography', 'Comparing output against stored reference', 'Screenshot testing', 'Backup testing'], correct: 1, explanation: 'Snapshot tests capture output and compare against stored snapshot. Good for UI components.' },
            { tag: 'general', topic: 'Testing', question: 'What is test isolation?', options: ['Quarantine', 'Tests don\'t affect each other', 'Single test', 'Clean environment'], correct: 1, explanation: 'Test isolation ensures tests don\'t share state. Each test starts with clean environment.' },
            { tag: 'general', topic: 'Security', question: 'What is CSRF?', options: ['Error code', 'Cross-Site Request Forgery', 'Security feature', 'Certificate'], correct: 1, explanation: 'CSRF tricks authenticated users into performing unintended actions. Prevent with tokens.' },
            { tag: 'general', topic: 'Security', question: 'What is salting passwords?', options: ['Cooking', 'Adding random data before hashing', 'Encryption', 'Validation'], correct: 1, explanation: 'Salt is random data added to password before hashing. Prevents rainbow table attacks.' },
            { tag: 'general', topic: 'Security', question: 'What is bcrypt?', options: ['Cryptocurrency', 'Adaptive password hashing function', 'Compression', 'Backup'], correct: 1, explanation: 'bcrypt is a slow, salted hash designed for passwords. Cost factor makes brute force hard.' },
            { tag: 'general', topic: 'Security', question: 'What is 2FA/MFA?', options: ['File format', 'Multi-factor authentication', 'Two files', 'Backup method'], correct: 1, explanation: '2FA requires two forms of authentication (password + SMS/app code). Adds security layer.' },
            { tag: 'general', topic: 'Security', question: 'What is a refresh token?', options: ['Browser refresh', 'Long-lived token for obtaining new access tokens', 'Cache refresh', 'Update token'], correct: 1, explanation: 'Refresh tokens are long-lived and used to get new short-lived access tokens without re-login.' },
            { tag: 'general', topic: 'API', question: 'What is HATEOAS?', options: ['Emotion', 'Hypermedia As The Engine Of Application State', 'Protocol', 'Header type'], correct: 1, explanation: 'HATEOAS: REST responses include links to related actions/resources. Self-documenting API.' },
            { tag: 'general', topic: 'API', question: 'What is an API gateway?', options: ['Door', 'Entry point that routes requests to services', 'Firewall', 'Load balancer'], correct: 1, explanation: 'API gateway handles routing, authentication, rate limiting, and aggregation for microservices.' },
            { tag: 'general', topic: 'API', question: 'What is gRPC?', options: ['Graphics', 'Google\'s high-performance RPC framework', 'Protocol buffer', 'GraphQL'], correct: 1, explanation: 'gRPC uses Protocol Buffers for efficient binary serialization. Supports streaming.' },
            { tag: 'general', topic: 'API', question: 'What is server-sent events (SSE)?', options: ['Server notifications', 'One-way server-to-client streaming over HTTP', 'Push notifications', 'WebSocket'], correct: 1, explanation: 'SSE provides server-to-client streaming over HTTP. Simpler than WebSocket for one-way data.' },
            { tag: 'general', topic: 'API', question: 'What is request throttling?', options: ['Speed limit', 'Limiting request rate per client', 'Compression', 'Caching'], correct: 1, explanation: 'Throttling limits requests per time window per client. Prevents abuse and ensures fairness.' },
            { tag: 'general', topic: 'API', question: 'What is API mocking?', options: ['Making fun', 'Simulating API responses for testing', 'Fake API', 'Test double'], correct: 1, explanation: 'Mocking APIs returns fake responses for testing without hitting real servers.' },
            { tag: 'general', topic: 'DevOps', question: 'What is CI/CD?', options: ['Certificate', 'Continuous Integration/Continuous Deployment', 'Code inspection', 'Configuration'], correct: 1, explanation: 'CI: automatically build/test on commit. CD: automatically deploy passing builds.' },
            { tag: 'general', topic: 'DevOps', question: 'What is a container?', options: ['Storage box', 'Lightweight isolated environment for running apps', 'Docker only', 'VM'], correct: 1, explanation: 'Containers package app with dependencies. Lighter than VMs, share host OS kernel.' },
            { tag: 'general', topic: 'DevOps', question: 'What is infrastructure as code?', options: ['Coding buildings', 'Managing infrastructure through code/config files', 'Server scripts', 'Hardware code'], correct: 1, explanation: 'IaC manages servers, networks via version-controlled code (Terraform, CloudFormation).' },
            { tag: 'general', topic: 'DevOps', question: 'What is blue-green deployment?', options: ['Color coding', 'Two identical environments for zero-downtime deploys', 'Testing environments', 'Staging'], correct: 1, explanation: 'Blue-green: deploy to inactive environment, then switch traffic. Easy rollback.' },
            { tag: 'general', topic: 'DevOps', question: 'What is canary deployment?', options: ['Bird watching', 'Gradual rollout to subset of users', 'Early warning', 'Testing'], correct: 1, explanation: 'Canary releases to small percentage first, monitoring before full rollout.' },
            { tag: 'general', topic: 'DevOps', question: 'What is observability?', options: ['Watching', 'Understanding system state from outputs (logs, metrics, traces)', 'Monitoring', 'Debugging'], correct: 1, explanation: 'Observability: infer internal state from external outputs. Three pillars: logs, metrics, traces.' },
            { tag: 'general', topic: 'Data', question: 'What is denormalization?', options: ['Abnormal data', 'Adding redundancy to improve read performance', 'Data cleanup', 'Normalization'], correct: 1, explanation: 'Denormalization adds redundant data to reduce joins. Trades storage for query speed.' },
            { tag: 'general', topic: 'Data', question: 'What is eventual consistency?', options: ['Maybe consistent', 'Data becomes consistent over time, not immediately', 'Weak consistency', 'Delayed sync'], correct: 1, explanation: 'Eventual consistency: reads may return stale data, but system converges to consistent state.' },
            { tag: 'general', topic: 'Data', question: 'What is ACID in databases?', options: ['Chemistry', 'Atomicity, Consistency, Isolation, Durability', 'Data type', 'Query language'], correct: 1, explanation: 'ACID guarantees reliable transactions: all-or-nothing, valid state, isolated, persisted.' },
            { tag: 'general', topic: 'Data', question: 'What is an ORM?', options: ['Worm', 'Object-Relational Mapping', 'Database type', 'Query optimizer'], correct: 1, explanation: 'ORM maps database tables to objects. Room, Core Data, Hibernate are ORMs.' },
            { tag: 'general', topic: 'Data', question: 'What is database indexing?', options: ['Book index', 'Data structure for faster queries', 'Numbering rows', 'Sorting'], correct: 1, explanation: 'Indexes speed up queries by creating efficient lookup structures. Trade-off with write speed.' },
            { tag: 'general', topic: 'Data', question: 'What is a database migration?', options: ['Moving servers', 'Versioned schema changes', 'Data transfer', 'Backup'], correct: 1, explanation: 'Migrations are versioned scripts that modify database schema (add columns, tables).' },
            { tag: 'general', topic: 'Performance', question: 'What is lazy loading?', options: ['Slow loading', 'Loading data only when needed', 'Delayed start', 'Background loading'], correct: 1, explanation: 'Lazy loading defers initialization until first use. Improves startup time.' },
            { tag: 'general', topic: 'Performance', question: 'What is caching?', options: ['Hiding', 'Storing data for faster future access', 'Saving money', 'Compression'], correct: 1, explanation: 'Caching stores frequently accessed data for fast retrieval. Memory, disk, or CDN.' },
            { tag: 'general', topic: 'Performance', question: 'What is debouncing?', options: ['Bouncing', 'Ignoring rapid repeated events until pause', 'Delay', 'Buffer'], correct: 1, explanation: 'Debouncing waits for pause in events before acting. Good for search-as-you-type.' },
            { tag: 'general', topic: 'Performance', question: 'What is throttling?', options: ['Choking', 'Limiting how often a function can fire', 'Rate limiting', 'Speed control'], correct: 1, explanation: 'Throttling ensures function runs at most once per time period. Good for scroll events.' },
            { tag: 'general', topic: 'Performance', question: 'What is image compression?', options: ['Squeezing', 'Reducing image file size', 'Resizing', 'Cropping'], correct: 1, explanation: 'Compression reduces file size. Lossy (JPEG) loses quality, lossless (PNG) preserves it.' },
            { tag: 'general', topic: 'Performance', question: 'What is a memory pool?', options: ['Swimming pool', 'Pre-allocated memory for reuse', 'Memory leak', 'RAM'], correct: 1, explanation: 'Memory pools pre-allocate objects for reuse, reducing allocation overhead.' },
            { tag: 'general', topic: 'Git', question: 'What is git rebase?', options: ['New base', 'Moves commits to new base, rewriting history', 'Merge', 'Reset'], correct: 1, explanation: 'Rebase replays commits on new base. Creates linear history but rewrites commits.' },
            { tag: 'general', topic: 'Git', question: 'What is the difference between merge and rebase?', options: ['Same thing', 'Merge preserves history, rebase rewrites it', 'Rebase is safer', 'Merge is deprecated'], correct: 1, explanation: 'Merge creates merge commit preserving branches. Rebase replays commits linearly.' },
            { tag: 'general', topic: 'Git', question: 'What is git stash?', options: ['Hide', 'Temporarily saves uncommitted changes', 'Delete', 'Cache'], correct: 1, explanation: 'Stash saves work-in-progress changes to switch branches, then reapply later.' },
            { tag: 'general', topic: 'Git', question: 'What is a git hook?', options: ['Fishing', 'Script that runs on git events', 'Branch', 'Tag'], correct: 1, explanation: 'Hooks run scripts on events (pre-commit, post-push). Automate linting, testing.' },
            
            // ==================== ADDITIONAL ADVANCED QUESTIONS (50) ====================
            { tag: 'ios', topic: 'Advanced', question: 'What is method swizzling?', options: ['Mixing methods', 'Exchanging method implementations at runtime', 'Method chaining', 'Override'], correct: 1, explanation: 'Swizzling exchanges method implementations at runtime. Powerful but dangerous. Use carefully.' },
            { tag: 'ios', topic: 'Advanced', question: 'What is KVO?', options: ['TV channel', 'Key-Value Observing - observe property changes', 'Keyboard input', 'Protocol'], correct: 1, explanation: 'KVO notifies observers when specified properties change. Foundation of reactive patterns.' },
            { tag: 'ios', topic: 'Advanced', question: 'What is associated objects?', options: ['Related classes', 'Attaching data to existing objects at runtime', 'Object graph', 'Relationships'], correct: 1, explanation: 'objc_setAssociatedObject attaches data to objects dynamically. Used in extensions.' },
            { tag: 'ios', topic: 'Advanced', question: 'What is the runtime in Objective-C?', options: ['Execution time', 'Dynamic system for method dispatch and introspection', 'Compiler', 'Debugger'], correct: 1, explanation: 'Obj-C runtime enables dynamic method dispatch, introspection, and modification at runtime.' },
            { tag: 'ios', topic: 'Advanced', question: 'What is @objc inference?', options: ['AI feature', 'Compiler determining when to expose to Obj-C', 'Type inference', 'Automatic bridging'], correct: 1, explanation: '@objc exposes Swift to Objective-C runtime. Inference determines when it\'s needed.' },
            { tag: 'ios', topic: 'Advanced', question: 'What is existential any?', options: ['Philosophy', 'Protocol as a type (any Protocol)', 'Unknown type', 'Generic'], correct: 1, explanation: 'any Protocol is an existential type - a box that can hold any conforming type.' },
            { tag: 'ios', topic: 'Advanced', question: 'What is opaque return types (some)?', options: ['Hidden type', 'Hides concrete type while preserving identity', 'Unknown type', 'Generic'], correct: 1, explanation: 'some Protocol hides the concrete type but compiler knows it\'s always the same type.' },
            { tag: 'ios', topic: 'Advanced', question: 'What is result builder?', options: ['Build system', 'DSL for building complex values declaratively', 'Factory', 'Constructor'], correct: 1, explanation: 'Result builders enable DSLs like SwiftUI\'s view builder syntax. Custom declarative APIs.' },
            { tag: 'ios', topic: 'Advanced', question: 'What is property wrapper?', options: ['Gift wrap', 'Reusable property behavior (@State, @Published)', 'Decorator', 'Proxy'], correct: 1, explanation: 'Property wrappers encapsulate property access patterns. @propertyWrapper creates custom ones.' },
            { tag: 'ios', topic: 'Advanced', question: 'What is type erasure?', options: ['Deleting types', 'Hiding concrete types behind protocol interface', 'Generic erasure', 'Type casting'], correct: 1, explanation: 'Type erasure wraps concrete types (AnyPublisher) to use protocols with associated types.' },
            { tag: 'android', topic: 'Advanced', question: 'What is ProGuard vs R8?', options: ['Same tool', 'R8 is Google\'s replacement with same rules format', 'R8 is deprecated', 'Different configs'], correct: 1, explanation: 'R8 replaced ProGuard as Android\'s shrinker. Faster, same rules format, better optimization.' },
            { tag: 'android', topic: 'Advanced', question: 'What is desugaring?', options: ['Diet feature', 'Backporting new Java features to old Android', 'Code cleanup', 'Optimization'], correct: 1, explanation: 'Desugaring enables Java 8+ features (lambdas, streams) on older Android versions.' },
            { tag: 'android', topic: 'Advanced', question: 'What is D8 compiler?', options: ['Robot', 'Converts Java bytecode to DEX', 'CPU', 'Decompiler'], correct: 1, explanation: 'D8 compiles Java bytecode to DEX format for Android Runtime. Replaced dx.' },
            { tag: 'android', topic: 'Advanced', question: 'What is ART vs Dalvik?', options: ['Art gallery', 'ART uses AOT compilation, Dalvik used JIT', 'Same runtime', 'Dalvik is newer'], correct: 1, explanation: 'ART (Android Runtime) replaced Dalvik. Uses AOT + JIT compilation for better performance.' },
            { tag: 'android', topic: 'Advanced', question: 'What is NDK?', options: ['Network kit', 'Native Development Kit for C/C++ code', 'Debug kit', 'Design kit'], correct: 1, explanation: 'NDK enables native C/C++ code in Android apps. For performance-critical code or existing libraries.' },
            { tag: 'android', topic: 'Advanced', question: 'What is JNI?', options: ['Java feature', 'Java Native Interface for calling native code', 'Injection', 'Framework'], correct: 1, explanation: 'JNI is the bridge between Java/Kotlin and native C/C++ code. NDK apps use JNI.' },
            { tag: 'android', topic: 'Advanced', question: 'What is a custom lint rule?', options: ['Linting clothes', 'Project-specific static analysis check', 'Code formatter', 'Style guide'], correct: 1, explanation: 'Custom lint rules enforce project conventions and catch domain-specific issues.' },
            { tag: 'android', topic: 'Advanced', question: 'What is Gradle convention plugin?', options: ['Meeting plugin', 'Shared build configuration in plugin form', 'Standard plugin', 'Default config'], correct: 1, explanation: 'Convention plugins extract shared build logic into reusable plugins. DRY for multi-module.' },
            { tag: 'android', topic: 'Advanced', question: 'What is snapshot testing for Compose?', options: ['Camera', 'Captures and compares UI rendering', 'Screenshot', 'Visual test'], correct: 1, explanation: 'Compose snapshot testing renders composables and compares against reference images.' },
            { tag: 'android', topic: 'Advanced', question: 'What is a CompositionLocal?', options: ['Local variable', 'Implicit dependency injection in Compose tree', 'State holder', 'Context'], correct: 1, explanation: 'CompositionLocal passes data implicitly through composition tree without explicit parameters.' },
            { tag: 'general', topic: 'Advanced', question: 'What is reflection?', options: ['Mirror', 'Examining/modifying code at runtime', 'Debugging', 'Logging'], correct: 1, explanation: 'Reflection inspects and manipulates classes, methods, properties at runtime. Powerful but slow.' },
            { tag: 'general', topic: 'Advanced', question: 'What is code generation?', options: ['AI coding', 'Creating source code programmatically', 'Compilation', 'Transpiling'], correct: 1, explanation: 'Code generation creates boilerplate code at build time (Dagger, Room, Moshi).' },
            { tag: 'general', topic: 'Advanced', question: 'What is annotation processing?', options: ['Highlighting', 'Generating code from annotations at compile time', 'Comments', 'Documentation'], correct: 1, explanation: 'Annotation processors read annotations and generate code during compilation.' },
            { tag: 'general', topic: 'Advanced', question: 'What is bytecode?', options: ['Small code', 'Intermediate representation between source and machine code', 'Binary', 'Assembly'], correct: 1, explanation: 'Bytecode is intermediate code (Java .class, DEX) executed by virtual machine.' },
            { tag: 'general', topic: 'Advanced', question: 'What is tree shaking?', options: ['Forestry', 'Removing unused code from bundle', 'Optimization', 'Compression'], correct: 1, explanation: 'Tree shaking eliminates dead code. Bundlers trace imports to find what\'s actually used.' },
            { tag: 'general', topic: 'Advanced', question: 'What is hot reload?', options: ['Fast gun', 'Updating code without restarting app', 'Fast refresh', 'Live update'], correct: 1, explanation: 'Hot reload injects code changes while app runs, preserving state. Flutter, React Native.' },
            { tag: 'general', topic: 'Advanced', question: 'What is modularization?', options: ['Making modules', 'Breaking monolith into independent modules', 'Organization', 'Packaging'], correct: 1, explanation: 'Modularization separates code into modules with clear boundaries. Improves build times and team scaling.' },
            { tag: 'general', topic: 'Advanced', question: 'What is feature toggle?', options: ['Light switch', 'Conditionally enabling features via configuration', 'Feature flag', 'A/B test'], correct: 1, explanation: 'Feature toggles enable/disable features without deploy. Same as feature flags.' },
            { tag: 'general', topic: 'Advanced', question: 'What is trunk-based development?', options: ['Tree coding', 'All developers commit to single main branch', 'Git flow', 'Branching strategy'], correct: 1, explanation: 'Trunk-based: small, frequent commits to main. Short-lived feature branches. Enables CI/CD.' },
            { tag: 'general', topic: 'Advanced', question: 'What is semantic versioning?', options: ['Meaningful versions', 'MAJOR.MINOR.PATCH version numbering', 'Version control', 'Tagging'], correct: 1, explanation: 'SemVer: MAJOR (breaking), MINOR (features, backward-compatible), PATCH (bug fixes).' },
            { tag: 'ios', topic: 'Performance', question: 'What is Time Profiler in Instruments?', options: ['Clock', 'Samples CPU usage to find slow code', 'Timer', 'Benchmark'], correct: 1, explanation: 'Time Profiler samples the call stack periodically to identify CPU hotspots.' },
            { tag: 'ios', topic: 'Performance', question: 'What is Core Animation instrument?', options: ['Animation tool', 'Analyzes rendering performance', 'Drawing app', 'Video editor'], correct: 1, explanation: 'Core Animation instrument measures FPS, offscreen rendering, blending issues.' },
            { tag: 'ios', topic: 'Performance', question: 'What causes offscreen rendering?', options: ['Hidden views', 'Effects requiring separate buffer (shadows, masks, cornerRadius with masksToBounds)', 'Memory issues', 'Threading'], correct: 1, explanation: 'Offscreen rendering uses extra buffer. Shadows, masks, clipping cause it. Avoid in scrolling.' },
            { tag: 'ios', topic: 'Performance', question: 'What is rasterization?', options: ['Image format', 'Caching rendered layer as bitmap', 'Vector conversion', 'Compression'], correct: 1, explanation: 'shouldRasterize caches layer as bitmap. Good for complex static content, bad for animated.' },
            { tag: 'ios', topic: 'Performance', question: 'What is prefetching in UICollectionView?', options: ['Pre-loading', 'Loading data before cells are displayed', 'Caching', 'Buffering'], correct: 1, explanation: 'Prefetching delegate methods load data for cells about to appear, improving scroll smoothness.' },
            { tag: 'android', topic: 'Performance', question: 'What is StrictMode?', options: ['Strict typing', 'Detects accidental disk/network on main thread', 'Lint', 'Testing mode'], correct: 1, explanation: 'StrictMode detects disk/network operations on main thread and other policy violations.' },
            { tag: 'android', topic: 'Performance', question: 'What is overdraw?', options: ['Drawing too much', 'Pixels drawn multiple times per frame', 'GPU issue', 'Memory issue'], correct: 1, explanation: 'Overdraw wastes GPU drawing pixels that get covered. Debug with GPU overdraw visualization.' },
            { tag: 'android', topic: 'Performance', question: 'What is a render pass?', options: ['Display cycle', 'Steps to draw a frame (measure, layout, draw)', 'GPU operation', 'Animation frame'], correct: 1, explanation: 'Render pass: measure views, layout positions, draw to canvas. Should complete in 16ms for 60fps.' },
            { tag: 'android', topic: 'Performance', question: 'What does systrace show?', options: ['System info', 'Detailed trace of system and app activity', 'Stack trace', 'Error log'], correct: 1, explanation: 'Systrace shows CPU, rendering, and thread activity. Helps find jank causes.' },
            { tag: 'android', topic: 'Performance', question: 'What is frame skipping?', options: ['Animation skip', 'Dropping frames when rendering takes too long', 'Video skip', 'Optimization'], correct: 1, explanation: 'Frames are skipped (jank) when work exceeds frame budget (16ms for 60fps).' },
            { tag: 'general', topic: 'Architecture', question: 'What is event sourcing?', options: ['Event planning', 'Storing state changes as sequence of events', 'Event handling', 'Logging'], correct: 1, explanation: 'Event sourcing stores all changes as events. Rebuild state by replaying. Enables audit trail.' },
            { tag: 'general', topic: 'Architecture', question: 'What is CQRS?', options: ['Database', 'Command Query Responsibility Segregation', 'Query language', 'API pattern'], correct: 1, explanation: 'CQRS separates read (query) and write (command) models. Can have different data stores.' },
            { tag: 'general', topic: 'Architecture', question: 'What is domain-driven design?', options: ['Website design', 'Modeling software after business domain', 'UI/UX', 'Database design'], correct: 1, explanation: 'DDD structures code around business domain with ubiquitous language and bounded contexts.' },
            { tag: 'general', topic: 'Architecture', question: 'What is a bounded context?', options: ['Limited scope', 'Explicit boundary where domain model applies', 'Code boundary', 'Package'], correct: 1, explanation: 'Bounded context is the boundary within which a domain model is defined and applicable.' },
            { tag: 'general', topic: 'Architecture', question: 'What is an aggregate in DDD?', options: ['Sum total', 'Cluster of objects treated as a unit', 'Collection', 'Database aggregate'], correct: 1, explanation: 'Aggregate is a cluster of domain objects with a root entity. Ensures consistency boundaries.' },
            { tag: 'general', topic: 'Testing', question: 'What is contract testing?', options: ['Legal testing', 'Verifying API contracts between services', 'Agreement testing', 'Integration testing'], correct: 1, explanation: 'Contract testing verifies provider and consumer agree on API format. Pact is popular tool.' },
            { tag: 'general', topic: 'Testing', question: 'What is chaos engineering?', options: ['Random testing', 'Deliberately injecting failures to test resilience', 'Stress testing', 'Load testing'], correct: 1, explanation: 'Chaos engineering proactively injects failures (Netflix Chaos Monkey) to build resilient systems.' },
            { tag: 'general', topic: 'Testing', question: 'What is shift-left testing?', options: ['Arrow testing', 'Testing earlier in development lifecycle', 'Left-handed testing', 'UI testing'], correct: 1, explanation: 'Shift-left moves testing earlier (requirements, design). Finds issues when they\'re cheaper to fix.' },
            { tag: 'general', topic: 'Security', question: 'What is zero trust security?', options: ['No trust', 'Verify everything, trust nothing by default', 'Maximum security', 'Paranoid mode'], correct: 1, explanation: 'Zero trust: never trust, always verify. Authenticate every request regardless of network location.' },
            { tag: 'general', topic: 'Security', question: 'What is a security audit?', options: ['Financial audit', 'Systematic evaluation of security posture', 'Code review', 'Penetration test'], correct: 1, explanation: 'Security audits evaluate policies, controls, vulnerabilities. May include pen testing and code review.' },
            
            // ==================== SITUATIONAL (20) ====================
            { tag: 'general', topic: 'Situational', question: 'It\'s Friday 4pm and QA finds a critical bug. Release is Monday. What do you do?', options: ['Push release back indefinitely until every bug is resolved', 'Assess severity and fix or roll back feature for stable release', 'Work through the weekend alone without informing the team', 'Blame QA for catching the issue far too late in the cycle'], correct: 1, explanation: 'Assess impact, communicate with stakeholders, fix or roll back. Don\'t hero-code alone or blame others.' },
            { tag: 'general', topic: 'Situational', question: 'A senior dev harshly criticises your PR in front of the team. How do you respond?', options: ['Argue back publicly in order to defend yourself to others', 'Stay calm and ask for specifics then discuss tone privately', 'Delete the PR immediately and refuse to contribute anymore', 'Report to HR before addressing the feedback they gave you'], correct: 1, explanation: 'Stay professional. Extract useful feedback. Address tone issues privately. Don\'t escalate publicly.' },
            { tag: 'general', topic: 'Situational', question: 'Requirements are vague and the PM is unavailable. What\'s your approach?', options: ['Wait indefinitely for the PM to clarify everything first', 'Document assumptions and build MVP for early validation', 'Guess the requirements and build the entire feature anyway', 'Refuse to do any work until requirements are finalised'], correct: 1, explanation: 'Document assumptions, build incrementally, validate early. Don\'t block completely or guess blindly.' },
            { tag: 'general', topic: 'Situational', question: 'Your team consistently misses sprint goals. What would you suggest?', options: ['Work longer hours each day to compensate for the delays', 'Analyse in retros and reduce scope to improve estimates', 'Blame the product owner for requesting too much work', 'Ignore it completely since estimates are always wrong'], correct: 1, explanation: 'Use retros to find root causes. Reduce WIP, improve estimation, address blockers systematically.' },
            { tag: 'general', topic: 'Situational', question: 'A junior developer is struggling and slowing the team. How do you help?', options: ['Do their work for them so the deadline can be met', 'Pair program and give focused tasks with feedback', 'Recommend that they be moved to a different team', 'Ignore it entirely and let the manager deal with it'], correct: 1, explanation: 'Invest in mentoring: pair program, break down tasks, give feedback. Builds team long-term.' },
            { tag: 'general', topic: 'Situational', question: 'You discover a security vulnerability in production code. What\'s your first action?', options: ['Post about it on social media to warn other devs', 'Report to security lead and assess severity immediately', 'Fix it yourself quietly without telling anyone about it', 'Wait until the next sprint to add it to the backlog'], correct: 1, explanation: 'Report security issues immediately through proper channels. Assess impact, coordinate response.' },
            { tag: 'general', topic: 'Situational', question: 'There\'s significant tech debt slowing feature development. How do you address it?', options: ['Rewrite the entire codebase from scratch next sprint', 'Quantify impact and propose incremental fixes to leads', 'Complain in every meeting until something changes', 'Accept it as normal and just work around it forever'], correct: 1, explanation: 'Quantify tech debt cost, propose incremental improvements, show business value. Don\'t rewrite or ignore.' },
            { tag: 'general', topic: 'Situational', question: 'You\'re asked to estimate a feature you\'ve never built before. What do you do?', options: ['Give a confident single number to show your expertise', 'Research and break down then give a range of estimates', 'Refuse to give any estimate until you have more info', 'Copy an estimate from another project that sounds similar'], correct: 1, explanation: 'Research similar work, break into smaller tasks, give range with assumptions. Uncertainty is honest.' },
            { tag: 'general', topic: 'Situational', question: 'Two teammates disagree about architecture. You\'re asked to mediate. What do you do?', options: ['Pick a side immediately so the conflict can end quickly', 'Listen to both sides and focus discussion on trade-offs', 'Tell them both they are wrong and suggest your solution', 'Avoid involvement and let management handle the issue'], correct: 1, explanation: 'Facilitate objective discussion of trade-offs. Consider prototyping both approaches if time allows.' },
            { tag: 'general', topic: 'Situational', question: 'You realise mid-sprint that your approach won\'t work. What do you do?', options: ['Keep going and hope it all works out by the end', 'Raise it immediately and propose alternative approaches', 'Quietly switch approaches without telling anyone else', 'Wait until the sprint review to mention the problem'], correct: 1, explanation: 'Surface blockers early. Propose alternatives. Better to adjust mid-sprint than fail at the end.' },
            { tag: 'general', topic: 'Situational', question: 'A client requests a feature that would compromise app security. How do you handle it?', options: ['Build the feature anyway since the client pays you', 'Explain risks clearly and propose secure alternatives', 'Refuse without any explanation and let sales handle it', 'Add the feature but hide it behind some secret setting'], correct: 1, explanation: 'Clearly explain security risks. Propose alternatives that meet their needs safely. Document everything.' },
            { tag: 'general', topic: 'Situational', question: 'You\'ve inherited a codebase with no documentation or tests. Where do you start?', options: ['Rewrite everything from scratch with proper structure', 'Map critical paths and add tests to high-risk areas', 'Refuse to work on it until someone documents it', 'Just start making changes and see what breaks first'], correct: 1, explanation: 'Map the system, add characterisation tests, document incrementally. Build safety net before big changes.' },
            { tag: 'general', topic: 'Situational', question: 'Your manager asks you to cut corners to meet a deadline. How do you respond?', options: ['Refuse outright without offering any other options', 'Discuss which corners are safe and document trade-offs', 'Do exactly what your manager says without any question', 'Cut the corners but never tell anyone about the debt'], correct: 1, explanation: 'Discuss trade-offs openly. Some shortcuts are okay, others aren\'t. Document decisions made under pressure.' },
            { tag: 'general', topic: 'Situational', question: 'You notice a colleague frequently takes credit for others\' work. What do you do?', options: ['Call them out aggressively at the next team meeting', 'Document contributions and raise privately if needed', 'Start doing the same thing in order to compete', 'Accept it as office politics and do nothing at all'], correct: 1, explanation: 'Document your contributions. Address privately first. Escalate professionally if pattern continues.' },
            { tag: 'general', topic: 'Situational', question: 'The app crashes in production affecting thousands of users. What\'s your immediate priority?', options: ['Find who wrote the buggy code so you can assign blame', 'Assess impact then communicate status and fix or rollback', 'Wait for users to report the issue through your support', 'Fix it quietly and hope nobody notices any downtime'], correct: 1, explanation: 'Triage first, communicate to stakeholders, fix/rollback, then blameless post-mortem to prevent recurrence.' },
            { tag: 'general', topic: 'Situational', question: 'A stakeholder keeps changing requirements mid-sprint. How do you address this?', options: ['Accommodate every single change to keep them happy', 'Explain timeline impact and suggest process improvement', 'Ignore their changes and build what was first agreed', 'Escalate to their manager to complain about behaviour'], correct: 1, explanation: 'Document changes and impacts. Educate on process. Some flexibility is good, but constant churn isn\'t.' },
            { tag: 'general', topic: 'Situational', question: 'You disagree with a technical decision your lead has made. What\'s your approach?', options: ['Comply silently then complain to your teammates later', 'Share concerns with data and accept if you are overruled', 'Refuse to implement until they change their decision', 'Implement your preferred approach without telling them'], correct: 1, explanation: 'Voice concerns professionally with evidence. If overruled, commit to the team decision. Disagree and commit.' },
            { tag: 'general', topic: 'Situational', question: 'You find yourself blocked waiting for another team. How do you stay productive?', options: ['Wait idle until they unblock you since it is not your fault', 'Communicate urgency and work on other unblocked tasks', 'Escalate to management immediately to pressure them', 'Build a hacky solution that bypasses their work entirely'], correct: 1, explanation: 'Communicate the block, explore workarounds, context-switch to unblocked work. Don\'t wait passively.' },
            { tag: 'general', topic: 'Situational', question: 'Your code review reveals several issues in a colleague\'s PR. How do you provide feedback?', options: ['Approve it anyway just to avoid any conflict at all', 'Be specific with reasoning and separate nitpicks from blockers', 'Reject it with a single comment that says needs work', 'Fix all the issues yourself and push to their branch'], correct: 1, explanation: 'Be specific and constructive. Explain reasoning. Distinguish must-fix from nice-to-have. Be kind.' },
            { tag: 'general', topic: 'Situational', question: 'You realise you introduced a bug that went to production last week. What do you do?', options: ['Hope nobody notices and fix it in the next release', 'Own up immediately then assess impact and fix it', 'Blame the code review process for missing the issue', 'Quietly fix it and backdate the commit to hide it'], correct: 1, explanation: 'Own mistakes openly. Assess impact, fix it, add tests, share learnings. Integrity builds trust.' },
            
            // ==================== WHAT WOULD YOU USE? (13) ====================
            { tag: 'general', topic: 'What Would You Use', question: 'What would you use for complex state management in a large mobile app?', options: ['Store everything in UserDefaults or SharedPreferences', 'Redux-style unidirectional flow or MVVM state containers', 'Global variables accessible from anywhere in the app', 'Pass all state through every constructor call manually'], correct: 1, explanation: 'Unidirectional data flow (Redux, TCA, MVI) or MVVM with proper state containers scales well for complex apps.' },
            { tag: 'general', topic: 'What Would You Use', question: 'What would you use to enforce code quality in a team project?', options: ['Trust that everyone always writes good code naturally', 'Linters and formatters with CI checks and PR reviews', 'Only hire senior developers who never make mistakes', 'Review every single line of code by yourself personally'], correct: 1, explanation: 'Automate with linters/formatters, enforce in CI, review PRs. Consistent standards across the team.' },
            { tag: 'general', topic: 'What Would You Use', question: 'What would you use for real-time features like chat or live updates?', options: ['Poll the server every second using HTTP requests', 'WebSockets or Server-Sent Events or Firebase Realtime', 'Refresh the page manually when the user wants updates', 'Send email notifications for every change in the system'], correct: 1, explanation: 'WebSockets for bidirectional, SSE for server-push, or real-time databases like Firebase.' },
            { tag: 'general', topic: 'What Would You Use', question: 'What would you use for user authentication in a mobile app?', options: ['Store passwords in plain text locally on device', 'OAuth tokens with biometrics and secure Keychain storage', 'Ask for the password on every single app screen', 'Use the device ID as the only authentication factor'], correct: 1, explanation: 'OAuth/OIDC for auth, short-lived tokens, refresh tokens in secure storage, biometrics for convenience.' },
            { tag: 'general', topic: 'What Would You Use', question: 'What would you use for offline-first functionality?', options: ['Show error messages whenever there is no connection', 'Local database with sync queue and conflict resolution', 'Disable the entire application when user is offline', 'Cache everything in memory and hope app stays open'], correct: 1, explanation: 'Local DB (Room, Core Data, SQLite), queue changes, sync when online, handle conflicts gracefully.' },
            { tag: 'general', topic: 'What Would You Use', question: 'What would you use for dependency injection in a mobile app?', options: ['Create all dependencies in the ViewController directly', 'Hilt or Dagger for Android or constructor injection', 'Make everything a singleton that is globally accessible', 'Use a service locator pattern with global state'], correct: 1, explanation: 'DI frameworks (Hilt, Dagger) or manual constructor injection. Makes testing and modularity easier.' },
            { tag: 'general', topic: 'What Would You Use', question: 'What would you use to handle errors and crashes in production?', options: ['Check server logs manually on your local machine', 'Crash reporting tools like Crashlytics or Sentry', 'Wait for users to email you screenshots of errors', 'Add try-catch everywhere and swallow all exceptions'], correct: 1, explanation: 'Crashlytics/Sentry for crash reports, structured logging, analytics. Proactive monitoring beats reactive.' },
            { tag: 'general', topic: 'What Would You Use', question: 'What would you use for search functionality with large datasets?', options: ['Loop through all the items in memory on every keystroke', 'Elasticsearch or Algolia or database full-text search', 'Make users type the exact string they want to find', 'Download the entire dataset to device to search locally'], correct: 1, explanation: 'Dedicated search (Elastic, Algolia) or DB full-text. Debounce input, paginate results.' },
            { tag: 'general', topic: 'What Would You Use', question: 'What would you use for caching API responses?', options: ['Never cache anything so data is always fresh', 'HTTP caching headers with local cache and TTL values', 'Store everything forever without any expiration date', 'Ask users to manually clear cache when data is stale'], correct: 1, explanation: 'HTTP cache headers, local cache with appropriate TTL, cache invalidation strategy. Balance freshness and speed.' },
            { tag: 'general', topic: 'What Would You Use', question: 'What would you use for CI/CD in a mobile project?', options: ['Build and deploy manually from a developer laptop', 'GitHub Actions or Fastlane or Bitrise with testing', 'Only run tests when you remember before you merge', 'Have one person responsible for every deployment'], correct: 1, explanation: 'Automate with CI/CD: run tests, lint, build on every PR. Fastlane for mobile-specific tasks.' },
            { tag: 'general', topic: 'What Would You Use', question: 'What would you use to manage secrets and API keys?', options: ['Hardcode them directly in the source code repo', 'Environment variables and secret managers never in git', 'Share them in the team Slack channel for convenience', 'Include them in README so new developers find them'], correct: 1, explanation: 'Secret managers, env vars, CI secrets. Never commit secrets to version control. Rotate if exposed.' },
            { tag: 'general', topic: 'What Would You Use', question: 'What would you use for image loading and caching in a mobile app?', options: ['Download images synchronously on the main thread', 'SDWebImage or Kingfisher for iOS and Coil for Android', 'Load all images at app startup and keep in memory', 'Use only placeholder images to avoid network calls'], correct: 1, explanation: 'Dedicated image libraries handle async loading, caching, memory management, placeholders, and transformations.' },
            { tag: 'general', topic: 'What Would You Use', question: 'What would you use for feature flags and A/B testing?', options: ['Hard-code toggles that require an app update to change', 'LaunchDarkly or Firebase Remote Config or similar', 'Ask users which version of a feature they prefer', 'Deploy different versions to different app stores'], correct: 1, explanation: 'Remote config services enable feature flags and A/B tests without app updates. Measure impact with analytics.' }
        ];

        const QUESTIONS_PER_ROUND = 20;
        let currentQuestion = 0;
        let score = 0;
        let answered = false;
        let roundQuestions = [];
        let results = [];
        let speechSynth = window.speechSynthesis;
        let currentUtterance = null;

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function init() {
            roundQuestions = shuffleArray(questionBank).slice(0, QUESTIONS_PER_ROUND);
            document.getElementById('totalQ').textContent = QUESTIONS_PER_ROUND;
            document.getElementById('bankInfo').textContent = `Question bank: ${questionBank.length} questions`;
            results = [];
            updateStats();
            showQuestion();
        }

        let shuffledOptions = [];
        let shuffledCorrectIndex = 0;
        
        function showQuestion() {
            const q = roundQuestions[currentQuestion];
            const tagClass = q.tag === 'ios' ? 'tag-ios' : q.tag === 'android' ? 'tag-android' : 'tag-general';
            const tagLabel = q.tag === 'ios' ? 'üçé iOS' : q.tag === 'android' ? 'ü§ñ Android' : 'üì± General';
            
            // Shuffle options and track correct answer position
            const correctAnswer = q.options[q.correct];
            shuffledOptions = shuffleArray([...q.options]);
            shuffledCorrectIndex = shuffledOptions.indexOf(correctAnswer);
            
            const html = `
                <div class="question-card">
                    <span class="question-number ${tagClass}">${tagLabel} ‚Äî ${q.topic}</span>
                    <p class="question-text">${q.question}</p>
                    <div class="options">
                        ${shuffledOptions.map((opt, i) => `
                            <div class="option" onclick="selectOption(${i})" data-index="${i}">
                                <span class="option-letter">${String.fromCharCode(65 + i)}</span>
                                <span>${opt}</span>
                            </div>
                        `).join('')}
                    </div>
                    <div class="explanation" id="explanation">
                        <div class="explanation-header">
                            <strong>üí° Explanation</strong>
                            <button class="tts-btn" onclick="toggleTTS()" id="ttsBtn">
                                üîä Listen
                            </button>
                        </div>
                        <p id="explanationText">${q.explanation}</p>
                    </div>
                    <div class="nav-buttons">
                        <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>
                            ${currentQuestion === QUESTIONS_PER_ROUND - 1 ? 'See Results' : 'Next Question'}
                        </button>
                    </div>
                </div>
            `;
            
            document.getElementById('quiz-container').innerHTML = html;
            document.getElementById('currentQ').textContent = currentQuestion + 1;
            document.getElementById('progress').style.width = ((currentQuestion + 1) / QUESTIONS_PER_ROUND * 100) + '%';
            answered = false;
        }

        function selectOption(index) {
            if (answered) return;
            answered = true;
            
            const q = roundQuestions[currentQuestion];
            const options = document.querySelectorAll('.option');
            const isCorrect = index === shuffledCorrectIndex;
            
            results.push({
                question: q.question,
                tag: q.tag,
                topic: q.topic,
                correct: isCorrect,
                userAnswer: shuffledOptions[index],
                correctAnswer: shuffledOptions[shuffledCorrectIndex]
            });
            
            options.forEach((opt, i) => {
                opt.classList.add('disabled');
                if (i === shuffledCorrectIndex) {
                    opt.classList.add('correct');
                } else if (i === index && !isCorrect) {
                    opt.classList.add('incorrect');
                }
            });
            
            if (isCorrect) {
                score++;
                document.getElementById('score').textContent = score;
            }
            
            document.getElementById('explanation').classList.add('show');
            document.getElementById('nextBtn').disabled = false;
        }

        function toggleTTS() {
            const btn = document.getElementById('ttsBtn');
            const text = document.getElementById('explanationText').textContent;
            
            if (speechSynth.speaking) {
                speechSynth.cancel();
                btn.classList.remove('speaking');
                btn.innerHTML = 'üîä Listen';
                return;
            }
            
            currentUtterance = new SpeechSynthesisUtterance(text);
            currentUtterance.rate = 1.0;
            currentUtterance.pitch = 1.0;
            
            // Try to get a good English voice
            const voices = speechSynth.getVoices();
            const englishVoice = voices.find(v => v.lang.startsWith('en') && v.name.includes('Daniel')) ||
                                 voices.find(v => v.lang.startsWith('en-GB')) ||
                                 voices.find(v => v.lang.startsWith('en'));
            if (englishVoice) currentUtterance.voice = englishVoice;
            
            currentUtterance.onstart = () => {
                btn.classList.add('speaking');
                btn.innerHTML = '‚èπÔ∏è Stop';
            };
            currentUtterance.onend = () => {
                btn.classList.remove('speaking');
                btn.innerHTML = 'üîä Listen';
            };
            currentUtterance.onerror = () => {
                btn.classList.remove('speaking');
                btn.innerHTML = 'üîä Listen';
            };
            
            speechSynth.speak(currentUtterance);
        }

        function nextQuestion() {
            // Stop any playing TTS
            if (speechSynth.speaking) {
                speechSynth.cancel();
            }
            
            currentQuestion++;
            if (currentQuestion >= QUESTIONS_PER_ROUND) {
                showResults();
            } else {
                showQuestion();
            }
        }

        function showResults() {
            document.getElementById('quiz-container').classList.add('hidden');
            document.getElementById('results').classList.add('show');
            document.getElementById('bankInfo').classList.add('hidden');
            
            const percentage = Math.round((score / QUESTIONS_PER_ROUND) * 100);
            document.getElementById('finalScore').textContent = percentage + '%';
            
            saveResults(percentage);
            
            let message = '';
            if (percentage >= 90) {
                message = 'üî• Excellent! You\'re ready to crush this interview!';
            } else if (percentage >= 70) {
                message = 'üëç Good job! Review the topics you missed.';
            } else if (percentage >= 50) {
                message = 'üìö Getting there! Spend time with the reading guides.';
            } else {
                message = 'üí™ Keep studying! Go through the cheat sheets again.';
            }
            document.getElementById('resultMessage').textContent = message;
            
            displayHistory();
        }
        
        function saveResults(percentage) {
            const history = JSON.parse(localStorage.getItem('quizHistory') || '[]');
            const attempt = {
                date: new Date().toISOString(),
                score: score,
                total: QUESTIONS_PER_ROUND,
                percentage: percentage,
                results: results
            };
            history.unshift(attempt);
            if (history.length > 10) history.pop();
            localStorage.setItem('quizHistory', JSON.stringify(history));
            localStorage.setItem('lastQuizResults', JSON.stringify(results));
            
            // Update quiz count
            const quizCount = parseInt(localStorage.getItem('quizCount') || '0') + 1;
            localStorage.setItem('quizCount', quizCount.toString());
            
            // Update best score
            const bestScore = parseInt(localStorage.getItem('bestScore') || '0');
            if (percentage > bestScore) {
                localStorage.setItem('bestScore', percentage.toString());
            }
            
            // Update display
            updateStats();
        }
        
        function updateStats() {
            const quizCount = localStorage.getItem('quizCount') || '0';
            const bestScore = localStorage.getItem('bestScore');
            document.getElementById('quizCount').textContent = quizCount;
            document.getElementById('bestScore').textContent = bestScore ? bestScore + '%' : '-';
        }
        
        function displayHistory() {
            const history = JSON.parse(localStorage.getItem('quizHistory') || '[]');
            const container = document.getElementById('historyList');
            
            if (history.length <= 1) {
                container.innerHTML = '<p style="color: #666;">Complete more quizzes to track progress!</p>';
                return;
            }
            
            container.innerHTML = history.slice(1, 6).map(h => `
                <div class="history-item">
                    <div>
                        <span class="history-score" style="color: ${h.percentage >= 70 ? '#00ff88' : h.percentage >= 50 ? '#FF9800' : '#ff4444'}">${h.percentage}%</span>
                        <span style="color: #888;"> (${h.score}/${h.total})</span>
                    </div>
                    <span class="history-date">${new Date(h.date).toLocaleDateString()}</span>
                </div>
            `).join('');
        }
        
        function viewMatrix() {
            window.location.href = 'matrix.html';
        }

        function restartQuiz() {
            currentQuestion = 0;
            score = 0;
            document.getElementById('score').textContent = 0;
            document.getElementById('quiz-container').classList.remove('hidden');
            document.getElementById('results').classList.remove('show');
            document.getElementById('bankInfo').classList.remove('hidden');
            init();
        }

        // Load voices
        speechSynthesis.onvoiceschanged = () => speechSynth.getVoices();
        
        init();
    </script>
</body>
</html>
